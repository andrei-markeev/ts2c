var ts2c=(()=>{var cy=Object.create;var Qa=Object.defineProperty;var Tp=Object.getOwnPropertyDescriptor;var py=Object.getOwnPropertyNames;var uy=Object.getPrototypeOf,yy=Object.prototype.hasOwnProperty;var gl=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(s,n)=>(typeof require<"u"?require:s)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var my=(t,s)=>()=>(s||t((s={exports:{}}).exports,s),s.exports),fy=(t,s)=>{for(var n in s)Qa(t,n,{get:s[n],enumerable:!0})},_p=(t,s,n,i)=>{if(s&&typeof s=="object"||typeof s=="function")for(let u of py(s))!yy.call(t,u)&&u!==n&&Qa(t,u,{get:()=>s[u],enumerable:!(i=Tp(s,u))||i.enumerable});return t};var Ae=(t,s,n)=>(n=t!=null?cy(uy(t)):{},_p(s||!t||!t.__esModule?Qa(n,"default",{value:t,enumerable:!0}):n,t)),xy=t=>_p(Qa({},"__esModule",{value:!0}),t),V=(t,s,n,i)=>{for(var u=i>1?void 0:i?Tp(s,n):s,m=t.length-1,x;m>=0;m--)(x=t[m])&&(u=(i?x(s,n,u):x(u))||u);return i&&u&&Qa(s,n,u),u};var Ce=my((Ai,Ep)=>{(function(t,s){typeof Ai=="object"&&typeof Ep<"u"?s(Ai):typeof define=="function"&&define.amd?define(["exports"],s):s((t=typeof globalThis<"u"?globalThis:t||self).kataw={})})(Ai,function(t){"use strict";var s,n,i;function u(e){switch(e){case t.SyntaxKind.ObjectKeyword:return"object";case t.SyntaxKind.ProtoKeyword:return"proto";case t.SyntaxKind.Add:return"+";case t.SyntaxKind.AddAssign:return"+=";case t.SyntaxKind.AnyKeyword:return"any";case t.SyntaxKind.Arrow:return"=>";case t.SyntaxKind.AsKeyword:return"as";case t.SyntaxKind.Assign:return"=";case t.SyntaxKind.AsyncKeyword:return"async";case t.SyntaxKind.AwaitKeyword:return"await";case t.SyntaxKind.BitwiseAnd:return"&";case t.SyntaxKind.BitwiseAndAssign:return"&=";case t.SyntaxKind.BitwiseOr:return"|";case t.SyntaxKind.BitwiseOrAssign:return"|=";case t.SyntaxKind.BitwiseXor:return"^";case t.SyntaxKind.BitwiseXorAssign:return"^=";case t.SyntaxKind.BooleanKeyword:return"boolean";case t.SyntaxKind.BreakKeyword:return"break";case t.SyntaxKind.CaseKeyword:return"case";case t.SyntaxKind.CatchKeyword:return"catch";case t.SyntaxKind.ClassKeyword:return"class";case t.SyntaxKind.CoalesceAssign:return"??=";case t.SyntaxKind.Colon:return":";case t.SyntaxKind.Comma:return",";case t.SyntaxKind.Complement:return"~";case t.SyntaxKind.ConstKeyword:return"const";case t.SyntaxKind.ConstructorKeyword:return"constructor";case t.SyntaxKind.ContinueKeyword:return"continue";case t.SyntaxKind.DebuggerKeyword:return"debugger";case t.SyntaxKind.DeclareKeyword:return"declare";case t.SyntaxKind.Decorator:return"@";case t.SyntaxKind.Decrement:return"--";case t.SyntaxKind.DefaultKeyword:return"default";case t.SyntaxKind.DeleteKeyword:return"delete";case t.SyntaxKind.Divide:return"/";case t.SyntaxKind.DivideAssign:return"/=";case t.SyntaxKind.DoKeyword:return"do";case t.SyntaxKind.Ellipsis:return"...";case t.SyntaxKind.ElseKeyword:return"else";case t.SyntaxKind.EmptyKeyword:return"empty";case t.SyntaxKind.EndOfFileToken:return"EndOfSource";case t.SyntaxKind.EnumKeyword:return"enum";case t.SyntaxKind.EvalIdentifier:return"eval";case t.SyntaxKind.ArgumentsIdentifier:return"arguments";case t.SyntaxKind.Exponentiate:return"**";case t.SyntaxKind.ExponentiateAssign:return"**=";case t.SyntaxKind.ExportKeyword:return"export";case t.SyntaxKind.ExtendsKeyword:return"extends";case t.SyntaxKind.FalseKeyword:return"false";case t.SyntaxKind.FinallyKeyword:return"finally";case t.SyntaxKind.ForKeyword:return"for";case t.SyntaxKind.FromKeyword:return"from";case t.SyntaxKind.FunctionKeyword:return"function";case t.SyntaxKind.GetKeyword:return"get";case t.SyntaxKind.GreaterThan:return">";case t.SyntaxKind.GreaterThanOrEqual:return">=";case t.SyntaxKind.IfKeyword:return"if";case t.SyntaxKind.ImplementsKeyword:return"implements";case t.SyntaxKind.ImportKeyword:return"import";case t.SyntaxKind.InKeyword:return"in";case t.SyntaxKind.Increment:return"++";case t.SyntaxKind.InstanceofKeyword:return"instanceof";case t.SyntaxKind.LessThan:return"<";case t.SyntaxKind.LessThanOrEqual:return"<=";case t.SyntaxKind.LetKeyword:return"let";case t.SyntaxKind.LogicalAnd:return"&&";case t.SyntaxKind.LogicalAndAssign:return"&&=";case t.SyntaxKind.LogicalOr:return"||";case t.SyntaxKind.LogicalOrAssign:return"||=";case t.SyntaxKind.LogicalShiftRight:return">>>";case t.SyntaxKind.LogicalShiftRightAssign:return">>>=";case t.SyntaxKind.LooseEqual:return"==";case t.SyntaxKind.LooseNotEqual:return"!=";case t.SyntaxKind.MixedKeyword:return"mixed";case t.SyntaxKind.Modulo:return"%";case t.SyntaxKind.ModuloAssign:return"%=";case t.SyntaxKind.Multiply:return"*";case t.SyntaxKind.MultiplyAssign:return"*=";case t.SyntaxKind.Negate:return"!";case t.SyntaxKind.NeverKeyword:return"never";case t.SyntaxKind.NewKeyword:return"new";case t.SyntaxKind.NewTarget:return"target";case t.SyntaxKind.NullKeyword:return"null";case t.SyntaxKind.NumberKeyword:return"number";case t.SyntaxKind.OfKeyword:return"of";case t.SyntaxKind.OpaqueKeyword:return"opaque";case t.SyntaxKind.PackageKeyword:return"package";case t.SyntaxKind.Period:return".";case t.SyntaxKind.PrivateKeyword:return"private";case t.SyntaxKind.ProtectedKeyword:return"protected";case t.SyntaxKind.PublicKeyword:return"public";case t.SyntaxKind.QuestionMark:return"?";case t.SyntaxKind.QuestionMarkPeriod:return"?.";case t.SyntaxKind.QuestionMarkQuestionMark:return"??";case t.SyntaxKind.ReturnKeyword:return"return";case t.SyntaxKind.Semicolon:return";";case t.SyntaxKind.SetKeyword:return"set";case t.SyntaxKind.ShiftLeft:return"<<";case t.SyntaxKind.ShiftLeftAssign:return"<<=";case t.SyntaxKind.ShiftRight:return">>";case t.SyntaxKind.ShiftRightAssign:return">>=";case t.SyntaxKind.StaticKeyword:return"static";case t.SyntaxKind.StrictEqual:return"===";case t.SyntaxKind.StrictNotEqual:return"!==";case t.SyntaxKind.StringKeyword:return"string";case t.SyntaxKind.Subtract:return"-";case t.SyntaxKind.SubtractAssign:return"-=";case t.SyntaxKind.SuperKeyword:return"super";case t.SyntaxKind.SwitchKeyword:return"switch";case t.SyntaxKind.SymbolKeyword:return"symbol";case t.SyntaxKind.Target:return"target";case t.SyntaxKind.ThisKeyword:return"this";case t.SyntaxKind.ThrowKeyword:return"throw";case t.SyntaxKind.TrueKeyword:return"true";case t.SyntaxKind.TryKeyword:return"try";case t.SyntaxKind.TypeKeyword:return"type";case t.SyntaxKind.TypeofKeyword:case t.SyntaxKind.TypeofType:return"typeof";case t.SyntaxKind.UndefinedKeyword:return"undefined";case t.SyntaxKind.UnknownKeyword:return"unknown";case t.SyntaxKind.VarKeyword:return"var";case t.SyntaxKind.VoidKeyword:return"void";case t.SyntaxKind.WhileKeyword:return"while";case t.SyntaxKind.WithKeyword:return"with";case t.SyntaxKind.YieldKeyword:return"yield";case t.SyntaxKind.Meta:return"meta";case t.SyntaxKind.Subtract:return"-";case t.SyntaxKind.RightParen:return")";case t.SyntaxKind.LeftParen:return"(";case t.SyntaxKind.RightBrace:return"}";case t.SyntaxKind.LeftBrace:return"{";case t.SyntaxKind.RightBracket:return"]";case t.SyntaxKind.LeftBracket:return"[";default:return"; "}}t.NodeFlags=void 0,(s=t.NodeFlags||(t.NodeFlags={}))[s.None=0]="None",s[s.NewLine=1]="NewLine",s[s.NoneSimpleParamList=2]="NoneSimpleParamList",s[s.PrototypeField=4]="PrototypeField",s[s.DisallowIn=8]="DisallowIn",s[s.IsStatement=16]="IsStatement",s[s.ExpressionNode=32]="ExpressionNode",s[s.NoChildren=64]="NoChildren",s[s.Generator=128]="Generator",s[s.Async=256]="Async",s[s.Setter=512]="Setter",s[s.Getter=1024]="Getter",s[s.Constructor=2048]="Constructor",s[s.Declared=4096]="Declared",s[s.ExtendedUnicodeEscape=8192]="ExtendedUnicodeEscape",s[s.UnicodeEscape=16384]="UnicodeEscape",s[s.FloatingPointLiteral=32768]="FloatingPointLiteral",s[s.ContainsSeparator=65536]="ContainsSeparator",s[s.LegacyOctal=131072]="LegacyOctal",s[s.OctalIntegerLiteral=262144]="OctalIntegerLiteral",s[s.BinaryIntegerLiteral=524288]="BinaryIntegerLiteral",s[s.HexIntegerLiteral=1048576]="HexIntegerLiteral",s[s.IsTypeNode=2097152]="IsTypeNode",s[s.SingleQuote=4194304]="SingleQuote",s[s.ContainsInvalidEscape=8388608]="ContainsInvalidEscape",s[s.Const=16777216]="Const",s[s.Lexical=33554432]="Lexical",s[s.IgnoreNextNode=67108864]="IgnoreNextNode",s[s.TemplateLiteral=134217728]="TemplateLiteral",s[s.Globals=268435456]="Globals",s[s.Pragma=536870912]="Pragma",s[s.DisallowTrailingComma=1073741824]="DisallowTrailingComma",function(e){e[e.None=0]="None",e[e.CallExpression=1]="CallExpression",e[e.IndexExpression=2]="IndexExpression",e[e.MemberAccessExpression=4]="MemberAccessExpression",e[e.ArrayOrObjectLiteral=8]="ArrayOrObjectLiteral",e[e.EqualityOperators=16]="EqualityOperators",e[e.MultiplicativeOperators=32]="MultiplicativeOperators",e[e.BitshiftOperators=64]="BitshiftOperators",e[e.ShouldIndentIfInlining=128]="ShouldIndentIfInlining",e[e.ShouldNotIndent=256]="ShouldNotIndent",e[e.TypeParameter=512]="TypeParameter",e[e.CanBreak=1024]="CanBreak",e[e.NewExpression=2048]="NewExpression",e[e.ArrowFolding=4096]="ArrowFolding",e[e.SpaceBeforeOperand=8192]="SpaceBeforeOperand",e[e.PrefixUpdateOrUnary=16384]="PrefixUpdateOrUnary"}(n||(n={})),t.SyntaxKind=void 0,(i=t.SyntaxKind||(t.SyntaxKind={}))[i.Add=100914]="Add",i[i.AddAssign=4130]="AddAssign",i[i.AnyKeyword=134234252]="AnyKeyword",i[i.ArgumentList=256]="ArgumentList",i[i.ArgumentsIdentifier=16635]="ArgumentsIdentifier",i[i.BindingElement=281]="BindingElement",i[i.ArrayBindingPattern=201]="ArrayBindingPattern",i[i.ArrayLiteral=119]="ArrayLiteral",i[i.ArrayType=136]="ArrayType",i[i.Arrow=10]="Arrow",i[i.ArrowFunction=271]="ArrowFunction",i[i.AsKeyword=16494]="AsKeyword",i[i.Assign=4125]="Assign",i[i.AssignmentExpression=125]="AssignmentExpression",i[i.AsyncKeyword=82031]="AsyncKeyword",i[i.AwaitExpression=208]="AwaitExpression",i[i.BinaryExpression=198]="BinaryExpression",i[i.BindingElementList=324]="BindingElementList",i[i.Clauses=383]="Clauses",i[i.BindingList=151]="BindingList",i[i.ForBinding=341]="ForBinding",i[i.ArrowParameterList=342]="ArrowParameterList",i[i.BindingProperty=329]="BindingProperty",i[i.BindingPropertyList=213]="BindingPropertyList",i[i.BitwiseAnd=134252103]="BitwiseAnd",i[i.BitwiseAndAssign=4137]="BitwiseAndAssign",i[i.BitwiseOr=134251592]="BitwiseOr",i[i.BitwiseOrAssign=4136]="BitwiseOrAssign",i[i.BitwiseXor=134251849]="BitwiseXor",i[i.BitwiseXorAssign=4135]="BitwiseXorAssign",i[i.RestType=333]="RestType",i[i.OptionalType=334]="OptionalType",i[i.OptionalIndexedAccess=332]="OptionalIndexedAccess",i[i.Block=249]="Block",i[i.BlockStatement=124]="BlockStatement",i[i.BooleanKeyword=134234254]="BooleanKeyword",i[i.BooleanType=321]="BooleanType",i[i.BreakKeyword=37757005]="BreakKeyword",i[i.BreakStatement=150]="BreakStatement",i[i.CallChain=204]="CallChain",i[i.CallExpression=131]="CallExpression",i[i.CarriageReturn=275]="CarriageReturn",i[i.CaseBlock=152]="CaseBlock",i[i.CaseClause=175]="CaseClause",i[i.CaseKeyword=4194382]="CaseKeyword",i[i.Catch=173]="Catch",i[i.CatchKeyword=4202575]="CatchKeyword",i[i.CatchParameter=174]="CatchParameter",i[i.ClassDeclaration=178]="ClassDeclaration",i[i.ClassElement=278]="ClassElement",i[i.ClassTail=277]="ClassTail",i[i.ClassExpression=189]="ClassExpression",i[i.ClassHeritage=279]="ClassHeritage",i[i.ClassKeyword=37822544]="ClassKeyword",i[i.CoalesceAssign=4140]="CoalesceAssign",i[i.Colon=21]="Colon",i[i.Comma=2097170]="Comma",i[i.CommaOperator=132]="CommaOperator",i[i.Complement=65585]="Complement",i[i.ComputedPropertyName=194]="ComputedPropertyName",i[i.ConditionalExpression=197]="ConditionalExpression",i[i.ConstKeyword=37757004]="ConstKeyword",i[i.ConstructorKeyword=16497]="ConstructorKeyword",i[i.ContinueKeyword=37757009]="ContinueKeyword",i[i.ContinueStatement=172]="ContinueStatement",i[i.CoverInitializedName=301]="CoverInitializedName",i[i.DebuggerKeyword=37757010]="DebuggerKeyword",i[i.DebuggerStatement=171]="DebuggerStatement",i[i.DeclareKeyword=82165]="DeclareKeyword",i[i.Decorator=34611453]="Decorator",i[i.DecoratorList=207]="DecoratorList",i[i.Decrement=196636]="Decrement",i[i.DefaultClause=170]="DefaultClause",i[i.DefaultKeyword=4194387]="DefaultKeyword",i[i.DeleteKeyword=4259886]="DeleteKeyword",i[i.Divide=35640]="Divide",i[i.DivideAssign=4133]="DivideAssign",i[i.DoKeyword=4202580]="DoKeyword",i[i.DoWhileStatement=169]="DoWhileStatement",i[i.DoubleQuote=26]="DoubleQuote",i[i.DummyIdentifier=16637]="DummyIdentifier",i[i.ElementList=270]="ElementList",i[i.Ellipsis=524302]="Ellipsis",i[i.ElseKeyword=4194389]="ElseKeyword",i[i.EmptyKeyword=134234348]="EmptyKeyword",i[i.EmptyStatement=168]="EmptyStatement",i[i.EndOfFileToken=1048699]="EndOfFileToken",i[i.EnumKeyword=4194554]="EnumKeyword",i[i.EscapedKeyword=276]="EscapedKeyword",i[i.EvalIdentifier=16634]="EvalIdentifier",i[i.Exponentiate=35897]="Exponentiate",i[i.ExponentiateAssign=4129]="ExponentiateAssign",i[i.ExportDeclaration=257]="ExportDeclaration",i[i.ExportDefault=258]="ExportDefault",i[i.ExportFromClause=259]="ExportFromClause",i[i.ExportKeyword=4202582]="ExportKeyword",i[i.ExportSpecifier=291]="ExportSpecifier",i[i.ExportsList=289]="ExportsList",i[i.ExpressionStatement=120]="ExpressionStatement",i[i.ExtendsKeyword=4194391]="ExtendsKeyword",i[i.FalseKeyword=205586437]="FalseKeyword",i[i.FieldDefinition=280]="FieldDefinition",i[i.FinallyKeyword=37757016]="FinallyKeyword",i[i.ForInStatement=166]="ForInStatement",i[i.ForKeyword=37757017]="ForKeyword",i[i.ForOfStatement=167]="ForOfStatement",i[i.ForStatement=165]="ForStatement",i[i.FormalParameterList=214]="FormalParameterList",i[i.FromClause=325]="FromClause",i[i.FromKeyword=16500]="FromKeyword",i[i.FunctionBody=216]="FunctionBody",i[i.FunctionDeclaration=176]="FunctionDeclaration",i[i.FunctionExpression=177]="FunctionExpression",i[i.FunctionKeyword=37822554]="FunctionKeyword",i[i.FunctionStatementList=217]="FunctionStatementList",i[i.FunctionType=148]="FunctionType",i[i.FunctionTypeParameter=149]="FunctionTypeParameter",i[i.FunctionTypeParameterList=282]="FunctionTypeParameterList",i[i.TypeReference=144]="TypeReference",i[i.GetKeyword=16498]="GetKeyword",i[i.GreaterThan=34883]="GreaterThan",i[i.GreaterThanOrEqual=34881]="GreaterThanOrEqual",i[i.HTMLCloseComment=261]="HTMLCloseComment",i[i.HTMLOpenComment=260]="HTMLOpenComment",i[i.Identifier=134299649]="Identifier",i[i.IfKeyword=37757019]="IfKeyword",i[i.IfStatement=164]="IfStatement",i[i.ImplementsKeyword=8388710]="ImplementsKeyword",i[i.ImportCall=206]="ImportCall",i[i.ImportClause=262]="ImportClause",i[i.ImportDeclaration=263]="ImportDeclaration",i[i.ImportKeyword=37814364]="ImportKeyword",i[i.ImportMeta=299]="ImportMeta",i[i.ImportSpecifier=264]="ImportSpecifier",i[i.ImportsList=265]="ImportsList",i[i.InKeyword=21006388]="InKeyword",i[i.Increment=196635]="Increment",i[i.IndexExpression=129]="IndexExpression",i[i.IndexExpressionChain=202]="IndexExpressionChain",i[i.InstanceofKeyword=4229173]="InstanceofKeyword",i[i.InterfaceDeclaration=191]="InterfaceDeclaration",i[i.InterfaceExtends=192]="InterfaceExtends",i[i.IntersectionType=138]="IntersectionType",i[i.IsAssignOp=4096]="IsAssignOp",i[i.IsBinaryOp=32768]="IsBinaryOp",i[i.IsComma=2097152]="IsComma",i[i.IsEllipsis=524288]="IsEllipsis",i[i.IsExpressionStart=65536]="IsExpressionStart",i[i.IsFutureReserved=8388608]="IsFutureReserved",i[i.IsIdentifier=16384]="IsIdentifier",i[i.IsInOrOf=16777216]="IsInOrOf",i[i.IsKeyword=4194304]="IsKeyword",i[i.IsLessThanOrLeftParen=536870912]="IsLessThanOrLeftParen",i[i.IsMember=262144]="IsMember",i[i.IsPatternStart=268435456]="IsPatternStart",i[i.IsProperty=67108864]="IsProperty",i[i.IsPropertyOrCall=131072]="IsPropertyOrCall",i[i.IsSemicolon=1073741824]="IsSemicolon",i[i.IsStartOfType=134217728]="IsStartOfType",i[i.IsStatementStart=8192]="IsStatementStart",i[i.IsSwitchClause=33554432]="IsSwitchClause",i[i.LabelledStatement=163]="LabelledStatement",i[i.Labels=324]="Labels",i[i.LeftBrace=268501004]="LeftBrace",i[i.LeftBracket=336003091]="LeftBracket",i[i.LeftParen=537067531]="LeftParen",i[i.LessThan=536971330]="LessThan",i[i.LessThanOrEqual=34880]="LessThanOrEqual",i[i.LetKeyword=41951307]="LetKeyword",i[i.LexicalBinding=190]="LexicalBinding",i[i.LexicalDeclaration=162]="LexicalDeclaration",i[i.LineFeed=273]="LineFeed",i[i.LogicalAnd=33594]="LogicalAnd",i[i.LogicalAndAssign=4139]="LogicalAndAssign",i[i.LogicalOr=33339]="LogicalOr",i[i.LogicalOrAssign=4138]="LogicalOrAssign",i[i.LogicalShiftRight=35142]="LogicalShiftRight",i[i.LogicalShiftRightAssign=4128]="LogicalShiftRightAssign",i[i.LooseEqual=34622]="LooseEqual",i[i.LooseNotEqual=34623]="LooseNotEqual",i[i.MemberAccessChain=203]="MemberAccessChain",i[i.MemberAccessExpression=130]="MemberAccessExpression",i[i.Meta=16595]="Meta",i[i.MethodDefinition=209]="MethodDefinition",i[i.MixedKeyword=134234344]="MixedKeyword",i[i.Modulo=35639]="Modulo",i[i.ModuloAssign=4134]="ModuloAssign",i[i.MultiLineComment=320]="MultiLineComment",i[i.Multiply=201362230]="Multiply",i[i.MultiplyAssign=4132]="MultiplyAssign",i[i.NameSpaceImport=255]="NameSpaceImport",i[i.NamedExports=266]="NamedExports",i[i.NamedImports=267]="NamedImports",i[i.NamespaceExportDeclaration=268]="NamespaceExportDeclaration",i[i.Negate=65584]="Negate",i[i.NeverKeyword=134234349]="NeverKeyword",i[i.NewExpression=210]="NewExpression",i[i.NewKeyword=138477661]="NewKeyword",i[i.NewTarget=211]="NewTarget",i[i.NullKeyword=138477575]="NullKeyword",i[i.NullLiteral=269]="NullLiteral",i[i.NullableType=134217970]="NullableType",i[i.NumberKeyword=134234345]="NumberKeyword",i[i.NumberType=134217968]="NumberType",i[i.NumericLiteral=201392130]="NumericLiteral",i[i.ObjectBindingPattern=212]="ObjectBindingPattern",i[i.ObjectLiteral=220]="ObjectLiteral",i[i.ObjectType=134234353]="ObjectType",i[i.CallSignature=196]="CallSignature",i[i.IndexSignatureDeclaration=195]="IndexSignatureDeclaration",i[i.InternalSlot=248]="InternalSlot",i[i.TypeProperty=193]="TypeProperty",i[i.TypeSpreadProperty=247]="TypeSpreadProperty",i[i.OfKeyword=16793717]="OfKeyword",i[i.Elison=230]="Elison",i[i.OpaqueKeyword=24822]="OpaqueKeyword",i[i.OptionalChain=302]="OptionalChain",i[i.OptionalExpression=205]="OptionalExpression",i[i.PackageKeyword=8388712]="PackageKeyword",i[i.ParenthesizedExpression=121]="ParenthesizedExpression",i[i.Period=131085]="Period",i[i.PostfixUpdateExpression=127]="PostfixUpdateExpression",i[i.PrecStart=8]="PrecStart",i[i.Precedence=3840]="Precedence",i[i.PrefixUpdateExpression=128]="PrefixUpdateExpression",i[i.PrivateIdentifier=67191035]="PrivateIdentifier",i[i.PrivateKeyword=8388713]="PrivateKeyword",i[i.PrologueDirective=318]="PrologueDirective",i[i.PropertyDefinition=219]="PropertyDefinition",i[i.PropertyDefinitionList=218]="PropertyDefinitionList",i[i.PropertyList=272]="PropertyList",i[i.PropertyMethod=351]="PropertyMethod",i[i.ProtectedKeyword=8388714]="ProtectedKeyword",i[i.PublicKeyword=8388715]="PublicKeyword",i[i.QualifiedType=145]="QualifiedType",i[i.QuestionMark=134217750]="QuestionMark",i[i.QuestionMarkPeriod=393240]="QuestionMarkPeriod",i[i.QuestionMarkQuestionMark=33047]="QuestionMarkQuestionMark",i[i.RegularExpression=65540]="RegularExpression",i[i.RegularExpressionLiteral=371]="RegularExpressionLiteral",i[i.ReturnKeyword=37757022]="ReturnKeyword",i[i.ReturnStatement=161]="ReturnStatement",i[i.RightBrace=1048591]="RightBrace",i[i.RightBracket=20]="RightBracket",i[i.RightParen=16]="RightParen",i[i.RootNode=122]="RootNode",i[i.Semicolon=1108353041]="Semicolon",i[i.SetKeyword=16499]="SetKeyword",i[i.ShiftLeft=35140]="ShiftLeft",i[i.ShiftLeftAssign=4126]="ShiftLeftAssign",i[i.ShiftRight=35141]="ShiftRight",i[i.ShiftRightAssign=4127]="ShiftRightAssign",i[i.SingleLineComment=315]="SingleLineComment",i[i.SingleQuote=25]="SingleQuote",i[i.Smi=1048576]="Smi",i[i.SpreadElement=223]="SpreadElement",i[i.SpreadProperty=224]="SpreadProperty",i[i.StaticKeyword=8388716]="StaticKeyword",i[i.StrictEqual=34620]="StrictEqual",i[i.StrictNotEqual=34621]="StrictNotEqual",i[i.StringKeyword=134234347]="StringKeyword",i[i.StringLiteral=201392131]="StringLiteral",i[i.StringType=134217967]="StringType",i[i.Subtract=134318643]="Subtract",i[i.SubtractAssign=4131]="SubtractAssign",i[i.SuperKeyword=4259935]="SuperKeyword",i[i.SwitchKeyword=37757024]="SwitchKeyword",i[i.SwitchStatement=160]="SwitchStatement",i[i.SymbolKeyword=134234343]="SymbolKeyword",i[i.TaggedTemplate=226]="TaggedTemplate",i[i.Target=16594]="Target",i[i.TemplateCont=458760]="TemplateCont",i[i.TemplateExpression=227]="TemplateExpression",i[i.TemplateSpan=65764]="TemplateSpan",i[i.TemplateTail=458761]="TemplateTail",i[i.ThisKeyword=4276321]="ThisKeyword",i[i.ThrowKeyword=37757026]="ThrowKeyword",i[i.ThrowStatement=158]="ThrowStatement",i[i.TrueKeyword=24752947]="TrueKeyword",i[i.TryKeyword=37757027]="TryKeyword",i[i.TryStatement=159]="TryStatement",i[i.TupleType=147]="TupleType",i[i.Type=255]="Type",i[i.TypeAlias=200]="TypeAlias",i[i.TypeAnnotation=139]="TypeAnnotation",i[i.TypeKeyword=24775]="TypeKeyword",i[i.TypeParameter=146]="TypeParameter",i[i.TypeofKeyword=138477613]="TypeofKeyword",i[i.TypeofType=134299891]="TypeofType",i[i.UnaryExpression=126]="UnaryExpression",i[i.UndefinedKeyword=134234253]="UndefinedKeyword",i[i.UnionType=137]="UnionType",i[i.UniqueIdentifier=254]="UniqueIdentifier",i[i.UnknownKeyword=134234255]="UnknownKeyword",i[i.UnknownToken=118]="UnknownToken",i[i.VarKeyword=37757002]="VarKeyword",i[i.VariableDeclaration=157]="VariableDeclaration",i[i.VariableDeclarationList=156]="VariableDeclarationList",i[i.VariableStatement=155]="VariableStatement",i[i.VoidKeyword=138477615]="VoidKeyword",i[i.WhileKeyword=37757028]="WhileKeyword",i[i.WhileStatement=154]="WhileStatement",i[i.Whitespace=274]="Whitespace",i[i.WithKeyword=37757029]="WithKeyword",i[i.WithStatement=153]="WithStatement",i[i.YieldExpression=229]="YieldExpression",i[i.YieldKeyword=8454253]="YieldKeyword",i[i.ParenthesizedType=290]="ParenthesizedType",i[i.ArrowFunctionType=288]="ArrowFunctionType",i[i.AwaitKeyword=82196]="AwaitKeyword",i[i.ClassBody=303]="ClassBody",i[i.StaticBlock=305]="StaticBlock",i[i.FunctionAnnotation=306]="FunctionAnnotation",i[i.TypeParameterDeclaration=307]="TypeParameterDeclaration",i[i.TypeParameterInstantiation=310]="TypeParameterInstantiation",i[i.IndexedAccessType=311]="IndexedAccessType",i[i.OpaqueType=312]="OpaqueType",i[i.Hyphen=16654]="Hyphen",i[i.SubtractionType=313]="SubtractionType",i[i.BigIntLiteral=201392400]="BigIntLiteral",i[i.ProtoKeyword=16873]="ProtoKeyword",i[i.ArrowTypeParameterList=292]="ArrowTypeParameterList",i[i.ArrowTypeParameter=284]="ArrowTypeParameter",i[i.BigIntType=286]="BigIntType",i[i.ObjectKeyword=134234474]="ObjectKeyword";let m={__proto__:null,this:t.SyntaxKind.ThisKeyword,function:t.SyntaxKind.FunctionKeyword,if:t.SyntaxKind.IfKeyword,return:t.SyntaxKind.ReturnKeyword,var:t.SyntaxKind.VarKeyword,else:t.SyntaxKind.ElseKeyword,for:t.SyntaxKind.ForKeyword,new:t.SyntaxKind.NewKeyword,in:t.SyntaxKind.InKeyword,typeof:t.SyntaxKind.TypeofKeyword,while:t.SyntaxKind.WhileKeyword,case:t.SyntaxKind.CaseKeyword,break:t.SyntaxKind.BreakKeyword,try:t.SyntaxKind.TryKeyword,catch:t.SyntaxKind.CatchKeyword,delete:t.SyntaxKind.DeleteKeyword,throw:t.SyntaxKind.ThrowKeyword,switch:t.SyntaxKind.SwitchKeyword,continue:t.SyntaxKind.ContinueKeyword,default:t.SyntaxKind.DefaultKeyword,instanceof:t.SyntaxKind.InstanceofKeyword,do:t.SyntaxKind.DoKeyword,void:t.SyntaxKind.VoidKeyword,finally:t.SyntaxKind.FinallyKeyword,async:t.SyntaxKind.AsyncKeyword,await:t.SyntaxKind.AwaitKeyword,class:t.SyntaxKind.ClassKeyword,const:t.SyntaxKind.ConstKeyword,constructor:t.SyntaxKind.ConstructorKeyword,debugger:t.SyntaxKind.DebuggerKeyword,export:t.SyntaxKind.ExportKeyword,extends:t.SyntaxKind.ExtendsKeyword,false:t.SyntaxKind.FalseKeyword,from:t.SyntaxKind.FromKeyword,get:t.SyntaxKind.GetKeyword,implements:t.SyntaxKind.ImplementsKeyword,import:t.SyntaxKind.ImportKeyword,let:t.SyntaxKind.LetKeyword,null:t.SyntaxKind.NullKeyword,of:t.SyntaxKind.OfKeyword,package:t.SyntaxKind.PackageKeyword,private:t.SyntaxKind.PrivateKeyword,protected:t.SyntaxKind.ProtectedKeyword,public:t.SyntaxKind.PublicKeyword,set:t.SyntaxKind.SetKeyword,static:t.SyntaxKind.StaticKeyword,super:t.SyntaxKind.SuperKeyword,true:t.SyntaxKind.TrueKeyword,with:t.SyntaxKind.WithKeyword,yield:t.SyntaxKind.YieldKeyword,target:t.SyntaxKind.Target,meta:t.SyntaxKind.Meta,string:t.SyntaxKind.StringKeyword,number:t.SyntaxKind.NumberKeyword,boolean:t.SyntaxKind.BooleanKeyword,symbol:t.SyntaxKind.SymbolKeyword,any:t.SyntaxKind.AnyKeyword,declare:t.SyntaxKind.DeclareKeyword,type:t.SyntaxKind.TypeKeyword,never:t.SyntaxKind.NeverKeyword,unknown:t.SyntaxKind.UnknownKeyword,object:t.SyntaxKind.ObjectKeyword,undefined:t.SyntaxKind.UndefinedKeyword,opaque:t.SyntaxKind.OpaqueKeyword,eval:t.SyntaxKind.EvalIdentifier,arguments:t.SyntaxKind.ArgumentsIdentifier,as:t.SyntaxKind.AsKeyword,proto:t.SyntaxKind.ProtoKeyword};function x(e,r,a,o){let l=n.None;return e!==t.SyntaxKind.ShiftRight&&e!==t.SyntaxKind.LogicalShiftRight&&e!==t.SyntaxKind.ShiftLeft||(l|=n.BitshiftOperators),e!==t.SyntaxKind.StrictEqual&&e!==t.SyntaxKind.LooseNotEqual&&e!==t.SyntaxKind.LooseEqual&&e!==t.SyntaxKind.StrictNotEqual||(l|=n.EqualityOperators),e!==t.SyntaxKind.Multiply&&e!==t.SyntaxKind.Modulo&&e!==t.SyntaxKind.Divide||(l|=n.MultiplicativeOperators),{kind:e,flags:r,transformFlags:l,start:a,end:o}}let k=[0,0,0,0,0,0,0,0,0,0,8,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,1024,0,146,146,146,146,146,146,146,146,146,146,0,0,1024,0,2048,0,0,131,387,131,131,643,131,3,3,3,3,3,3,3,3,259,3,3,3,3,3,3,3,3,259,3,3,0,16385,0,0,35,0,131,387,131,8323,643,131,8195,3,8195,3,3,3,8195,259,259,3,3,3,8195,3,8195,3,3,259,8195,3,1024,0,2048,0,0],y=[t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.Whitespace,t.SyntaxKind.LineFeed,t.SyntaxKind.Whitespace,t.SyntaxKind.Whitespace,t.SyntaxKind.CarriageReturn,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.Whitespace,t.SyntaxKind.Negate,t.SyntaxKind.StringLiteral,t.SyntaxKind.PrivateIdentifier,t.SyntaxKind.Identifier,t.SyntaxKind.Modulo,t.SyntaxKind.BitwiseAnd,t.SyntaxKind.StringLiteral,t.SyntaxKind.LeftParen,t.SyntaxKind.RightParen,t.SyntaxKind.Multiply,t.SyntaxKind.Add,t.SyntaxKind.Comma,t.SyntaxKind.Subtract,t.SyntaxKind.Period,t.SyntaxKind.Divide,t.SyntaxKind.NumericLiteral,t.SyntaxKind.NumericLiteral,t.SyntaxKind.NumericLiteral,t.SyntaxKind.NumericLiteral,t.SyntaxKind.NumericLiteral,t.SyntaxKind.NumericLiteral,t.SyntaxKind.NumericLiteral,t.SyntaxKind.NumericLiteral,t.SyntaxKind.NumericLiteral,t.SyntaxKind.NumericLiteral,t.SyntaxKind.Colon,t.SyntaxKind.Semicolon,t.SyntaxKind.LessThan,t.SyntaxKind.Assign,t.SyntaxKind.GreaterThan,t.SyntaxKind.QuestionMark,t.SyntaxKind.Decorator,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.LeftBracket,t.SyntaxKind.EscapedKeyword,t.SyntaxKind.RightBracket,t.SyntaxKind.BitwiseXor,t.SyntaxKind.Identifier,t.SyntaxKind.TemplateTail,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.IsKeyword,t.SyntaxKind.LeftBrace,t.SyntaxKind.BitwiseOr,t.SyntaxKind.RightBrace,t.SyntaxKind.Complement,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.Whitespace,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.Identifier,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.Identifier,t.SyntaxKind.UnknownToken,t.SyntaxKind.Identifier,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.Identifier,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.UnknownToken,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.UnknownToken,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.UnknownToken,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier,t.SyntaxKind.Identifier],N=[65,90,97,122,170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,895,895,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1327,1329,1366,1369,1369,1376,1416,1488,1514,1519,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2144,2154,2208,2228,2230,2237,2308,2361,2365,2365,2384,2384,2392,2401,2417,2432,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2556,2556,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2809,2809,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3129,3133,3133,3160,3162,3168,3169,3200,3200,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3412,3414,3423,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3718,3722,3724,3747,3749,3749,3751,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5109,5112,5117,5121,5740,5743,5759,5761,5786,5792,5866,5870,5880,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6264,6272,6312,6314,6314,6320,6389,6400,6430,6480,6509,6512,6516,6528,6571,6576,6601,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7296,7304,7312,7354,7357,7359,7401,7404,7406,7411,7413,7414,7418,7418,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8472,8477,8484,8484,8486,8486,8488,8488,8490,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12443,12447,12449,12538,12540,12543,12549,12591,12593,12686,12704,12730,12784,12799,13312,19893,19968,40943,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42653,42656,42735,42775,42783,42786,42888,42891,42943,42946,42950,42999,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43261,43262,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43488,43492,43494,43503,43514,43518,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43646,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43824,43866,43868,43879,43888,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500,65536,65547,65549,65574,65576,65594,65596,65597,65599,65613,65616,65629,65664,65786,65856,65908,66176,66204,66208,66256,66304,66335,66349,66378,66384,66421,66432,66461,66464,66499,66504,66511,66513,66517,66560,66717,66736,66771,66776,66811,66816,66855,66864,66915,67072,67382,67392,67413,67424,67431,67584,67589,67592,67592,67594,67637,67639,67640,67644,67644,67647,67669,67680,67702,67712,67742,67808,67826,67828,67829,67840,67861,67872,67897,67968,68023,68030,68031,68096,68096,68112,68115,68117,68119,68121,68149,68192,68220,68224,68252,68288,68295,68297,68324,68352,68405,68416,68437,68448,68466,68480,68497,68608,68680,68736,68786,68800,68850,68864,68899,69376,69404,69415,69415,69424,69445,69600,69622,69635,69687,69763,69807,69840,69864,69891,69926,69956,69956,69968,70002,70006,70006,70019,70066,70081,70084,70106,70106,70108,70108,70144,70161,70163,70187,70272,70278,70280,70280,70282,70285,70287,70301,70303,70312,70320,70366,70405,70412,70415,70416,70419,70440,70442,70448,70450,70451,70453,70457,70461,70461,70480,70480,70493,70497,70656,70708,70727,70730,70751,70751,70784,70831,70852,70853,70855,70855,71040,71086,71128,71131,71168,71215,71236,71236,71296,71338,71352,71352,71424,71450,71680,71723,71840,71903,71935,71935,72096,72103,72106,72144,72161,72161,72163,72163,72192,72192,72203,72242,72250,72250,72272,72272,72284,72329,72349,72349,72384,72440,72704,72712,72714,72750,72768,72768,72818,72847,72960,72966,72968,72969,72971,73008,73030,73030,73056,73061,73063,73064,73066,73097,73112,73112,73440,73458,73728,74649,74752,74862,74880,75075,77824,78894,82944,83526,92160,92728,92736,92766,92880,92909,92928,92975,92992,92995,93027,93047,93053,93071,93760,93823,93952,94026,94032,94032,94099,94111,94176,94177,94179,94179,94208,100343,100352,101106,110592,110878,110928,110930,110948,110951,110960,111355,113664,113770,113776,113788,113792,113800,113808,113817,119808,119892,119894,119964,119966,119967,119970,119970,119973,119974,119977,119980,119982,119993,119995,119995,119997,120003,120005,120069,120071,120074,120077,120084,120086,120092,120094,120121,120123,120126,120128,120132,120134,120134,120138,120144,120146,120485,120488,120512,120514,120538,120540,120570,120572,120596,120598,120628,120630,120654,120656,120686,120688,120712,120714,120744,120746,120770,120772,120779,123136,123180,123191,123197,123214,123214,123584,123627,124928,125124,125184,125251,125259,125259,126464,126467,126469,126495,126497,126498,126500,126500,126503,126503,126505,126514,126516,126519,126521,126521,126523,126523,126530,126530,126535,126535,126537,126537,126539,126539,126541,126543,126545,126546,126548,126548,126551,126551,126553,126553,126555,126555,126557,126557,126559,126559,126561,126562,126564,126564,126567,126570,126572,126578,126580,126583,126585,126588,126590,126590,126592,126601,126603,126619,126625,126627,126629,126633,126635,126651,131072,173782,173824,177972,177984,178205,178208,183969,183984,191456,194560,195101],E=[48,57,65,90,95,95,97,122,170,170,181,181,183,183,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,895,895,902,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1327,1329,1366,1369,1369,1376,1416,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1519,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2045,2045,2048,2093,2112,2139,2144,2154,2208,2228,2230,2237,2259,2273,2275,2403,2406,2415,2417,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2556,2556,2558,2558,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2809,2815,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3072,3084,3086,3088,3090,3112,3114,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3162,3168,3171,3174,3183,3200,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3328,3331,3333,3340,3342,3344,3346,3396,3398,3400,3402,3406,3412,3415,3423,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3558,3567,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3718,3722,3724,3747,3749,3749,3751,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4969,4977,4992,5007,5024,5109,5112,5117,5121,5740,5743,5759,5761,5786,5792,5866,5870,5880,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6264,6272,6314,6320,6389,6400,6430,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6618,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6832,6845,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7296,7304,7312,7354,7357,7359,7376,7378,7380,7418,7424,7673,7675,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8472,8477,8484,8484,8486,8486,8488,8488,8490,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12447,12449,12538,12540,12543,12549,12591,12593,12686,12704,12730,12784,12799,13312,19893,19968,40943,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42737,42775,42783,42786,42888,42891,42943,42946,42950,42999,43047,43072,43123,43136,43205,43216,43225,43232,43255,43259,43259,43261,43309,43312,43347,43360,43388,43392,43456,43471,43481,43488,43518,43520,43574,43584,43597,43600,43609,43616,43638,43642,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43824,43866,43868,43879,43888,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65071,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500,65536,65547,65549,65574,65576,65594,65596,65597,65599,65613,65616,65629,65664,65786,65856,65908,66045,66045,66176,66204,66208,66256,66272,66272,66304,66335,66349,66378,66384,66426,66432,66461,66464,66499,66504,66511,66513,66517,66560,66717,66720,66729,66736,66771,66776,66811,66816,66855,66864,66915,67072,67382,67392,67413,67424,67431,67584,67589,67592,67592,67594,67637,67639,67640,67644,67644,67647,67669,67680,67702,67712,67742,67808,67826,67828,67829,67840,67861,67872,67897,67968,68023,68030,68031,68096,68099,68101,68102,68108,68115,68117,68119,68121,68149,68152,68154,68159,68159,68192,68220,68224,68252,68288,68295,68297,68326,68352,68405,68416,68437,68448,68466,68480,68497,68608,68680,68736,68786,68800,68850,68864,68903,68912,68921,69376,69404,69415,69415,69424,69456,69600,69622,69632,69702,69734,69743,69759,69818,69840,69864,69872,69881,69888,69940,69942,69951,69956,69958,69968,70003,70006,70006,70016,70084,70089,70092,70096,70106,70108,70108,70144,70161,70163,70199,70206,70206,70272,70278,70280,70280,70282,70285,70287,70301,70303,70312,70320,70378,70384,70393,70400,70403,70405,70412,70415,70416,70419,70440,70442,70448,70450,70451,70453,70457,70459,70468,70471,70472,70475,70477,70480,70480,70487,70487,70493,70499,70502,70508,70512,70516,70656,70730,70736,70745,70750,70751,70784,70853,70855,70855,70864,70873,71040,71093,71096,71104,71128,71133,71168,71232,71236,71236,71248,71257,71296,71352,71360,71369,71424,71450,71453,71467,71472,71481,71680,71738,71840,71913,71935,71935,72096,72103,72106,72151,72154,72161,72163,72164,72192,72254,72263,72263,72272,72345,72349,72349,72384,72440,72704,72712,72714,72758,72760,72768,72784,72793,72818,72847,72850,72871,72873,72886,72960,72966,72968,72969,72971,73014,73018,73018,73020,73021,73023,73031,73040,73049,73056,73061,73063,73064,73066,73102,73104,73105,73107,73112,73120,73129,73440,73462,73728,74649,74752,74862,74880,75075,77824,78894,82944,83526,92160,92728,92736,92766,92768,92777,92880,92909,92912,92916,92928,92982,92992,92995,93008,93017,93027,93047,93053,93071,93760,93823,93952,94026,94031,94087,94095,94111,94176,94177,94179,94179,94208,100343,100352,101106,110592,110878,110928,110930,110948,110951,110960,111355,113664,113770,113776,113788,113792,113800,113808,113817,113821,113822,119141,119145,119149,119154,119163,119170,119173,119179,119210,119213,119362,119364,119808,119892,119894,119964,119966,119967,119970,119970,119973,119974,119977,119980,119982,119993,119995,119995,119997,120003,120005,120069,120071,120074,120077,120084,120086,120092,120094,120121,120123,120126,120128,120132,120134,120134,120138,120144,120146,120485,120488,120512,120514,120538,120540,120570,120572,120596,120598,120628,120630,120654,120656,120686,120688,120712,120714,120744,120746,120770,120772,120779,120782,120831,121344,121398,121403,121452,121461,121461,121476,121476,121499,121503,121505,121519,122880,122886,122888,122904,122907,122913,122915,122916,122918,122922,123136,123180,123184,123197,123200,123209,123214,123214,123584,123641,124928,125124,125136,125142,125184,125259,125264,125273,126464,126467,126469,126495,126497,126498,126500,126500,126503,126503,126505,126514,126516,126519,126521,126521,126523,126523,126530,126530,126535,126535,126537,126537,126539,126539,126541,126543,126545,126546,126548,126548,126551,126551,126553,126553,126555,126555,126557,126557,126559,126559,126561,126562,126564,126564,126567,126570,126572,126578,126580,126583,126585,126588,126590,126590,126592,126601,126603,126619,126625,126627,126629,126633,126635,126651,131072,173782,173824,177972,177984,178205,178208,183969,183984,191456,194560,195101,917760,917999];function P(e,r){if(e<r[0])return!1;let a,o,l=0,p=r.length;for(;l+1<p;){if(a=l+(p-l>>1),a-=1&a,o=r[a],o<=e&&e<=r[a+1])return!0;e<o?p=a:l=a+2}return!1}function R(e){return!!(1&k[e])||P(e,N)}function L(e){return!!(2&k[e])||P(e,E)||e===8204||e===8205}function se(e){return e==133||e==65519||e==160||e==5760||e>=8192&&e<=8203||e==8239||e==65279||e==8287||e==12288}function de(e){return e===10||e===13||(-2&e)==8232}function ge(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(e>>>10)+String.fromCharCode(1023&e)}function be(e){return e<=57?e-48:(e|=32)<97?-1:e<=102?e-97+10:-1}function Se(e,r,a,o=!1){if(!(r>=0))return r;for(;;){let l=e.charCodeAt(r);switch(l){case 13:e.charCodeAt(r+1)===10&&r++;case 10:if(r++,a)return r;continue;case 9:case 11:case 12:case 32:r++;continue;case 47:if(o)break;if(e.charCodeAt(r+1)===47){for(r+=2;r<e.length&&!de(e.charCodeAt(r));)r++;continue}if(e.charCodeAt(r+1)===42){for(r+=2;r<e.length;){if(e.charCodeAt(r)===42&&e.charCodeAt(r+1)===47){r+=2;break}r++}continue}break;default:if(l>127&&se(l)){r++;continue}}return r}}let v={1:"Unexpected token.",2:"`let \n [` is a restricted production at the start of a statement",3:"Identifier expected",4:"',' expected",5:"Declaration or statement expected",6:"Private identifiers cannot be used as parameters",7:"Catch clause variable cannot have an initializer",8:"Declaration or statement expected. This follows a block of statements so if you intended to write a destructuring assignment you might need to wrap the whole assignment in parentheses",9:"Expression exprected. A compound assignment or an logical assignment cannot follow an array literal",10:"Linebreak ermitted after throw",11:"Identifier expected. 'let' is a reserved word in strict mode",12:"Missing initializer in destructuring declaration",13:"Missing initializer in const declaration",14:"Unary expressions as the left operand of an exponentation expression must be disambiguated with parentheses",15:"Expression expected",16:"Invalid optional chain from new expression",17:"The binding pattern is not destructible",18:"A rest element cannot have an initializer",19:"A rest parameter must be last in a parameter list",20:"Generators can only be declared at the top level or inside a block",21:"Function declarations cannot be used in a single-statement context",22:"Class declarations cannot be used in a single-statement context",23:"Expression exprected. A compound assignment or an logical assignment cannot follow an object literal",24:"The left-hand side of an assignment expression must be a variable or a property access",25:"The operand of an increment or decrement operator must be a variable or a property access",27:"Block body arrows can not be immediately accessed without a group",28:"An arrow function can not be part of an operator to the right",29:"Block body arrows can not be immediately invoked without a group",30:"Block body arrows can not be immediately tagged without a group",31:"The left hand side of the arrow is not destructible ",32:"Trailing comma not allowed.",33:"A return statement can only be used within a function_body",34:"An member access expression should take an argument.",35:"A rest parameter or binding pattern may not have a trailing comma.",36:"Parameter cannot have question mark and initializer.",37:"An index signature cannot have a rest parameter.",38:"A 'set' accessor must have exactly one parameter.",39:"A 'set' accessor cannot have an optional parameter.",40:"A 'set' accessor parameter cannot have an initializer.",41:"A 'set' accessor cannot have rest parameter.",42:"A 'get' accessor cannot have parameters.",43:"'delete' cannot be called on an identifier in strict mode.",44:"A 'for-await-of' statement is only allowed within an async function or async generator.",45:"A 'continue' statement can only be used within an enclosing iteration statement.",46:"A 'break' statement can only be used within an enclosing iteration or switch statement.",47:"A 'default' clause cannot appear more than once in a 'switch' statement.",48:"A 'yield' expression is only allowed in a generator body.",49:"Only a single variable declaration is allowed in a 'for...of' statement.",50:"Invalid left-hand side: Must have a single binding in a 'for...of' statement.",51:"The variable declaration of a 'for...in or of' statement cannot have an initializer.",52:"The lexical declaration of a 'for...in or of' statement cannot have an initializer.",53:"The body of an 'if' statement cannot be the empty statement.",54:"Dynamic import must have one specifier as an argument.",55:"Specifier of dynamic import cannot be spread element.",56:"Dynamic import cannot have type arguments.",57:"`yield` expression cannot be used in function parameters",58:"`await` expression cannot be used in function parameters",59:"The `import` keyword can only be used with the module goal",60:"The `export` keyword can only be used with the module goal",61:"`=` can only be used in an object literal property inside a destructuring",62:"The left-hand side of a 'for...in' statement must be a variable or a property access.",63:"The left-hand side of a 'for...of' statement must be a variable or a property access.",64:"Method definition expected",65:"Classes may not have a static property named 'prototype'",66:"Multiple constructor implementations are not allowed",67:"Class constructor may not be a accessor",68:"Dot property must be an identifier",69:"Private identifiers are not allowed outside class bodies",70:"Tagged template expressions are not permitted in an optional chain.",71:"An optional chain cannot contain private identifiers.",72:"Import Call should take at least one argument",73:"'super' can only be referenced in members of derived classes or object literal expressions",74:"'super' must be followed by an argument list or member access.",75:"'with' statements are not allowed in strict mode.",76:"Identifier expected. 'yield' is a reserved word in strict mode",77:"Identifier expected. 'await' is a reserved word in module goal",79:"The operand of a 'delete' operator must be a property reference.",80:"'new.target' only allowed within functions",81:"A lexical declaration can't define a 'let' binding",82:"Variable declaration expected.",83:"'await' expressions cannot be used in a parameter initializer",84:"Line terminator not permitted before arrow",85:"'use strict' directive cannot be used with non-simple parameter list.",86:"Escapes \\8 or \\9 are not syntactically valid escapes",87:"Octal escape sequences are not allowed in strict mode",88:"Octal literals are not allowed in strict mode",89:"Invalid hexadecimal escape sequence",90:"Invalid Unicode escape sequence",91:"Coalescing and logical operators used together in the same expression must be disambiguated with parentheses",92:"Unicode codepoint must not be greater than 0x10FFFF",93:"Invalid astral character",94:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default",95:"Explicit inexact syntax cannot appear in class or interface definitions",96:"`declare module` cannot be used inside another `declare module`",97:"A binding pattern parameter cannot be optional in an implementation signature.",98:"A 'set' accessor cannot have a `this` parameter",99:"Spread properties cannot have variance",100:"A type annotation is required for the `this` parameter.",101:"The `this` parameter must be the first function parameter.",102:"`_` is only allowed as a type argument to call or new",103:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`",104:"Only declares and type imports are allowed inside declare module",105:"Class methods cannot have the 'declare' modifier",106:"Initializers are not allowed in fields with the `declare` modifier.",107:"Explicit inexact syntax cannot appear inside an explicit exact object type",108:"The this parameter cannot be optional",109:"Prohibit delete of private class elements",110:"Cannot use new with import(...)",111:"Cannot use 'import.meta' outside a module",112:"for await (... of ...) is only valid in async functions and async generators",113:"Unterminated string literal",114:"Unterminated template literal",115:"Binding identifier expected",116:"Identifier expected. Reserved word in strict mode",117:"A class declaration without the 'default' modifier must have a name.",118:"Invalid character",119:"'#constructor' is a reserved word.",120:"'&&' and '??' operations cannot be mixed without parentheses",122:"Escape sequence in keyword import",123:"The only valid meta property for new is 'new.target",124:"Keywords cannot contain escape characters",125:"'let' is not allowed to be used as a name in 'let' or 'const' declarations.",126:"Duplicate regular expression flag",127:"Unterminated regular expression",128:"Unknown regular expression flag",129:"An identifier or keyword cannot immediately follow a numeric literal",130:"Binary integer literal like sequence containing an invalid digit",131:"Octal integer literal like sequence containing an invalid digit",132:"Multiple consecutive numeric separators are not permitted",133:"Binary integer literal like sequence without any digits",134:"Octal integer literal like sequence without any digits",135:"Hex integer literal like sequence without any digits",136:"Numeric separators are not allowed at the end of numeric literals",137:"Numeric separator can not be used after leading_0",138:"Invalid BigInt syntax",139:"Non number after exponent indicator",140:"Numeric separators not allowed here",141:"Function declarations can only be declared at top level or inside a block in strict mode",143:"'try' expected",144:"'{0}' expected",145:"Did you mean to use a ':'? An '=' can only follow a property name when the containing object literal is part of a destructuring",146:"Unicode escapes at the start of labels should not allow keywords",148:"Duplicate label",149:"Missing label",151:"Lexical declaration expected",152:"An async arrow without the 'default' modifier can not be exported",153:"Async arrow can not be followed by new expression",154:"'{0}' keyword must not contain escaped characters",156:"Property assignment expected",157:"A {0} accessor cannot be a generator",159:"The parser expected to find a '}' to match the '{' token here",160:"Did you forgot a ']' to match the `[` token?",161:"The left-hand side must be a variable or a property access.",162:"The left-hand side of an assignment expression may not be an optional property access",163:"'arguments' can only be used in functions and class methods",164:"Constructor implementation is missing",165:"Expected a ')' to match the '(' token here",166:"'yield' can only be used in a generator function",169:"Cannot use 'yield' as a name on a async generator declaration",170:"Cannot use 'yield' as a name on a generator declaration",171:"'async' keyword in an async arrow must not contain escaped characters",172:"'{0}' cannot be used as an identifier here",173:"'{0}' cannot contain escape characters",175:"Arrow parameters can only contain a binding pattern or an identifier",176:"Property definition expected. Did you mean to use a ':'?",177:"Expected a computed property",178:"Object literal expected",179:"The variable declaration of a 'for...of ... in' statement cannot have an initializer.",180:"'static' modifier already seen",181:"An object literal cannot have multiple properties with the name '__proto__'",182:"Object property expected",183:"Cannot assign to 'eval' and 'arguments' because they are not a variable",184:"'arguments' is only allowed in functions and class methods",185:"BindingIdentifier may not be `await` within class static blocks",186:"A 'static {}' initialization block may not have decorator",187:"Cannot redeclare block-scoped variable '{0}'",188:"Cannot bound an already bound catch clause binding",189:"A block-scoped variable cannot shadow a catch clause binding",190:"A rest element must be last in a destructuring pattern",191:"Duplicate bindingidentifier '{0}'",192:"A formal parameter cannot be bound multiple times in the same parameter list",193:"Duplicate arrow formal parameter",194:"An implementation cannot be declared in ambient contexts",195:"The left-hand side of a for...of loop cannot contain an 'async' identifier",196:"Expected '=>'",197:"Missing an opening brace - '{",198:"Missing an opening parentheses - '(",199:"Missing an opening bracket - '[",200:"Expected to find a '>' to match the '<' token here.",201:"Type expected",202:"Expected a valid subtraction operand",203:"The 'declare' modifier cannot follow after a 'static' modifier",204:"Decorators cannot follow after a 'static' modifier",205:"Decorators are not valid here",206:"'import.meta' is the only valid meta property for import",207:"The left-hand side of a 'for...in or of' statement must not be an arrow function",208:"Cannot use the 'yield' keyword on the left-hand side of a 'for...in' statement in a generator context",209:"Cannot use 'await' as a name on a async generator expression",210:"Cannot use 'await' as a name on a async function expression",211:"Cannot use 'await' as a name on a async generator declaration",212:"Cannot use 'await' as a name on a async function declaration",213:"Line terminator not permitted before async modifier in a class body",214:"'async' modifier cannot be used here",215:"Parameter 'await' for async arrow not allowed here",216:"Function declarations inside if statements cannot be used in strict mode",218:"Without web compability enabled functtion declarations are disallowed inside if statements",219:"Cannot use 'yield' as a name on a generator function expression",220:"'await' is only allowed within async functions and at the top levels of modules",222:"Identifier expected. 'yield' is a reserved word in strict mode and cannot be used as an label",223:"Identifier expected. 'await' is a reserved word in strict mode and module goal and cannot be used as an label",224:"'#!' can only be used at the start of a file.",225:"Private identifier cannot contain escape characters",226:"Private fields can't be accessed on super ",227:"An optional parameter cannot be used within an array pattern",228:"Catch clause variable cannot have an type annotation",229:"The 'this' keyword cannot be a formal parameter",231:"A '{0}' accessor cannot have a `this` parameter",234:"Import declaration expected",235:"Identifier expected. A decorator name can only be an identifier",236:"A 'break' statement can only jump to a label of an enclosing statement",237:"A 'continue' statement can only jump to a label of an enclosing iteration statement.",238:"The left-hand side of a for-of loop cannot start with 'let'",239:"An async function declaration is not allowed as `if-else` child",240:"Octal escape sequences are not allowed in template literal",241:"Octal literals are not allowed in template literal",242:"Comma operator is disallowed as an async arrow concise body with `export default` modifier",243:"`MethodDefinition` expected",244:"A class field cannot have a field named 'constructor'",245:"Class fields may not have a static property named 'prototype'",246:"Cannot use the 'yield' keyword on the left-hand side of conditional expression in a generator context",247:"An optional parameter cannot be used without an ':' in an arrow function type parameter list",248:"An index signature parameter cannot have a question mark.",249:"An TypeAlias declaration require a '='",250:"Await expression cannot be used inside class static block.",251:"'For await' loops cannot be used inside class static block.",252:"A 'return' statement cannot be used inside class static block.",253:"A 'static {}' initialization block cannot have the 'static' modifier",255:"Variable declaration not allowed at this location",256:"'finally' expected",257:"'catch' expected",258:"'{0}' is not allowed here. Did you mean '{1}'?",259:"HTML comments can only be used in script mode",260:"HTML comments can only be used with web compatibility enabled",261:"Did you mean 'async function foo() {}'? An 'async' modifier can only follow a function declaration in this context",262:"'{0}' statements must be braced",263:"Parentheses are prohibited around the parameter in this single parameter arrow function",264:"Unexpected 'debugger' statement",265:"Forbidden bitwise operation",266:"Type declaration of 'any' loses type-safety. Consider replacing it with a more precise type",267:"Use a for...of statement instead of for...in. If iterating over an object, use Object.keys() to access its enumerable keys.",268:"Unexpected var, use let or const instead",269:"Do not use comma operator here because it can be easily misunderstood or lead to unintended bugs",270:"Empty logic blocks are disallowed.",271:"Do not nest ternary expressions",272:"'{0}' is never used",273:"Unexpected comma in middle of array",274:"Expected a default case",275:"Unsafe usage of '{0}'",276:"'eval' can be harmful",277:"Unexpected console statement",278:"Access to arguments.callee is forbidden",279:"'{0}' statements in finally blocks are forbidden.",280:"Array has a missing element",281:"Object literal keys that are strings or numbers must be a method or have a colon",282:"Computed property must be followed by a colon",283:"Use 'while' loops instead of 'for' loops.",284:"Private names are only allowed in property accesses or in `in` expressions",285:"Empty class",286:"Variables should not be deleted",287:"Unexpected empty object pattern",288:"Unexpected empty array pattern",289:"Unexpected empty function"};var C;(function(e){e[e.EarlyError=1]="EarlyError",e[e.Runtime=2]="Runtime",e[e.Message=4]="Message",e[e.Warning=8]="Warning",e[e.Error=16]="Error",e[e.Hint=32]="Hint",e[e.Lint=64]="Lint"})(C||(C={}));let Xe=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,2,5,5,5,5,5,5,1,1,-1,-1,-1,-1,-1,-1,-1,1,8,1,1,1,1,-1,-1,-1,-1,-1,-1,-1,-1,16,-1,-1,-1,-1,-1,-1,-1,-1,32,-1,-1,-1,-1,-1,-1,128,-1,1,8,1,1,1,1,-1,-1,-1,-1,-1,-1,-1,64,16,-1,-1,-1,-1,-1,-1,-1,-1,32,-1,-1,-1,-1,-1,-1,-1];function G(e,r,a,o,l){let p=!0,d=e.pos,c=t.NodeFlags.None;if(l){if(a===48){let _=0;if(d++,a=o.charCodeAt(d),256&k[a]){let I=0;do{switch(Xe[a]){case 32:if(c&(t.NodeFlags.BinaryIntegerLiteral|t.NodeFlags.HexIntegerLiteral|t.NodeFlags.OctalIntegerLiteral)){e.onError(2,C.Error,v[129],d,d+1);break}c|=t.NodeFlags.HexIntegerLiteral;break;case 8:if(c&t.NodeFlags.HexIntegerLiteral){_=16*_+be(a);break}if(c&(t.NodeFlags.BinaryIntegerLiteral|t.NodeFlags.OctalIntegerLiteral)){e.onError(0,C.Error,v[129],d,d+1);break}c|=t.NodeFlags.BinaryIntegerLiteral;break;case 16:if(c&(t.NodeFlags.BinaryIntegerLiteral|t.NodeFlags.OctalIntegerLiteral|t.NodeFlags.HexIntegerLiteral)){e.onError(0,C.Error,v[129],d,d+1);break}c|=t.NodeFlags.OctalIntegerLiteral;break;case 2:if(c&t.NodeFlags.BinaryIntegerLiteral){p=!0,_=2*_+(a-48);break}case 5:if(c&t.NodeFlags.OctalIntegerLiteral){p=!0,_=8*_+(a-48);break}case 1:if(c&t.NodeFlags.HexIntegerLiteral){p=!0,_=16*_+be(a);break}e.onError(0,C.Error,v[c&t.NodeFlags.BinaryIntegerLiteral?130:131],d,d+1);break;case 128:if(c|=t.NodeFlags.ContainsSeparator,p){if(o.charCodeAt(d+1)===95)return e.onError(0,C.Error,v[132],d,d+1),e.pos+=5,e.tokenValue=_,t.SyntaxKind.NumericLiteral;p=!1}p=!0;break;case 64:return e.tokenValue=_,e.pos=++d,e.tokenRaw=o.slice(e.tokenPos,e.pos),t.SyntaxKind.BigIntLiteral}I++,d++,a=o.charCodeAt(d)}while(416&k[a]);return 3&k[a]&&(e.onError(0,C.Error,v[129],e.curPos,d),d++),(c&(t.NodeFlags.BinaryIntegerLiteral|t.NodeFlags.OctalIntegerLiteral|t.NodeFlags.HexIntegerLiteral)&&I<=1||!p)&&e.onError(0,C.Error,v[p?c&t.NodeFlags.BinaryIntegerLiteral?133:c&t.NodeFlags.OctalIntegerLiteral?134:135:136],d,d+1),e.nodeFlags=c,e.pos=d,e.tokenValue=_,e.tokenRaw=o.slice(e.tokenPos,d),t.SyntaxKind.NumericLiteral}if(a>=48&&a<=56){524288&r&&e.onError(0,C.Error,v[88],d,d+1),c=t.NodeFlags.LegacyOctal;do if(_=8*_+(a-48),(a=o.charCodeAt(++d))>=56){c=t.NodeFlags.OctalIntegerLiteral;break}while(a>=48&&a<=57);if(4128&k[a]&&e.onError(0,C.Error,v[a===110?138:137],e.curPos,e.pos),c===t.NodeFlags.LegacyOctal)return e.nodeFlags=t.NodeFlags.LegacyOctal,e.pos=d,e.tokenValue=_,e.tokenRaw=o.slice(e.tokenPos,d),t.SyntaxKind.NumericLiteral}}let h=0,K=9;for(;16&k[a]&&K>=0;)h=10*h+(a-48),a=o.charCodeAt(++d),--K;if(K>=0&&!(1027&k[a])&&!(c&t.NodeFlags.OctalIntegerLiteral))return e.pos=d,e.tokenValue=h,e.tokenRaw=o.slice(e.tokenPos,d),t.SyntaxKind.NumericLiteral}e.pos=d;let f=Ee(e,e.tokenPos,a);a=o.charCodeAt(e.pos);let g=!1;l&&a===46&&(g=!0,e.nodeFlags|=t.NodeFlags.FloatingPointLiteral,a=o.charCodeAt(++e.pos),f+="."+Ee(e,e.pos,a),a=o.charCodeAt(e.pos));let S=e.pos;return a===110?(g&&e.onError(0,C.Error,v[1],e.curPos,e.pos),e.tokenValue=o.slice(e.tokenPos,e.pos),++e.pos,e.tokenRaw=o.slice(e.tokenPos,e.pos),t.SyntaxKind.BigIntLiteral):((32|a)==101&&((a=o.charCodeAt(++e.pos))!==43&&a!==45||(a=o.charCodeAt(++e.pos)),16&k[a]&&(f+=o.substring(S,e.pos)+Ee(e,e.pos,a),a=o.charCodeAt(e.pos))),(3&k[a])>0&&e.onError(0,C.Error,v[1],e.curPos,e.pos),e.tokenRaw=o.slice(e.tokenPos,e.pos),e.tokenValue=parseFloat(f),t.SyntaxKind.NumericLiteral)}function Ee(e,r,a){let o="",l=e.pos,p=!1,d=e.source;for(;48&k[a];)a!==95?(p=!1,a=d.charCodeAt(++l)):(e.nodeFlags|=t.NodeFlags.ContainsSeparator,o+=d.substring(r,l),p=!0,(a=d.charCodeAt(++l))===95&&e.onError(0,C.Error,v[140],e.curPos,e.pos),r=l);return p&&e.onError(0,C.Error,v[140],e.curPos,e.pos),e.pos=l,e.tokenRaw=d.slice(e.tokenPos,e.pos),o+d.substring(r,l)}function fe(e,r,a,o){a===39&&(e.nodeFlags|=t.NodeFlags.SingleQuote),e.pos++;let l="",p=e.pos,d=o.charCodeAt(e.pos);for(;!(8&k[d]);){if(d===92)l+=o.substring(p,e.pos)+ct(e,r,o),p=e.pos;else{if(d===a)return l+=o.substring(p,e.pos),e.pos++,e.tokenRaw=o.substring(e.tokenPos,e.pos),e.tokenValue=l,t.SyntaxKind.StringLiteral;e.pos++}if(e.pos>=e.end)break;d=o.charCodeAt(e.pos)}return e.onError(0,C.Error,v[113],e.curPos,e.pos),e.tokenValue=l+=o.substring(p,e.pos),e.tokenRaw=o.slice(e.tokenPos,e.pos),t.SyntaxKind.StringLiteral}function ct(e,r,a){let o=e.pos;if(e.pos++,e.pos>=e.end)return e.onError(0,C.Error,v[1],o,e.pos),"";let l=a.charCodeAt(e.pos);switch(e.pos++,l){case 98:return"\b";case 116:return"	";case 110:return`
`;case 118:return"\v";case 102:return"\f";case 114:return"\r";case 39:return"'";case 34:return'"';case 48:return 16&k[a.charCodeAt(e.pos)]&&524288&r&&e.onError(0,C.Error,v[87],o,e.pos),"\0";case 49:case 50:case 51:case 52:case 53:case 54:case 55:return 524288&r&&e.onError(0,C.Error,v[87],o,e.pos),e.nodeFlags|=t.NodeFlags.OctalIntegerLiteral,ge(l);case 56:case 57:return 524292&r&&(e.onError(0,C.Error,v[86],o,e.pos),e.nodeFlags|=t.NodeFlags.ContainsInvalidEscape),ge(l);case 117:if(a.charCodeAt(e.pos)===123){e.pos++,e.nodeFlags|=t.NodeFlags.ExtendedUnicodeEscape,l=a.charCodeAt(e.pos);let g=be(l);if(g<0)return e.onError(0,C.Error,v[89],o,e.pos),"";l=a.charCodeAt(++e.pos);let S=0;for(;l!==125;){let h=be(l);if(h<0)return e.onError(0,C.Error,v[89],o,e.pos),"";if(g=g<<4|h,g>1114111)return e.onError(0,C.Error,v[92],o,e.pos),"";l=a.charCodeAt(++e.pos),S++}return S===0?"":(e.pos++,ge(g))}e.nodeFlags|=t.NodeFlags.UnicodeEscape;let p=e.pos;l=a.charCodeAt(p);let d=be(l);if(d<0)return e.onError(0,C.Error,v[89],o,e.pos),"";for(let g=0;g<3;g++){l=a.charCodeAt(++p);let S=be(l);if(S<0)return e.onError(0,C.Error,v[89],o,e.pos),"";d=d<<4|S}return e.pos=p+=1,ge(d);case 120:case 88:let c=be(a.charCodeAt(e.pos));if(c<0)return e.onError(0,C.Error,v[89],o,e.pos),"";e.pos++;let f=be(a.charCodeAt(e.pos));return f<0?(e.onError(0,C.Error,v[89],o,e.pos),""):(e.pos++,ge(c<<4|f));case 13:e.pos<e.end&&a.charCodeAt(e.pos)===10&&e.pos++;case 10:case 8232:case 8233:return"";default:return ge(l)}}let $e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,34,0,36,37,0,39,40,41,42,43,44,45,46,0,0,0,0,0,0,0,0,0,0,0,58,59,60,61,62,63,0,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,0,89,90,91,92,93,126,95,96,97,8,99,100,101,12,103,104,105,106,107,108,109,10,111,112,113,13,115,9,0,11,119,0,121,122,125,0,123,126,0];function et(e,r,a){e.pos++;let o=e.pos,l="",p=e.source.charCodeAt(e.pos);for(;e.pos<e.end;){if(p===96)return e.tokenValue=l,e.pos++,e.tokenRaw=e.source.slice(o,e.pos-1),t.SyntaxKind.TemplateTail;if(p===36){if(e.source.charCodeAt(e.pos+1)===123)return e.tokenRaw=e.source.slice(o,e.pos),e.pos+=2,e.tokenValue=l,t.SyntaxKind.TemplateCont;l+="$"}if(p===92){let d=e.pos,c;if(e.pos++,e.pos>=e.end)c=-1;else{let f=a.charCodeAt(e.pos);e.pos++,$e[f]?l+=ge(f):8&k[a.charCodeAt(e.pos)]||(-2&f)==8232?f===13&&e.source.charCodeAt(e.pos)===10&&e.pos++:f>=128?l+=ge(f):(c=pu(e,a,f),c>=0?l+=ge(c):c!==-1&&8388608&r?(l="",p=uu(e,p)):(c!==-1&&e.onError(0,C.Error,v[c===-2?240:c===-3?86:c===-4?89:92],o,e.pos),l+=e.source.slice(d+1,e.pos)))}}else e.pos++,p===13&&a.charCodeAt(e.pos)===10&&(p=e.source.charCodeAt(++e.pos)),l+=ge(p);p=e.source.charCodeAt(e.pos)}return e.onError(0,C.Error,v[114],e.curPos,e.pos),e.tokenValue=l,t.SyntaxKind.TemplateTail}function Ea(e,r){return e.pos--,e.token=et(e,r,e.source),e.token}function pu(e,r,a){switch(a){case 48:if(!(16&k[r.charCodeAt(e.pos)]))return a-48;case 49:case 50:case 51:case 52:case 53:case 54:case 55:return-2;case 56:case 57:return-3;case 117:if(r.charCodeAt(e.pos)===123){e.pos++,e.nodeFlags|=t.NodeFlags.ExtendedUnicodeEscape;let c=be(r.charCodeAt(e.pos));if(c<0)return-4;a=r.charCodeAt(++e.pos);let f=0;for(;a!==125;){let g=be(a);if(g<0)return-3;if(c=c<<4|g,c>1114111)return-5;a=r.charCodeAt(++e.pos),f++}return f===0?-4:(e.pos++,c)}e.nodeFlags|=t.NodeFlags.UnicodeEscape;let o=be(r.charCodeAt(e.pos));if(o<0)return-4;let l=e.pos;for(let c=0;c<3;c++){let f=be(a=r.charCodeAt(++l));if(f<0)return-3;o=o<<4|f}return e.pos=l+=1,o;case 88:case 120:let p=be(r.charCodeAt(e.pos));if(p<0)return-4;e.pos++;let d=be(r.charCodeAt(e.pos));return d<0?-4:(e.pos++,p<<4|d);default:return a}}function uu(e,r){for(;r!==96;){if(r===36){let a=e.pos+1;return a<e.end&&e.source.charCodeAt(a)===123?(e.pos=a,-r):r}if(e.pos>=e.end)return e.onError(0,C.Error,v[1],e.curPos,e.pos),r;e.pos++,r=e.source.charCodeAt(e.pos)}return r}function yu(e,r,a){let o=e.tokenPos+1,l=0;e:for(;;){if(1&l)l=1^(1|l);else switch(a.charCodeAt(o)){case 47:if(l)break;o++;break e;case 91:16&e.linterFlags&&1&e.subRules&&a.charCodeAt(o+1)===93&&e.onError(0,C.Lint,v[285],e.curPos,o),l|=2;break;case 92:l|=1;break;case 93:l=2^(2|l);break;case 13:case 10:case 8232:case 8233:e.onError(0,C.Error,v[127],e.curPos,o);break e}if(o++,o>=e.end){e.onError(0,C.Error,v[127],e.curPos,o);break e}}let p=a.charCodeAt(o),d=0,c=0;for(;L(p);)8192&k[p]?(c=1<<p-97,c&d?e.onError(0,C.Error,v[126],o-1,o):d|=c):e.onError(0,C.Error,v[128],o-1,o),p=a.charCodeAt(++o);return e.tokenValue=e.tokenRaw=a.slice(e.tokenPos,o),e.pos=o,t.SyntaxKind.RegularExpression}function Ql(e){return e.length===0?void 0:e[e.length-1]}function Yl(e,r,a){for(;e.pos<e.end&&!de(r);)r=a.charCodeAt(++e.pos);return r}function mu(e,r,a){let o=e.pos;for(;o<e.end&&!de(r);)(r=a.charCodeAt(++o))===107&&8&k[a.charCodeAt(o+12)]&&a.charCodeAt(o+1)===97&&a.charCodeAt(o+11)===101&&a.charCodeAt(o+10)===114&&a.charCodeAt(o+9)===111&&a.charCodeAt(o+8)===110&&a.charCodeAt(o+7)===103&&a.charCodeAt(o+5)===45&&a.charCodeAt(o+6)===105&&a.charCodeAt(o+2)===116&&a.charCodeAt(o+3)===97&&a.charCodeAt(o+4)===119&&(e.nodeFlags|=t.NodeFlags.IgnoreNextNode),r===103&&8&k[a.charCodeAt(o+6)]&&a.charCodeAt(o+5)===108&&a.charCodeAt(o+4)===97&&a.charCodeAt(o+3)===98&&a.charCodeAt(o+2)===111&&a.charCodeAt(o+1)===108&&(e.nodeFlags|=t.NodeFlags.Globals);e.pos=o}function fu(e,r,a){do{if(r===42&&a.charCodeAt(e.pos+1)===47)return e.pos+=2,r;de(r)&&(e.nodeFlags|=t.NodeFlags.NewLine),e.pos++,(r=a.charCodeAt(e.pos))===42&&a.charCodeAt(e.pos+1)===42&&8&k[a.charCodeAt(e.pos+2)]&&a.charCodeAt(e.pos+3)===42&&a.charCodeAt(e.pos+4)===32&&a.charCodeAt(e.pos+5)===107&&a.charCodeAt(e.pos+6)===97&&a.charCodeAt(e.pos+7)===116&&a.charCodeAt(e.pos+8)===97&&a.charCodeAt(e.pos+9)===119&&8&k[a.charCodeAt(e.pos+10)]&&a.charCodeAt(e.pos+11)===42&&a.charCodeAt(e.pos+12)===47&&(e.nodeFlags|=t.NodeFlags.Pragma)}while(e.pos<e.end);return e.onError(2,C.Error,v[1],e.curPos,e.pos),r}function si(e,r,a,o){let l,p=a||r===0;for(;;){let d=e.charCodeAt(r);switch(d){case 13:e.charCodeAt(r+1)===10&&r++;case 10:if(r++,a)return l;p=!0,l&&l.length&&(Ql(l).hasTrailingNewLine=!0);continue;case 9:case 11:case 12:case 32:r++;continue;case 47:let c=e.charCodeAt(r+1),f=!1;if(c===47||c===42){let g=c===47?t.SyntaxKind.SingleLineComment:t.SyntaxKind.MultiLineComment,S=r;if(r+=2,c===47)for(;r<e.length;){if(de(e.charCodeAt(r))){f=!0;break}r++}else for(;r<e.length;){if(e.charCodeAt(r)===42&&e.charCodeAt(r+1)===47){r+=2;break}r++}!p||o&&S in o||(l||(l=[]),l.push({pos:S,end:r,hasTrailingNewLine:f,kind:g}),o&&(o[S]=!0));continue}break;default:if(d>127&&(se(d)||de(d))){l&&l.length&&de(d)&&(Ql(l).hasTrailingNewLine=!0),r++;continue}}return l}}function ro(e,r,a){return si(e,r,!1,a)}function Xl(e,r,a,o){for(;2&k[r];)r=a.charCodeAt(++e.pos);return e.tokenValue=a.substring(e.tokenPos,e.pos),r>90&&(e.tokenValue+=Fa(e,a)),e.tokenRaw=a.substring(e.tokenPos,e.pos),o&&m[e.tokenValue]||t.SyntaxKind.Identifier}function Fa(e,r){let a,o="",l=e.pos,p=r.charCodeAt(e.pos);do{if(p===92){if(o+=r.slice(l,e.pos),a=$l(e),a<0)break;o+=ge(a),l=e.pos}else if(L(p))e.pos++;else{if((64512&p)!=55296)break;let d=r.charCodeAt(e.pos+1);(64512&d)==56320&&L(65536+((1023&p)<<10)+(1023&d))||e.onError(0,C.Error,v[93],e.curPos,e.pos),e.pos+=2}p=r.charCodeAt(e.pos)}while(e.pos<e.end);return o+=r.substring(l,e.pos),o}function $l(e){let r=e.pos;if(e.source.charCodeAt(r+1)!==117)return e.onError(2,C.Error,v[89],e.curPos,e.pos),-1;r+=2;let a=e.source.charCodeAt(r);if(a===123){r++,e.nodeFlags|=t.NodeFlags.ExtendedUnicodeEscape;let l=be(e.source.charCodeAt(r)),p=0;for(;l>=0;){if(p=p<<4|l,p>1114111)return e.onError(2,C.Error,v[92],r,e.pos),-1;a=e.source.charCodeAt(++r),l=be(a)}return 0<l||a!==125?(e.onError(2,C.Error,v[89],r,e.pos),-1):(e.pos=r+1,p)}let o=0;e.nodeFlags|=t.NodeFlags.UnicodeEscape;for(let l=0;l<4;l++){let p=be(a);if(p<0)return e.onError(2,C.Error,v[89],r,e.pos),-1;o=o<<4|p,a=e.source.charCodeAt(++r)}return e.pos=r,o}function xu(e,r,a){if(e.pos++,a.charCodeAt(e.pos)===33)return e.onError(2,C.Error,v[224],e.tokenPos,e.pos),t.SyntaxKind.UnknownToken;if(a.charCodeAt(e.pos)===92)e.tokenValue+=Fa(e,a);else{for(L(a.charCodeAt(e.pos))||e.onError(2,C.Error,v[118],e.tokenPos,e.pos),e.pos++;e.pos<e.end&&L(r=a.charCodeAt(e.pos));)++e.pos;e.tokenValue=a.slice(e.tokenPos,e.pos),r===92&&(e.tokenValue+=Fa(e,a))}return e.tokenRaw=a.substring(e.tokenPos,e.pos),t.SyntaxKind.PrivateIdentifier}function Ne(e,r){e.nodeFlags=t.NodeFlags.None,e.curPos=e.pos,e.token=Zl(e,r)}function Zl(e,r){let a=e.source,o=a.charCodeAt(e.pos);for(;e.pos<e.end;){e.tokenPos=e.pos;let l=y[o];switch(l){case t.SyntaxKind.RightBrace:case t.SyntaxKind.LeftBrace:case t.SyntaxKind.Comma:case t.SyntaxKind.Colon:case t.SyntaxKind.Complement:case t.SyntaxKind.LeftParen:case t.SyntaxKind.RightParen:case t.SyntaxKind.Semicolon:case t.SyntaxKind.LeftBracket:case t.SyntaxKind.RightBracket:case t.SyntaxKind.Decorator:return e.pos++,l;case t.SyntaxKind.Whitespace:e.pos++;break;case t.SyntaxKind.IsKeyword:return Xl(e,o,a,!0);case t.SyntaxKind.Identifier:return Xl(e,o,a,!1);case t.SyntaxKind.NumericLiteral:return G(e,r,o,a,!0);case t.SyntaxKind.StringLiteral:return fe(e,r,o,a);case t.SyntaxKind.TemplateTail:return et(e,r,a);case t.SyntaxKind.Period:return o=a.charCodeAt(e.pos+1),o>=48&&o<=57?G(e,r,o,a,!1):o===46&&e.pos<e.end&&a.charCodeAt(e.pos+2)===46?(e.pos+=3,t.SyntaxKind.Ellipsis):(e.pos++,t.SyntaxKind.Period);case t.SyntaxKind.Assign:return e.pos++,o=a.charCodeAt(e.pos),o===62?(e.pos++,t.SyntaxKind.Arrow):o===61?(e.pos++,a.charCodeAt(e.pos)===61?(e.pos++,t.SyntaxKind.StrictEqual):t.SyntaxKind.LooseEqual):t.SyntaxKind.Assign;case t.SyntaxKind.Add:return o=a.charCodeAt(++e.pos),o===43?(e.pos++,t.SyntaxKind.Increment):o===61?(e.pos++,t.SyntaxKind.AddAssign):t.SyntaxKind.Add;case t.SyntaxKind.QuestionMark:return e.pos++,o=a.charCodeAt(e.pos),o===46&&(o=a.charCodeAt(e.pos+1),o<48||o>57)?(e.pos++,t.SyntaxKind.QuestionMarkPeriod):o!==63?t.SyntaxKind.QuestionMark:(e.pos++,a.charCodeAt(e.pos)===61?(e.pos++,t.SyntaxKind.CoalesceAssign):t.SyntaxKind.QuestionMarkQuestionMark);case t.SyntaxKind.CarriageReturn:case t.SyntaxKind.LineFeed:e.nodeFlags|=t.NodeFlags.NewLine,e.pos++;break;case t.SyntaxKind.Negate:return e.pos++,a.charCodeAt(e.pos)===61?(e.pos++,a.charCodeAt(e.pos)===61?(e.pos++,t.SyntaxKind.StrictNotEqual):t.SyntaxKind.LooseNotEqual):t.SyntaxKind.Negate;case t.SyntaxKind.Multiply:return e.pos++,o=a.charCodeAt(e.pos),o===61?(e.pos++,t.SyntaxKind.MultiplyAssign):o===42?(e.pos++,a.charCodeAt(e.pos)===61?(e.pos++,t.SyntaxKind.ExponentiateAssign):t.SyntaxKind.Exponentiate):t.SyntaxKind.Multiply;case t.SyntaxKind.Divide:if(e.pos++,o=a.charCodeAt(e.pos),o===47){mu(e,o,a);break}if(o===42){fu(e,o,a);break}return 64&r?yu(e,0,a):o===61?(e.pos++,t.SyntaxKind.DivideAssign):t.SyntaxKind.Divide;case t.SyntaxKind.Subtract:if(e.pos++,o=a.charCodeAt(e.pos),o===45){if(e.nodeFlags&t.NodeFlags.NewLine&&a.charCodeAt(e.pos+1)===62){if(1048580&r)return t.SyntaxKind.Subtract;o=Yl(e,o,a);continue}return e.pos++,t.SyntaxKind.Decrement}return o===61?(e.pos++,t.SyntaxKind.SubtractAssign):t.SyntaxKind.Subtract;case t.SyntaxKind.LessThan:if(e.pos++,268435456&r)return t.SyntaxKind.LessThan;switch(a.charCodeAt(e.pos)){case 61:return e.pos++,t.SyntaxKind.LessThanOrEqual;case 60:return e.pos++,a.charCodeAt(e.pos)===61?(e.pos++,t.SyntaxKind.ShiftLeftAssign):t.SyntaxKind.ShiftLeft;case 33:if(1048580&r||a.charCodeAt(e.pos+2)!==45)return t.SyntaxKind.LessThan;if(a.charCodeAt(e.pos+1)==45){o=Yl(e,o,a);continue}default:return t.SyntaxKind.LessThan}case t.SyntaxKind.BitwiseAnd:return e.pos++,o=a.charCodeAt(e.pos),o===38?(e.pos++,a.charCodeAt(e.pos)===61?(e.pos++,t.SyntaxKind.LogicalAndAssign):t.SyntaxKind.LogicalAnd):o===61?(e.pos++,t.SyntaxKind.BitwiseAndAssign):t.SyntaxKind.BitwiseAnd;case t.SyntaxKind.GreaterThan:return e.pos++,268435456&r?t.SyntaxKind.GreaterThan:(o=a.charCodeAt(e.pos),o===61?(e.pos++,t.SyntaxKind.GreaterThanOrEqual):o!==62?t.SyntaxKind.GreaterThan:(e.pos++,o=a.charCodeAt(e.pos),o===62?(e.pos++,a.charCodeAt(e.pos)===61?(e.pos++,t.SyntaxKind.LogicalShiftRightAssign):t.SyntaxKind.LogicalShiftRight):o===61?(e.pos++,t.SyntaxKind.ShiftRightAssign):t.SyntaxKind.ShiftRight));case t.SyntaxKind.BitwiseOr:return e.pos++,o=a.charCodeAt(e.pos),o===124?(e.pos++,a.charCodeAt(e.pos)===61?(e.pos++,t.SyntaxKind.LogicalOrAssign):t.SyntaxKind.LogicalOr):o===61?(e.pos++,t.SyntaxKind.BitwiseOrAssign):t.SyntaxKind.BitwiseOr;case t.SyntaxKind.Modulo:return e.pos++,a.charCodeAt(e.pos)===61?(e.pos++,t.SyntaxKind.ModuloAssign):t.SyntaxKind.Modulo;case t.SyntaxKind.BitwiseXor:return e.pos++,a.charCodeAt(e.pos)===61?(e.pos++,t.SyntaxKind.BitwiseXorAssign):t.SyntaxKind.BitwiseXor;case t.SyntaxKind.PrivateIdentifier:return xu(e,o,a);case t.SyntaxKind.EscapedKeyword:let p=$l(e);return p>0?(e.tokenValue=ge(p)+Fa(e,a),e.tokenRaw=a.slice(e.tokenPos,e.pos),m[e.tokenValue]||t.SyntaxKind.Identifier):(a.charCodeAt(e.pos)===92&&e.pos++,e.tokenValue="",e.tokenRaw=a.slice(e.tokenPos,e.pos),t.SyntaxKind.UnknownToken);default:if(R(o)||(64512&o)==55296)return e.tokenValue=Fa(e,a),e.tokenRaw=a.slice(e.curPos,e.pos),t.SyntaxKind.Identifier;if(e.pos++,(-2&o)==8232){e.nodeFlags|=t.NodeFlags.NewLine;continue}if(se(o))continue;return e.onError(2,C.Error,v[118],e.curPos,e.pos),t.SyntaxKind.UnknownToken}o=a.charCodeAt(e.pos)}return t.SyntaxKind.EndOfFileToken}function ed(e,r,a,o){return{kind:t.SyntaxKind.ForBinding,varKeyword:e,declarationList:r,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:a,end:o}}function Ca(e,r,a,o){return{kind:t.SyntaxKind.BlockStatement,block:e,flags:r,transformFlags:n.None,start:a,end:o}}function oi(e,r,a,o){return{kind:t.SyntaxKind.Block,statements:e,flags:r,transformFlags:n.None,start:a,end:o}}function ao(e,r,a,o,l,p){return{kind:t.SyntaxKind.LabelledStatement,label:e,colonToken:r,statement:a,flags:o,transformFlags:n.None,start:l,end:p}}function no(e,r,a,o){return{kind:t.SyntaxKind.BreakStatement,breakKeyword:e,label:r,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:a,end:o}}function io(e,r,a,o){return{kind:t.SyntaxKind.ContinueStatement,continueKeyword:e,label:r,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:a,end:o}}function so(e,r,a){return{kind:t.SyntaxKind.CaseBlock,clauses:e,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:r,end:a}}function oo(e,r,a,o,l,p){return{kind:t.SyntaxKind.CaseClause,caseKeyword:e,expression:r,colonToken:a,statements:o,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:l,end:p}}function td(e,r,a,o,l,p){return{kind:t.SyntaxKind.Catch,catchKeyword:e,catchParameter:r,block:a,flags:o,transformFlags:n.None,start:l,end:p}}function lo(e,r,a){return{kind:t.SyntaxKind.DebuggerStatement,debuggerKeyword:e,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:r,end:a}}function rd(e,r,a,o,l,p,d){return{kind:t.SyntaxKind.TryStatement,tryKeyword:e,block:r,catchClause:a,finallyKeyword:o,finallyBlock:l,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:p,end:d}}function co(e,r,a,o,l){return{kind:t.SyntaxKind.DefaultClause,defaultKeyword:e,colonToken:r,statements:a,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:o,end:l}}function po(e,r,a,o,l,p,d){return{kind:t.SyntaxKind.DoWhileStatement,doKeyword:e,statement:o,whileKeyword:a,expression:r,flags:l,transformFlags:n.None,start:p,end:d}}function uo(e,r){return{kind:t.SyntaxKind.EmptyStatement,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:e,end:r}}function ad(e,r,a,o,l,p,d,c){return{kind:t.SyntaxKind.ForInStatement,forKeyword:e,initializer:a,inKeyword:r,expression:o,statement:l,flags:p,transformFlags:n.None,start:d,end:c}}function nd(e,r,a,o,l,p,d,c,f){return{kind:t.SyntaxKind.ForOfStatement,forKeyword:e,awaitKeyword:p,initializer:a,ofKeyword:r,expression:o,statement:l,flags:d,transformFlags:n.None,start:c,end:f}}function id(e,r,a,o,l,p,d,c){return{kind:t.SyntaxKind.ForStatement,forKeyword:e,initializer:r,condition:a,incrementor:o,statement:l,flags:p,transformFlags:n.None,start:d,end:c}}function li(e,r,a,o,l,p,d,c){return{kind:t.SyntaxKind.IfStatement,ifKeyword:e,expression:r,consequent:a,elseKeyword:o,alternate:l,flags:p,transformFlags:n.None,start:d,end:c}}function sd(e,r,a,o,l){return{kind:t.SyntaxKind.ReturnStatement,returnKeyword:e,expression:r,flags:a,transformFlags:n.ShouldNotIndent,start:o,end:l}}function yo(e,r,a,o,l,p){return{kind:t.SyntaxKind.SwitchStatement,switchKeyword:e,expression:r,caseBlock:a,flags:o,transformFlags:n.None,start:l,end:p}}function mo(e,r,a,o,l){return{kind:t.SyntaxKind.ThrowStatement,throwKeyword:e,expression:r,flags:a,transformFlags:n.None,start:o,end:l}}function fo(e,r,a,o,l,p){return{kind:t.SyntaxKind.WhileStatement,whileKeyword:e,expression:r,statement:a,flags:o,transformFlags:n.None,start:l,end:p}}function od(e,r,a,o,l,p){return{kind:t.SyntaxKind.WithStatement,withKeyword:e,expression:r,statement:a,flags:o,transformFlags:n.None,start:l,end:p}}function di(e,r,a,o){return{kind:t.SyntaxKind.IndexExpressionChain,chain:e,expression:r,flags:t.NodeFlags.ExpressionNode,transformFlags:n.IndexExpression,start:a,end:o}}function ld(e,r,a){return{kind:t.SyntaxKind.DecoratorList,elements:e,flags:t.NodeFlags.ExpressionNode,transformFlags:n.None,start:r,end:a}}function dd(e,r,a,o,l){return{kind:t.SyntaxKind.Decorator,decoratorToken:e,expression:r,flags:a,transformFlags:n.None,start:o,end:l}}function xo(e,r,a,o){return{kind:t.SyntaxKind.MemberAccessChain,chain:e,expression:r,flags:t.NodeFlags.ExpressionNode,transformFlags:n.MemberAccessExpression,start:a,end:o}}function Aa(e,r,a,o,l){return{kind:t.SyntaxKind.CallChain,chain:e,typeArguments:r,argumentList:a,flags:t.NodeFlags.ExpressionNode,transformFlags:n.CallExpression,start:o,end:l}}function cd(e,r,a,o,l){return{kind:t.SyntaxKind.OptionalExpression,chainToken:e,member:r,chain:a,flags:t.NodeFlags.ExpressionNode,transformFlags:n.None,start:o,end:l}}function pd(e,r,a){return{kind:t.SyntaxKind.OptionalChain,chain:e,flags:t.NodeFlags.ExpressionNode,transformFlags:n.None,start:r,end:a}}function ud(e,r,a,o){return{kind:t.SyntaxKind.ImportCall,importKeyword:e,expression:r,flags:t.NodeFlags.ExpressionNode,transformFlags:n.None,start:a,end:o}}function yd(e,r,a,o,l){return{kind:t.SyntaxKind.ImportMeta,importKeyword:e,metaIdentifier:r,flags:a,transformFlags:n.None,start:o,end:l}}function md(e,r,a,o,l){return{kind:t.SyntaxKind.TemplateExpression,spans:e,tail:r,flags:a,transformFlags:n.None,start:o,end:l}}function go(e,r,a,o,l,p,d,c,f,g,S){return{kind:t.SyntaxKind.ClassElement,declareToken:e,decorators:r,staticKeyword:o,asyncKeyword:l,setKeyword:p,getKeyword:d,asteriskToken:a,method:c,flags:f,transformFlags:n.None,start:g,end:S}}function fd(e,r,a,o,l,p){return{kind:t.SyntaxKind.StaticBlock,decorators:e,declaredKeyword:r,staticKeyword:a,block:o,flags:t.NodeFlags.ExpressionNode,transformFlags:n.None,start:l,end:p}}function ci(e,r,a,o,l){return{kind:t.SyntaxKind.ClassTail,classHeritage:e,body:r,flags:a,transformFlags:n.None,start:o,end:l}}function So(e,r,a){return{kind:t.SyntaxKind.ClassBody,elements:e,flags:t.NodeFlags.ExpressionNode,transformFlags:n.None,start:r,end:a}}function xd(e,r,a,o,l,p,d,c){return{kind:t.SyntaxKind.ClassExpression,decorators:e,classKeyword:r,name:a,typeParameters:o,tail:l,flags:p,transformFlags:n.None,start:d,end:c}}function gd(e,r,a,o,l,p,d,c,f,g){return{kind:t.SyntaxKind.FieldDefinition,decorators:e,declaredToken:r,staticKeyword:a,asyncKeyword:o,key:l,optionalToken:p,type:d,initializer:c,flags:t.NodeFlags.ExpressionNode,transformFlags:n.ShouldIndentIfInlining,start:f,end:g}}function Sd(e,r,a,o,l){return{kind:t.SyntaxKind.ClassHeritage,extendsKeyword:e,expression:r,typeParameter:a,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:o,end:l}}function hd(e,r,a,o,l){return{kind:t.SyntaxKind.TemplateSpan,rawText:e,text:r,expression:a,flags:t.NodeFlags.ExpressionNode,transformFlags:n.None,start:o,end:l}}function Kd(e,r,a,o,l){return{kind:t.SyntaxKind.TemplateTail,text:r,rawText:e,flags:a,transformFlags:n.None,start:o,end:l}}function pi(e,r,a,o){return{kind:t.SyntaxKind.TaggedTemplate,member:e,template:r,flags:t.NodeFlags.ExpressionNode,transformFlags:n.None,start:a,end:o}}function kd(e,r,a,o){return{kind:t.SyntaxKind.AwaitExpression,awaitKeyword:e,expression:r,flags:t.NodeFlags.ExpressionNode,transformFlags:n.ArrowFolding,start:a,end:o}}function ho(e,r,a,o){return{kind:t.SyntaxKind.ObjectLiteral,propertyList:e,flags:r,transformFlags:n.ArrayOrObjectLiteral,start:a,end:o}}function bd(e,r,a,o,l,p){return{kind:t.SyntaxKind.PropertyDefinition,asteriskToken:e,left:r,right:a,flags:o,transformFlags:n.ShouldIndentIfInlining,start:l,end:p}}function ia(e,r,a,o,l,p,d){return{kind:t.SyntaxKind.PropertyMethod,asyncKeyword:r,asteriskToken:e,getKeyword:a,setKeyword:o,method:l,flags:t.NodeFlags.ExpressionNode,transformFlags:n.None,start:p,end:d}}function wd(e,r,a,o){return{kind:t.SyntaxKind.SpreadProperty,ellipsisToken:e,argument:r,flags:t.NodeFlags.ExpressionNode|t.NodeFlags.DisallowTrailingComma,transformFlags:n.None,start:a,end:o}}function Nd(e,r,a,o){return{kind:t.SyntaxKind.CoverInitializedName,left:e,right:r,flags:t.NodeFlags.ExpressionNode,transformFlags:n.None,start:a,end:o}}function Td(e,r,a,o,l,p,d,c){return{kind:t.SyntaxKind.MethodDefinition,name:e,typeParameters:r,formalParameterList:a,returnType:o,contents:l,flags:p,transformFlags:n.None,start:d,end:c}}function _d(e,r,a,o,l,p,d,c,f){return{kind:t.SyntaxKind.ArrowFunction,asyncKeyword:o,typeParameters:r,arrowParameterList:a,returnType:l,arrowToken:e,contents:p,flags:d,transformFlags:n.None,start:c,end:f}}function Ia(e,r,a,o,l){return{kind:t.SyntaxKind.ArrowParameterList,parameters:e,trailingComma:r,flags:a,transformFlags:n.None,start:o,end:l}}function Ed(e,r,a,o){return{kind:t.SyntaxKind.RegularExpressionLiteral,text:e,rawText:r,flags:t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,transformFlags:n.None,start:a,end:o}}function Ko(e,r,a){return{kind:t.SyntaxKind.ExpressionStatement,expression:e,flags:t.NodeFlags.IsStatement,transformFlags:n.ArrowFolding,start:r,end:a}}function Fd(e,r,a,o,l){return{kind:t.SyntaxKind.NameSpaceImport,asteriskToken:e,asKeyword:r,binding:a,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:o,end:l}}function Cd(e,r,a,o,l){return{kind:t.SyntaxKind.FromClause,fromKeyword:e,from:r,flags:a,transformFlags:n.None,start:o,end:l}}function Ad(e,r,a,o,l,p,d,c,f){return{kind:t.SyntaxKind.ExportDeclaration,exportKeyword:e,declaration:r,namedExports:a,exportFromClause:l,fromClause:o,exportKind:p,flags:d,transformFlags:n.None,start:c,end:f}}function Id(e,r,a,o,l){return{kind:t.SyntaxKind.ExportDefault,exportKeyword:e,defaultKeyword:r,declaration:a,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:o,end:l}}function vd(e,r,a,o,l,p,d){return{kind:t.SyntaxKind.ExportFromClause,asteriskToken:e,asKeyword:r,moduleExportName:o,namedBinding:a,flags:l,transformFlags:n.None,start:p,end:d}}function Pd(e,r,a,o,l,p){return{kind:t.SyntaxKind.ExportSpecifier,moduleExportName:e,name:r,asKeyword:a,binding:o,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:l,end:p}}function Vd(e,r,a){return{kind:t.SyntaxKind.ExportsList,specifiers:e,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:r,end:a}}function Ld(e,r,a,o,l){return{kind:t.SyntaxKind.ImportClause,defaultBinding:e,nameSpaceImport:r,namedImports:a,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:o,end:l}}function ko(e,r,a,o,l,p,d,c,f){return{kind:t.SyntaxKind.ImportDeclaration,importKeyword:e,typeKeyword:r,typeofKeyword:a,fromClause:o,moduleSpecifier:l,importClause:p,flags:d,transformFlags:n.None,start:c,end:f}}function Rd(e,r,a,o){return{kind:t.SyntaxKind.ImportsList,specifiers:e,flags:r,transformFlags:n.None,start:a,end:o}}function Od(e,r,a,o){return{kind:t.SyntaxKind.NamedExports,exportsList:e,flags:r,transformFlags:n.None,start:a,end:o}}function Dd(e,r,a){return{kind:t.SyntaxKind.NamedImports,importsList:e,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:r,end:a}}function ui(e,r,a,o,l,p,d){return{kind:t.SyntaxKind.ImportSpecifier,typeKeyword:e,moduleExportName:r,name:a,asKeyword:o,binding:l,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:p,end:d}}function va(e,r,a,o){return{kind:t.SyntaxKind.SpreadElement,ellipsisToken:e,argument:r,flags:t.NodeFlags.ExpressionNode|t.NodeFlags.DisallowTrailingComma,transformFlags:n.None,start:a,end:o}}function Hd(e,r,a,o){return{kind:t.SyntaxKind.NewTarget,newKeyword:e,targetIdentifier:r,flags:t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,transformFlags:n.None,start:a,end:o}}function Bd(e,r,a,o,l,p){return{kind:t.SyntaxKind.YieldExpression,yieldKeyword:e,delegate:r,asteriskToken:a,expression:o,flags:t.NodeFlags.ExpressionNode,transformFlags:n.ArrowFolding,start:l,end:p}}function bo(e,r,a,o,l,p){return{kind:t.SyntaxKind.NewExpression,newKeyword:e,expression:r,argumentList:a,flags:o,transformFlags:n.NewExpression,start:l,end:p}}function Hr(e,r,a,o,l){return{kind:t.SyntaxKind.ArgumentList,elements:e,trailingComma:r,flags:a,transformFlags:n.None,start:o,end:l}}function wo(e,r,a){return{kind:t.SyntaxKind.FunctionBody,functionStatementList:e,flags:t.NodeFlags.ExpressionNode,transformFlags:n.None,start:r,end:a}}function jd(e,r,a,o,l,p,d,c,f,g,S){return e&&(f|=t.NodeFlags.Generator),a&&(f|=t.NodeFlags.Async),{kind:t.SyntaxKind.FunctionExpression,asyncKeyword:e,functionKeyword:r,asteriskToken:a,name:o,typeParameters:d,formalParameterList:l,contents:p,returnType:c,flags:f,transformFlags:n.None,start:g,end:S}}function No(e,r,a,o,l){return{kind:t.SyntaxKind.FunctionStatementList,directives:e,statements:r,flags:a,transformFlags:n.None,start:o,end:l}}function Pa(e,r,a,o,l){return{kind:t.SyntaxKind.FormalParameterList,formalParameters:e,trailingComma:r,flags:a,transformFlags:n.None,start:o,end:l}}function yi(e,r){return{kind:t.SyntaxKind.Elison,flags:t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,transformFlags:n.None,start:e,end:r}}function Ud(e,r,a,o,l){return{kind:t.SyntaxKind.BindingElementList,elements:e,trailingComma:r,flags:a,transformFlags:n.None,start:o,end:l}}function Be(e,r,a,o,l,p,d,c){return{kind:t.SyntaxKind.BindingElement,ellipsisToken:e,left:r,optionalToken:a,type:o,right:l,flags:p,transformFlags:n.ArrowFolding,start:d,end:c}}function To(e,r,a,o){return{kind:t.SyntaxKind.ArrayBindingPattern,elementList:e,flags:r,transformFlags:n.None,start:a,end:o}}function mi(e,r,a,o,l){return{kind:t.SyntaxKind.ElementList,elements:e,trailingComma:r,flags:a,transformFlags:n.None,start:o,end:l}}function _o(e,r,a,o,l){return{kind:t.SyntaxKind.BindingProperty,key:e,value:r,initializer:a,flags:t.NodeFlags.ExpressionNode,transformFlags:n.None,start:o,end:l}}function Eo(e,r,a,o,l){return{kind:t.SyntaxKind.BindingPropertyList,properties:e,trailingComma:a,flags:r,transformFlags:n.None,start:o,end:l}}function Fo(e,r,a,o){return{kind:t.SyntaxKind.ObjectBindingPattern,propertyList:e,flags:r,transformFlags:n.None,start:a,end:o}}function fi(e,r,a,o,l){return{kind:t.SyntaxKind.RootNode,directives:e,statements:r,isModule:a,source:o,fileName:l,flags:t.NodeFlags.None,transformFlags:n.None,start:0,end:o.length}}function Rt(e,r,a,o,l){return{kind:t.SyntaxKind.Identifier,text:e,rawText:r,flags:a,transformFlags:n.None,start:o,end:l}}function Md(e,r,a){return{kind:t.SyntaxKind.ComputedPropertyName,expression:e,flags:t.NodeFlags.ExpressionNode,transformFlags:n.None,start:r,end:a}}function xi(e,r,a,o){return{kind:t.SyntaxKind.ArrayLiteral,elementList:e,flags:r,transformFlags:n.ArrayOrObjectLiteral,start:a,end:o}}function Va(e,r,a,o,l,p){return{kind:t.SyntaxKind.AssignmentExpression,left:e,operatorToken:r,right:a,flags:o,transformFlags:n.ShouldIndentIfInlining,start:l,end:p}}function Br(e,r,a,o){return{kind:t.SyntaxKind.ParenthesizedExpression,expression:e,flags:r,transformFlags:n.None,start:a,end:o}}function Co(e,r,a,o){return{kind:t.SyntaxKind.UnaryExpression,operandToken:e,operand:r,flags:t.NodeFlags.ExpressionNode,transformFlags:n.PrefixUpdateOrUnary,start:a,end:o}}function Ao(e,r,a,o){return{kind:t.SyntaxKind.PostfixUpdateExpression,operandToken:e,operand:r,flags:t.NodeFlags.ExpressionNode,transformFlags:n.None,start:a,end:o}}function Io(e,r,a,o){return{kind:t.SyntaxKind.PrefixUpdateExpression,operandToken:e,operand:r,flags:t.NodeFlags.ExpressionNode,transformFlags:n.PrefixUpdateOrUnary,start:a,end:o}}function zd(e,r,a,o){return{kind:t.SyntaxKind.PrivateIdentifier,text:e,rawText:r,flags:t.NodeFlags.NoChildren|t.NodeFlags.ExpressionNode,transformFlags:n.None,start:a,end:o}}function gi(e,r,a,o,l){return{kind:t.SyntaxKind.IndexExpression,member:e,expression:r,flags:a,transformFlags:n.IndexExpression,start:o,end:l}}function qd(e,r,a,o){return{kind:t.SyntaxKind.MemberAccessExpression,member:e,expression:r,flags:t.NodeFlags.ExpressionNode,transformFlags:n.MemberAccessExpression,start:a,end:o}}function jr(e,r,a,o,l){return{kind:t.SyntaxKind.CallExpression,expression:e,argumentList:r,flags:a,transformFlags:n.CallExpression,start:o,end:l}}function sa(e,r,a){return{kind:t.SyntaxKind.CommaOperator,expressions:e,flags:t.NodeFlags.ExpressionNode,transformFlags:n.CanBreak,start:r,end:a}}function vo(e,r,a,o,l){return{kind:t.SyntaxKind.NumericLiteral,text:e,rawText:r,flags:a,transformFlags:n.None,start:o,end:l}}function Si(e,r,a,o,l){return{kind:t.SyntaxKind.StringLiteral,text:e,rawText:r,flags:a,transformFlags:n.None,start:o,end:l}}function Gd(e,r,a,o,l){return{kind:t.SyntaxKind.BigIntLiteral,text:e,rawText:r,flags:a,transformFlags:n.None,start:o,end:l}}function tr(e,r,a,o,l,p,d,c){return{kind:t.SyntaxKind.ConditionalExpression,shortCircuit:e,questionToken:r,consequent:a,colonToken:o,alternate:l,flags:p,transformFlags:n.ArrowFolding,start:d,end:c}}function kr(e,r,a,o,l,p){return{kind:t.SyntaxKind.BinaryExpression,left:e,operatorToken:r,right:a,flags:o,transformFlags:n.CanBreak|n.ArrowFolding,start:l,end:p}}function Jd(e,r,a,o,l){return{kind:t.SyntaxKind.SubtractionType,subtractionToken:e,text:r,rawText:a,flags:t.NodeFlags.NoChildren|t.NodeFlags.IsTypeNode,transformFlags:n.None,start:o,end:l}}function Wd(e,r,a,o,l){return{kind:t.SyntaxKind.IndexedAccessType,objectType:e,indexType:r,flags:a,transformFlags:n.None,start:o,end:l}}function gu(e,r,a,o){return{kind:t.SyntaxKind.RestType,ellipsisToken:e,type:r,flags:t.NodeFlags.IsTypeNode|t.NodeFlags.NoChildren,transformFlags:n.None,start:a,end:o}}function Su(e,r,a,o){return{kind:t.SyntaxKind.OptionalType,type:r,optionalToken:e,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:a,end:o}}function Qd(e,r,a,o,l,p){return{kind:t.SyntaxKind.TypeSpreadProperty,protoKeyword:e,staticKeyword:o,ellipsisToken:r,type:a,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:l,end:p}}function Po(e,r,a,o,l,p,d){return{kind:t.SyntaxKind.InternalSlot,protoKeyword:e,staticKeyword:o,name:r,optionalToken:a,type:l,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:p,end:d}}function Yd(e,r,a){return{kind:t.SyntaxKind.ArrayType,type:e,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:r,end:a}}function hu(e,r,a,o,l){return{kind:t.SyntaxKind.OptionalIndexedAccess,objectType:r,optionalIndexedToken:e,indexType:a,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:o,end:l}}function Xd(e,r,a,o){return{kind:t.SyntaxKind.TypeofType,typeOfKeyword:e,type:r,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:a,end:o}}function $d(e,r,a,o){return{kind:t.SyntaxKind.NullableType,nullableToken:e,type:r,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:a,end:o}}function Zd(e,r,a,o,l){return{kind:t.SyntaxKind.ObjectType,properties:e,trailingComma:r,flags:a,transformFlags:n.None,start:o,end:l}}function ec(e,r,a,o,l){return{kind:t.SyntaxKind.StringType,text:e,rawText:r,flags:a,transformFlags:n.CanBreak,start:o,end:l}}function tc(e,r,a,o,l){return{kind:t.SyntaxKind.NumberType,text:e,rawText:r,flags:a,transformFlags:n.None,start:o,end:l}}function rc(e,r,a,o,l,p,d){return{kind:t.SyntaxKind.CallSignature,protoKeyword:e,staticKeyword:o,typeParameter:r,value:a,returnType:l,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:p,end:d}}function ac(e,r,a,o,l,p,d){return{kind:t.SyntaxKind.IndexSignatureDeclaration,protoKeyword:e,staticKeyword:r,key:a,value:o,type:l,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:p,end:d}}function Vo(e,r,a){return{kind:t.SyntaxKind.IntersectionType,types:e,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:r,end:a}}function nc(e,r,a){return{kind:t.SyntaxKind.UnionType,types:e,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:r,end:a}}function ic(e,r,a,o,l){return{kind:t.SyntaxKind.TypeAnnotation,bitwiseOrToken:e,bitwiseAndToken:r,type:a,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:o,end:l}}function sc(e,r,a,o){return{kind:t.SyntaxKind.QualifiedType,qualification:e,name:r,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:a,end:o}}function hi(e,r,a,o){return{kind:t.SyntaxKind.TypeReference,typeName:e,typeParameters:r,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:a,end:o}}function br(e,r,a,o,l,p){return{kind:t.SyntaxKind.TypeParameter,name:e,type:r,assignToken:a,defaultType:o,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:l,end:p}}function oc(e,r,a,o,l){return{kind:t.SyntaxKind.TupleType,elementTypes:e,trailingComma:r,flags:a,transformFlags:n.None,start:o,end:l}}function Ot(e,r,a,o,l,p){return{kind:t.SyntaxKind.ArrowFunctionType,typeParameters:o,arrowTypeParameterList:e,arrowToken:r,returnType:a,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:l,end:p}}function rr(e,r,a,o,l,p){return{kind:t.SyntaxKind.ArrowTypeParameter,ellipsisToken:e,name:r,optionalToken:a,types:o,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:l,end:p}}function La(e,r,a){return{kind:t.SyntaxKind.ParenthesizedType,type:e,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:r,end:a}}function Lo(e,r,a,o,l){return{kind:t.SyntaxKind.FunctionType,functionTypeParameterList:e,returnType:r,typeParameters:a,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:o,end:l}}function lc(e,r,a,o){return{kind:t.SyntaxKind.FunctionTypeParameterList,parameters:e,trailingComma:r,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:a,end:o}}function Ro(e,r,a,o){return{kind:t.SyntaxKind.ArrowTypeParameterList,parameters:e,trailingComma:r,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:a,end:o}}function Oo(e,r,a,o,l,p){return{kind:t.SyntaxKind.FunctionTypeParameter,ellipsisToken:e,name:r,optionalToken:a,types:o,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:l,end:p}}function wr(e,r,a,o,l){return{kind:t.SyntaxKind.TypeParameterDeclaration,declarations:e,trailingComma:r,flags:a,transformFlags:n.TypeParameter,start:o,end:l}}function dc(e,r,a,o){return{kind:t.SyntaxKind.BindingList,bindingList:e,flags:r|t.NodeFlags.IsStatement,transformFlags:n.None,start:a,end:o}}function Do(e,r,a){return{kind:t.SyntaxKind.VariableDeclarationList,declarations:e,flags:t.NodeFlags.IsStatement,transformFlags:n.None,start:r,end:a}}function Ho(e,r,a,o,l,p){return{kind:t.SyntaxKind.VariableStatement,declareKeyword:e,varKeyword:r,declarationList:a,flags:o,transformFlags:n.None,start:l,end:p}}function cc(e,r,a,o,l){return{kind:t.SyntaxKind.VariableDeclaration,binding:e,type:r,initializer:a,flags:t.NodeFlags.IsStatement,transformFlags:n.ShouldIndentIfInlining|n.ArrowFolding,start:o,end:l}}function pc(e,r,a,o,l,p,d,c,f){return{kind:t.SyntaxKind.ClassDeclaration,declareKeyword:e,decorators:r,classKeyword:a,name:o,typeParameters:l,tail:p,flags:d,transformFlags:n.None,start:c,end:f}}function uc(e,r,a,o,l){return{kind:t.SyntaxKind.LexicalBinding,binding:e,type:r,initializer:a,flags:t.NodeFlags.IsStatement,transformFlags:n.ShouldIndentIfInlining|n.ArrowFolding,start:o,end:l}}function Ra(e,r,a,o){return{kind:t.SyntaxKind.LexicalDeclaration,lexicalKeyword:e,binding:r,flags:t.NodeFlags.IsStatement|t.NodeFlags.Lexical,transformFlags:n.None,start:a,end:o}}function yc(e,r,a,o,l,p,d,c,f){return{kind:t.SyntaxKind.TypeAlias,declareToken:e,typeToken:r,name:a,typeParameters:o,assignToken:l,type:p,flags:d,transformFlags:n.None,start:c,end:f}}function mc(e,r,a,o,l,p,d,c,f){return{kind:t.SyntaxKind.OpaqueType,declareToken:e,opaqueToken:r,typeToken:a,name:o,typeParameters:l,superType:p,impltype:d,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:c,end:f}}function Ur(e,r,a,o,l,p,d,c,f){return{kind:t.SyntaxKind.TypeProperty,protoKeyword:d,staticKeyword:p,getKeyword:e,setKeyword:r,key:a,optionalToken:l,type:o,flags:t.NodeFlags.IsTypeNode,transformFlags:n.None,start:c,end:f}}function fc(e,r,a,o,l,p,d,c,f,g,S,h){return e&&(g|=t.NodeFlags.Declared),r&&(g|=t.NodeFlags.Generator),o&&(g|=t.NodeFlags.Async),{kind:t.SyntaxKind.FunctionDeclaration,declareKeyword:e,asyncKeyword:r,functionKeyword:a,asteriskToken:o,name:l,typeParameters:c,formalParameterList:p,contents:d,returnType:f,flags:g,transformFlags:n.None,start:S,end:h}}function Mr(e,r){return{kind:t.SyntaxKind.DummyIdentifier,text:"",rawText:"",flags:t.NodeFlags.NoChildren,transformFlags:n.None,start:e,end:r}}function xc(e,r,a,o,l){return{kind:t.SyntaxKind.PropertyDefinitionList,properties:e,trailingComma:r,flags:a,transformFlags:n.None,start:o,end:l}}function ue(e,r,a){return e.token===a&&(Ne(e,r),!0)}function Q(e,r,a,o){return e.token===a?(Ne(e,r),!0):(o&&e.previousErrorPos!==e.pos&&(e.previousErrorPos=e.pos,e.onError(2,C.Error,v[o],e.tokenPos,e.pos)),!1)}function ne(e,r,a){if(e.token===a){let{curPos:o,token:l,nodeFlags:p}=e;return Ne(e,r),x(l,p|t.NodeFlags.NoChildren,o,e.curPos)}return null}function Te(e,r,a,o){if(e.token===a){let{curPos:l,token:p,nodeFlags:d}=e;return Ne(e,r),x(p,d|t.NodeFlags.NoChildren,l,e.curPos)}return o&&e.previousErrorPos!==e.pos&&(e.previousErrorPos=e.pos,e.onError(2,C.Error,v[o],e.curPos,e.pos)),null}function Ct(e,r,a,o){let{token:l,nodeFlags:p}=e;return 24576&p&&e.onError(2,C.Error,v[124],o,e.pos),e.assignable=!1,Ne(e,r),x(l,a|t.NodeFlags.NoChildren|p,o,e.curPos)}function at(e,r,a,o,l,p){if(e.token===a){let{token:d,nodeFlags:c}=e;return 24576&c&&A(e,e.curPos,124),e.assignable=!1,Ne(e,r),x(d,o|t.NodeFlags.NoChildren|c,l,e.curPos)}return p&&e.previousErrorPos!==e.pos&&A(e,e.curPos,p),null}function ot(e,r){return e.token&t.SyntaxKind.Smi||e.nodeFlags&t.NodeFlags.NewLine?ue(e,64|r,t.SyntaxKind.Semicolon):(e.previousErrorPos!==e.pos&&(e.previousErrorPos=e.pos,A(e,e.curPos,258,u(e.token),";")),!1)}function mr(e,r,a,o){let{pos:l,curPos:p,tokenPos:d,tokenRaw:c,token:f,tokenValue:g,nodeFlags:S}=e,h=a(e,r);return h&&!o||(e.pos=l,e.curPos=p,e.tokenPos=d,e.token=f,e.tokenValue=g,e.nodeFlags=S,e.tokenRaw=c),h}function gc(e){return e.token===t.SyntaxKind.NumericLiteral||!(e.token&(t.SyntaxKind.IsPropertyOrCall|t.SyntaxKind.IsBinaryOp|t.SyntaxKind.IsExpressionStart))&&!!function(r){return r.token&t.SyntaxKind.Smi||r.nodeFlags&t.NodeFlags.NewLine}(e)}function fr(e,r,a,o,l){64&l?Bo(e,r,a,o,l):qt(e,r,a,o,l)}function Bo(e,r,a,o,l){if(a){let p=a;for(;p&&!(256&p.kind);)1072&p["#"+o]?A(e,e.curPos,187,o):384&p["#"+o]&&(!(524292&r)&&128&p["#"+o]||A(e,e.curPos,188)),p["#"+o]=l,p=p.scope}}function qt(e,r,a,o,l){if(a){let p=a["#"+o];if(p)8192&p||(8&l?(e.diagnosticStartPos=e.curPos,a.flags=1):!(4&r)&&1024&p&&16&r||A(e,e.curPos,191,o));else{let d=a.scope;128&a.kind&&d["#"+o]&&!(8192&d["#"+o])&&A(e,e.curPos,187,o),1024&a.kind&&p&&!(8192&p)&&8&l&&(e.diagnosticStartPos=e.curPos,a.flags=1),64&a.kind&&384&d["#"+o]&&e.onError(2,C.Error,v[189],e.curPos,e.pos)}a["#"+o]=l}}function A(e,r,a,...o){let l=v[a];arguments.length>3&&(l=l.replace(/{(\d+)}/g,(p,d)=>o[d])),e.onError(2,C.Error|C.EarlyError,l,r,e.pos)}function Ki(e,r,a,o,l,p){let d=0,c=0;if(p!=null&&(p.next&&(a|=1),p.impliedStrict&&(a|=524288),p.allowTypes&&(a|=2),p.disableWebCompat&&(a|=4),p.autofix&&(a|=536870912),p.lint)){let F=p.lint;F.noCatchAssign&&(d|=1),F.noCommaOperator&&(d|=2),F.noDebugger&&(d|=4),F.noDelete&&(d|=8),F.NoEmpty&&(d|=16),F.defaultClause&&(d|=32),F.noBitwise&&(d|=64),F.noVar&&(d|=256),F.noUnusedVariables&&(d|=512),F.noSparseArray&&(d|=1024),F.noNestedTernary&&(d|=2048),F.switchDefault&&(d|=4096),F.noUnsafeFinally&&(d|=8192),F.quotemark&&(d|=16384),F.noNullKeyword&&(d|=32768),F.noEval&&(d|=131072),F.noDuplicateSwitchCase&&(d|=262144),F.noConsole&&(d|=524288),F.noAny&&(d|=1048576),F.arrowParens&&(d|=2097152),F.enforceCurly&&(d|=4194304),F.linebreakStyle&&(d|=8388608),F.noArg&&(d|=16777216),F.noDeleteVar&&(d|=33554432),F.noNullUndefinedUnion&&(d|=67108864),F.noTrailingWhitespace&&(d|=134217728),F.noUseBeforeDeclare&&(d|=268435456),F.preferConst&&(d|=536870912),F.noWhitespace&&(d|=1073741824),F.nonEmptyCharacterClass&&(d|=16,c|=1),F.noEmptyPattern&&(d|=16,c|=4),F.noEmptyFunction&&(d|=16,c|=2),F.noForIn&&(d|=65536,c|=8),F.guardForIn&&(d|=65536,c|=16)}let f=0;if(e.charCodeAt(1)===33&&e.charCodeAt(0)===35)for(;f<e.length&&!de(e.charCodeAt(f));)f++;if(!(1048580&a)&&e.charCodeAt(f+2)===62&&e.charCodeAt(f+1)===45&&e.charCodeAt(0)===45)for(f=3;f<e.length&&!de(e.charCodeAt(f));)f++;let g=function(F,H,J,X,ee){return{source:F,nodeFlags:t.NodeFlags.None,curPos:H,pos:H,end:F.length,token:t.SyntaxKind.UnknownKeyword,tokenPos:0,diagnosticStartPos:0,destructible:0,assignable:!0,onError:J,tokenValue:void 0,tokenRaw:"",linterFlags:X,subRules:ee,previousErrorPos:0}}(e,f,l,d,c);g.token=Zl(g,64|a);let S=o?Ku:oa,h=[],K=[],_;for(;g.token===t.SyntaxKind.StringLiteral;)_=Nr(g,a),gc(g)&&_.rawText.length===12&&_.text==="use strict"?(ot(g,a|=524288),K.push(_)):h.push(bt(g,a,Gt(g,a,_,_.start),_.start));let I={kind:2,scope:null,flags:0};for(;g.token!==t.SyntaxKind.EndOfFileToken;)276946944&g.token?h.push(S(g,a,I,null,null)):(g.previousErrorPos!==g.pos&&g.onError(2,C.Error,v[5],g.curPos,g.pos),Ne(g,64|a));return fi(K,h,o,e,r)}function Ku(e,r,a,o,l){let p=e.token;return p===t.SyntaxKind.ExportKeyword?_c(e,r,a):p===t.SyntaxKind.ImportKeyword?Tc(e,r,a,!1):oa(e,r,a,o,l)}function oa(e,r,a,o,l){switch(e.token){case t.SyntaxKind.FunctionKeyword:case t.SyntaxKind.AsyncKeyword:return Tr(e,r,a,null,0,o);case t.SyntaxKind.DeclareKeyword:case t.SyntaxKind.Decorator:case t.SyntaxKind.ClassKeyword:return Ga(e,r,a,!1,o);case t.SyntaxKind.ConstKeyword:return vc(e,r,t.SyntaxKind.ConstKeyword,t.NodeFlags.Const,a);case t.SyntaxKind.LetKeyword:return Ic(e,r,a,o,l);case t.SyntaxKind.TypeKeyword:return Yo(e,r,null,a,null,null);case t.SyntaxKind.OpaqueKeyword:return tl(e,r,null,a,null,null);case t.SyntaxKind.ImportKeyword:return Tc(e,r,a,!0);case t.SyntaxKind.ExportKeyword:return e.onError(2,C.Error,v[60],e.curPos,e.pos),_c(e,r,a);default:return jo(e,r,!0,a,o,l)}}function jo(e,r,a,o,l,p){switch(e.token){case t.SyntaxKind.LeftBrace:return ca(e,r,{kind:2,scope:o,flags:0},l,p);case t.SyntaxKind.Semicolon:return function(d,c){let f=d.curPos;return Ne(d,64|c),uo(f,d.curPos)}(e,r);case t.SyntaxKind.IfKeyword:return function(d,c,f,g){let S=d.curPos,h=Ct(d,64|c,t.NodeFlags.IsStatement,S),K=Q(d,64|c,t.SyntaxKind.LeftParen,198),_=Dt(d,c);Q(d,64|c,t.SyntaxKind.RightParen,K?165:5);let I=Sc(d,c,f,g),F=ne(d,64|c,t.SyntaxKind.ElseKeyword);return li(h,_,I,F,F?Sc(d,c,f,g):null,24576^(h.flags&~t.NodeFlags.NoChildren|24576),S,d.curPos)}(e,r,o,l);case t.SyntaxKind.WhileKeyword:return function(d,c,f,g,S){let h=d.curPos,K=Ct(d,64|c,t.NodeFlags.IsStatement,h),_=Q(d,64|c,t.SyntaxKind.LeftParen,198),I=Dt(d,c);return Q(d,64|c,t.SyntaxKind.RightParen,_?165:5),fo(K,I,zr(d,8388736^(8392832|c),!1,f,g,S),24576^(K.flags&~t.NodeFlags.NoChildren|24576),h,d.curPos)}(e,r,o,l,p);case t.SyntaxKind.ForKeyword:return function(d,c,f,g){let S=d.curPos,h=Ct(d,64|c,t.NodeFlags.IsStatement,S),K,_=ne(d,64|c,t.SyntaxKind.AwaitKeyword);!_||1049600&c&&!(32&c)||A(d,d.curPos,32&c?251:44),Q(d,64|c,t.SyntaxKind.LeftParen,198);let I=null,F=!1;if(d.token===t.SyntaxKind.LetKeyword){let{curPos:Z}=d;I=ve(d,c,8404992),d.token&(8404992|t.SyntaxKind.IsPatternStart)?(d.token===t.SyntaxKind.InKeyword?524288&c&&A(d,d.curPos,11):(f={kind:1,scope:f,flags:0},I=Ra(x(t.SyntaxKind.LetKeyword,t.NodeFlags.NoChildren,S,d.curPos),wi(d,67108992|c,t.NodeFlags.IsStatement,!0,f,16),S,d.curPos)),F=!0,d.assignable=!0):524288&c?A(d,d.curPos,11):(d.assignable=!0,I=We(d,c,I,t.SyntaxKind.IsPropertyOrCall,Z),d.token===t.SyntaxKind.OfKeyword&&A(d,d.curPos,238))}else d.token===t.SyntaxKind.ConstKeyword?(f={kind:1,scope:f,flags:0},I=Ra(Te(d,c,t.SyntaxKind.ConstKeyword),wi(d,67108992|c,t.NodeFlags.Const,!0,f,32),S,d.curPos),F=!0,d.assignable=!0):d.token===t.SyntaxKind.VarKeyword?(f={kind:1,scope:f,flags:0},I=ed(ne(d,c,t.SyntaxKind.VarKeyword),Ac(d,128|c,!0,f,64),S,d.pos),d.assignable=!0,F=!0):d.token&t.SyntaxKind.IsSemicolon?_&&1049600&c&&A(d,d.curPos,144,"of"):d.token&t.SyntaxKind.IsPatternStart?(I=d.token===t.SyntaxKind.LeftBrace?ir(d,c,null,512):sr(d,c,null,512),I.flags&t.NodeFlags.PrototypeField&&A(d,d.curPos,181),K=d.destructible,d.assignable=!(2&K),I=We(d,c,I,t.SyntaxKind.IsPropertyOrCall,S)):(_&&(c|=32768),I=vt(d,128|c,4));let H=_?Te(d,64|c,t.SyntaxKind.OfKeyword):ne(d,64|c,t.SyntaxKind.OfKeyword);if(H){24576&H.flags&&A(d,d.curPos,124),d.assignable||A(d,d.curPos,63);let Z=we(d,c);return Q(d,64|c,t.SyntaxKind.RightParen,165),nd(h,H,I,Z,zr(d,8388736^(8392832|c),!1,f,g,null),_,24576^(h.flags&~t.NodeFlags.NoChildren|24576),S,d.curPos)}let J=ne(d,64|c,t.SyntaxKind.InKeyword);if(J){65536&d.linterFlags&&8&d.subRules&&d.onError(2,C.Lint,v[267],d.curPos,d.pos),24576&J.flags&&A(d,d.curPos,124),d.assignable||A(d,d.curPos,62);let Z=Dt(d,c);Q(d,64|c,t.SyntaxKind.RightParen,165);let re=zr(d,8388736^(8392832|c),!1,f,g,null);if(65536&d.linterFlags&&16&d.subRules&&re.kind===t.SyntaxKind.BlockStatement&&re.block.statements.length>=1&&re.block.statements[0].kind===t.SyntaxKind.IfStatement){let ce=re.block.statements[0];ce.consequent.kind!==t.SyntaxKind.ContinueStatement&&ce.consequent.kind===t.SyntaxKind.BlockStatement&&ce.consequent.statement.length!==1&&ce.consequent.body[0].kind!==t.SyntaxKind.ContinueStatement&&d.onError(2,C.Lint,v[267],d.curPos,d.pos)}return ad(h,J,I,Z,re,24576^(h.flags&~t.NodeFlags.NoChildren|24576),S,d.curPos)}let X=null,ee=null;return F||(1&K&&d.token!==t.SyntaxKind.Assign&&d.onError(2,C.Error|C.EarlyError,v[145],d.curPos,d.pos),I=ua(d,c,He(d,c,d.nodeFlags,I,S),S)),Q(d,64|c,t.SyntaxKind.Semicolon),d.token!==t.SyntaxKind.Semicolon&&(X=Dt(d,c)),Q(d,64|c,t.SyntaxKind.Semicolon),d.token!==t.SyntaxKind.RightParen&&(ee=Dt(d,c)),Q(d,64|c,t.SyntaxKind.RightParen,165),id(h,I,X,ee,zr(d,8388736^(8392832|c),!1,f,g,null),24576^(h.flags&~t.NodeFlags.NoChildren|24576),S,d.curPos)}(e,r,o,l);case t.SyntaxKind.ReturnKeyword:return function(d,c){let f=d.curPos;256&c||A(d,d.curPos,32&c?252:33);let g=Ct(d,64|c,t.NodeFlags.IsStatement,f),S=d.token&t.SyntaxKind.Smi||d.nodeFlags&t.NodeFlags.NewLine?null:Dt(d,c);return ot(d,c),sd(g,S,g.flags&~t.NodeFlags.NoChildren,f,d.curPos)}(e,r);case t.SyntaxKind.SwitchKeyword:return function(d,c,f,g,S){let h=d.curPos,K=Ct(d,64|c,t.NodeFlags.IsStatement,h),_=Q(d,64|c,t.SyntaxKind.LeftParen,198),I=Dt(d,c);return Q(d,64|c,t.SyntaxKind.RightParen,_?165:5),yo(K,I,function(F,H,J,X,ee){Q(F,H,t.SyntaxKind.LeftBrace);let Z=F.curPos,re=[],ce=!1,ye=null;for(;ku(F.token);){let St=F.curPos;ye=at(F,64|H,F.token,t.NodeFlags.IsStatement,St);let At=[];if(ye.kind===t.SyntaxKind.CaseKeyword){let Qt=Dt(F,H),Qr=Te(F,64|H,t.SyntaxKind.Colon,5);for(;344023040&F.token;)At.push(oa(F,H,J,X,ee));re.push(oo(ye,Qt,Qr,At,St,F.curPos))}else{ce&&F.onError(2,C.Error|C.EarlyError,v[47],F.curPos,F.pos),ce=!0;let Qt=Te(F,64|H,t.SyntaxKind.Colon,5);for(;344023040&F.token;)At.push(oa(F,H,J,X,ee));re.push(co(ye,Qt,At,St,F.curPos))}}!ce&&32&F.linterFlags&&F.onError(2,C.Lint,v[274],F.curPos,F.pos);let Re=so(re,Z,F.curPos);return Q(F,64|H,t.SyntaxKind.RightBrace,159),Re}(d,2064|c,{kind:8,scope:f,flags:0},g,S),24576^(K.flags&~t.NodeFlags.NoChildren|24576),h,d.curPos)}(e,r,o,l,p);case t.SyntaxKind.DoKeyword:return function(d,c,f,g,S){let h=d.curPos,K=Ct(d,64|c,t.NodeFlags.IsStatement,h),_=zr(d,8388736^(8392832|c),!1,f,g,S),I=at(d,64|c,t.SyntaxKind.WhileKeyword,t.NodeFlags.IsStatement,d.curPos),F=Q(d,64|c,t.SyntaxKind.LeftParen,198),H=we(d,c);return Q(d,64|c,t.SyntaxKind.RightParen,F?165:5),ue(d,64|c,t.SyntaxKind.Semicolon),po(K,H,I,_,24576^(K.flags&~t.NodeFlags.NoChildren|24576),h,d.curPos)}(e,r,o,l,p);case t.SyntaxKind.VarKeyword:return Qo(e,r,null,o,64);case t.SyntaxKind.ContinueKeyword:return function(d,c,f){let g=d.curPos;(4096&c)<1&&A(d,g,45);let S=null,h=Ct(d,64|c,t.NodeFlags.IsStatement,g);return d.token&t.SyntaxKind.Smi||d.nodeFlags&t.NodeFlags.NewLine||(S=ve(d,c,8404992),function(K,_){if(K){let I=K;do if(I.iteration&&I.iteration.has(_))return!1;while(I=I.parent)}return!0}(f,S.text)&&A(d,g,237)),ot(d,c),io(h,S,g,d.curPos)}(e,r,l);case t.SyntaxKind.BreakKeyword:return function(d,c,f){let g=d.curPos,S=null,h=Ct(d,64|c,t.NodeFlags.IsStatement,g);return d.token&t.SyntaxKind.Smi||d.nodeFlags&t.NodeFlags.NewLine?(6144&c)<1&&d.onError(2,C.Error|C.EarlyError,v[46],d.curPos,d.pos):(S=ve(d,c,8404992),function(K,_){if(K){let I=K;do if(I.statements.has(_))return!1;while(I=I.parent)}return!0}(f,S.text)&&d.onError(2,C.Error|C.EarlyError,v[236],d.curPos,d.pos)),ot(d,64|c),no(h,S,g,d.curPos)}(e,r,l);case t.SyntaxKind.ThrowKeyword:return function(d,c){let f=d.curPos,g=Ct(d,64|c,t.NodeFlags.IsStatement,f);d.nodeFlags&t.NodeFlags.NewLine&&A(d,d.curPos,10);let S=Dt(d,c);return ot(d,c),mo(g,S,g.flags&~t.NodeFlags.NoChildren,f,d.curPos)}(e,r);case t.SyntaxKind.FinallyKeyword:case t.SyntaxKind.CatchKeyword:case t.SyntaxKind.TryKeyword:return function(d,c,f,g){let S=d.curPos,h=at(d,64|c,t.SyntaxKind.TryKeyword,t.NodeFlags.IsStatement,S),K=ca(d,c,{kind:2,scope:{kind:2,scope:f,flags:0},flags:0},g,null),_=function(H,J,X,ee){let Z=H.curPos,re=at(H,64|J,t.SyntaxKind.CatchKeyword,t.NodeFlags.IsStatement,Z);if(!re)return null;let ce=null;return ue(H,J,t.SyntaxKind.LeftParen)&&(ce=Jr(H,J,X={kind:2,scope:X,flags:0},8404992&H.token?128:256,H.token===t.SyntaxKind.PrivateIdentifier?6:115),Q(H,64|J,t.SyntaxKind.RightParen,2&J&&H.token===t.SyntaxKind.Colon?228:H.token===t.SyntaxKind.Assign?7:165),X={kind:64,scope:X,flags:0}),td(re,ce,ca(H,J,X,ee,null),24576^(re.flags&~t.NodeFlags.NoChildren|24576),Z,H.curPos)}(d,c,f,g),I=null,F=null;if(_&&d.token!==t.SyntaxKind.FinallyKeyword||(F=Te(d,64|c,t.SyntaxKind.FinallyKeyword,_||d.token===t.SyntaxKind.FinallyKeyword?256:257),I=ca(d,c,{kind:2,scope:f,flags:0},g,null)),8192&d.linterFlags&&I)for(let H of I.block.statements)H.kind!==t.SyntaxKind.ThrowStatement&&H.kind!==t.SyntaxKind.ContinueStatement&&H.kind!==t.SyntaxKind.BreakStatement&&H.kind!==t.SyntaxKind.ReturnStatement||d.onError(2,C.Lint,v[279],d.curPos,d.pos);return rd(h,K,_,F,I,S,d.curPos)}(e,r,o,l);case t.SyntaxKind.DebuggerKeyword:return function(d,c){let f=d.curPos,g=Ct(d,64|c,t.NodeFlags.IsStatement,f);return 4&d.linterFlags&&d.onError(2,C.Lint,v[264],d.curPos,d.pos),ot(d,c),lo(g,f,d.curPos)}(e,r);case t.SyntaxKind.WithKeyword:return function(d,c,f,g,S){let h=d.curPos;524288&c&&A(d,d.curPos,75);let K=Ct(d,64|c,t.NodeFlags.IsStatement,h),_=Q(d,64|c,t.SyntaxKind.LeftParen,198),I=Dt(d,c);return Q(d,64|c,t.SyntaxKind.RightParen,_?165:5),od(K,I,zr(d,8388736^(8392832|c),!1,f,g,S),24576^(K.flags&~t.NodeFlags.NoChildren|24576),h,d.curPos)}(e,r,o,l,p);default:return function(d,c,f,g,S,h){let{token:K,curPos:_,nodeFlags:I}=d,F=Pt(d,c,0);return K===t.SyntaxKind.LetKeyword&&d.token===t.SyntaxKind.LeftBracket&&A(d,_,2),d.nodeFlags&t.NodeFlags.NewLine&&F.kind===t.SyntaxKind.ArrowFunction?bt(d,c,F,_):8404992&K&&d.token===t.SyntaxKind.Colon?la(d,c,F,K,I,f,g,S,h,_):bt(d,c,Gt(d,c,F,_),_)}(e,r,a,o,l,p)}}function ku(e){return e===t.SyntaxKind.DefaultKeyword||e===t.SyntaxKind.CaseKeyword}function Sc(e,r,a,o){return e.token===t.SyntaxKind.FunctionKeyword?(524292&r&&A(e,e.curPos,524288&r?216:218),Tr(e,r,{kind:2,scope:a,flags:0},null,4,null)):e.token===t.SyntaxKind.AsyncKeyword?(e.onError(2,C.Error|C.EarlyError,v[239],e.curPos,e.pos),Tr(e,r,a,null,4,o)):e.token===t.SyntaxKind.ClassKeyword?(A(e,e.curPos,22),Ga(e,r,a,!1,o)):e.token===t.SyntaxKind.LeftBrace?ca(e,r,{kind:2,scope:a,flags:0},o,null):jo(e,r,!1,a,o,null)}function zr(e,r,a,o,l,p){switch(e.token){case t.SyntaxKind.AsyncKeyword:case t.SyntaxKind.FunctionKeyword:return A(e,e.curPos,524288&r?141:21),Tr(e,r,o,null,0,l);case t.SyntaxKind.ClassKeyword:return A(e,e.curPos,22),Ga(e,r,o,!1,l);case t.SyntaxKind.LeftBrace:return ca(e,r,{kind:2,scope:o,flags:0},l,p);default:return jo(e,r,a,o,l,p)}}function la(e,r,a,o,l,p,d,c,f,g){525824&r&&(o===t.SyntaxKind.AwaitKeyword&&1049600&r&&A(e,e.curPos,24576&l?146:223),o===t.SyntaxKind.YieldKeyword&&A(e,g,24576&l?146:222));let S=a.text,h=c;for(;h;)h.statements.has(S)&&A(e,g,148),h=h.parent;let K=Te(e,64|r,t.SyntaxKind.Colon);var _;return(c={parent:c,statements:new Set,iteration:null}).statements.add(S),f||(f=new Set),f.add(S),((_=e.token)===t.SyntaxKind.ForKeyword||_===t.SyntaxKind.WhileKeyword||_===t.SyntaxKind.DoKeyword)&&(c.iteration=f),ao(a,K,!p||524292&r||e.token!==t.SyntaxKind.FunctionKeyword?zr(e,r,p,d,c,f):Tr(e,r,d,null,4,null),l|t.NodeFlags.IsStatement,g,e.curPos)}function bt(e,r,a,o){return ot(e,r),Ko(a,o,e.curPos)}function da(e,r,a,o,l){let{token:p,curPos:d,pos:c,tokenValue:f,tokenRaw:g}=e;return 8404992&p?(524800&r&&p===t.SyntaxKind.YieldKeyword?A(e,d,16384&r?57:524288&r?76:172,"yield"):1049632&r&&p===t.SyntaxKind.AwaitKeyword?A(e,d,32&r?250:16384&r?58:1048576&r?77:172,"await"):524288&r&&p&t.SyntaxKind.IsFutureReserved?A(e,d,116):p===t.SyntaxKind.PrivateIdentifier&&A(e,d,69),e.assignable=!0,fr(e,r,a,e.tokenValue,o),Ne(e,r),Rt(f,g,t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,d,e.curPos)):(e.previousErrorPos!==c&&(e.previousErrorPos=c,e.onError(2,C.Error,v[l||115],d,c)),Mr(d,d))}function Oa(e,r,a){let{curPos:o,tokenValue:l,tokenRaw:p,pos:d,nodeFlags:c}=e;return 8404992&e.token?(e.assignable=!0,524800&r&&e.token===t.SyntaxKind.YieldKeyword&&A(e,o,16384&r?57:524288&r?76:172,"yield"),524288&r&&e.token&t.SyntaxKind.IsFutureReserved&&e.previousErrorPos!==d&&e.onError(2,C.Error,v[e.token===t.SyntaxKind.YieldKeyword?76:116],o,d),Ne(e,r),Rt(l,p,c|t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,o,e.curPos)):(a&&e.previousErrorPos!==d&&(e.previousErrorPos=d,e.onError(2,C.Error,v[a],e.curPos,d)),Mr(o,o))}function ve(e,r,a,o){let{curPos:l,tokenValue:p,tokenRaw:d,pos:c,nodeFlags:f}=e;return e.assignable=!0,e.token&a?(Ne(e,r),Rt(p,d,f|t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,l,e.curPos)):(e.previousErrorPos!==c&&(e.previousErrorPos=c,A(e,l,o||3)),Mr(l,l))}function ca(e,r,a,o,l){let p=e.curPos,d=e.nodeFlags;if(Q(e,64|r,t.SyntaxKind.LeftBrace)){let c=hc(e,16|r,a,o,l);return Q(e,64|r,t.SyntaxKind.RightBrace,159),ue(e,r,t.SyntaxKind.Assign)&&A(e,e.curPos,8),Ca(c,d|t.NodeFlags.IsStatement,p,e.curPos)}return Ca(oi([],t.NodeFlags.IsStatement,p,e.curPos),d|t.NodeFlags.IsStatement,p,p)}function hc(e,r,a,o,l){let p=e.curPos,d=[],c=e.nodeFlags;for(;276946944&e.token;)d.push(oa(e,r,a,o,l));return 16&e.linterFlags&&p===e.curPos&&e.onError(2,C.Lint,v[270],e.curPos,e.pos),oi(d,c|t.NodeFlags.IsStatement,p,e.curPos)}function He(e,r,a,o,l){if((e.token&t.SyntaxKind.IsAssignOp)===t.SyntaxKind.IsAssignOp){e.assignable||A(e,e.curPos,64&e.destructible?183:24);let p=ar(e,64|r,t.NodeFlags.ExpressionNode),d=we(e,r);return e.assignable=!1,Va(o,p,d,a,l,e.curPos)}return function(p,d,c,f){return c=nr(p,d,c,4,p.token,f),p.token===t.SyntaxKind.QuestionMark?Da(p,d,c,f):c}(e,r,o,l)}function ar(e,r,a){let o=e.curPos,l=e.token,p=e.nodeFlags;return e.assignable=!1,Ne(e,r),x(l,p|a|t.NodeFlags.NoChildren,o,e.curPos)}function Da(e,r,a,o){let l=Te(e,64|r,t.SyntaxKind.QuestionMark,15),p=we(e,8388736^(12583040|r));2048&e.linterFlags&&p.kind===t.SyntaxKind.ConditionalExpression&&e.onError(2,C.Lint,v[271],e.curPos,e.pos);let d=Te(e,64|r,t.SyntaxKind.Colon),c=we(e,4194304^(4194304|r));return 2048&e.linterFlags&&c.kind===t.SyntaxKind.ConditionalExpression&&e.onError(2,C.Lint,v[271],e.curPos,e.pos),e.assignable=!1,tr(a,l,p,d,c,a.flags|t.NodeFlags.ExpressionNode,o,e.curPos)}function nr(e,r,a,o,l,p){let d,c,f=e.nodeFlags,g=-((128&r)>0)&t.SyntaxKind.InKeyword;for(;(e.token&t.SyntaxKind.IsBinaryOp)>0;){if(d=e.token,c=d&t.SyntaxKind.Precedence,c+((d===t.SyntaxKind.Exponentiate)<<8)-((g===d)<<12)<=o)return a;if((d!==t.SyntaxKind.LogicalAnd&&d!==t.SyntaxKind.LogicalOr||l!==t.SyntaxKind.QuestionMarkQuestionMark)&&(l!==t.SyntaxKind.LogicalAnd&&l!==t.SyntaxKind.LogicalOr||d!==t.SyntaxKind.QuestionMarkQuestionMark)||A(e,e.curPos,120),a.kind===t.SyntaxKind.PrivateIdentifier&&d!==t.SyntaxKind.InKeyword&&A(e,e.curPos,284),64&e.linterFlags)switch(e.token){case t.SyntaxKind.BitwiseAnd:case t.SyntaxKind.BitwiseAndAssign:case t.SyntaxKind.BitwiseOr:case t.SyntaxKind.BitwiseOrAssign:case t.SyntaxKind.BitwiseXor:case t.SyntaxKind.BitwiseXorAssign:case t.SyntaxKind.ShiftLeft:case t.SyntaxKind.ShiftLeftAssign:case t.SyntaxKind.ShiftRight:case t.SyntaxKind.ShiftRightAssign:case t.SyntaxKind.LogicalShiftRight:case t.SyntaxKind.LogicalShiftRightAssign:e.onError(2,C.Lint,v[265],e.curPos,e.pos)}e.assignable=!1,a=kr(a,ar(e,64|r,t.NodeFlags.ExpressionNode),nr(e,r,vt(e,r,1),c,d,e.curPos),f|a.flags&~t.NodeFlags.NoChildren|t.NodeFlags.ExpressionNode,p,e.curPos)}return a}function vt(e,r,a){let o=e.curPos;return We(e,r,Pt(e,r,a),t.SyntaxKind.IsPropertyOrCall,o)}function we(e,r){let a=e.curPos,o=e.nodeFlags,l=Pt(e,r,0);return He(e,r,o,We(e,r,l,l.kind===t.SyntaxKind.ArrowFunction?t.SyntaxKind.IsMember:t.SyntaxKind.IsPropertyOrCall,a),a)}function Dt(e,r){let a=e.curPos,o=we(e,r);return e.token===t.SyntaxKind.Comma?ua(e,r,o,a):o}function We(e,r,a,o,l){for(;e.token&o;)switch(e.token){case t.SyntaxKind.Increment:case t.SyntaxKind.Decrement:return Eu(e,r,a,l);case t.SyntaxKind.Period:a=wu(e,r,a,l);break;case t.SyntaxKind.LeftBracket:a=Nu(e,r,a,l);break;case t.SyntaxKind.LeftParen:a=Tu(e,r,a,l);break;case t.SyntaxKind.QuestionMarkPeriod:a=cd(Te(e,r,t.SyntaxKind.QuestionMarkPeriod),a,bu(e,8388736^(8388736|r)),l,e.curPos);break;default:a=pi(a,e.token===t.SyntaxKind.TemplateTail?qa(e,8388608|r,t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren|t.NodeFlags.TemplateLiteral):Ti(e,8388608|r),l,e.curPos)}return a}function bu(e,r){let a=null,o=e.curPos;for(e.token===t.SyntaxKind.QuestionMarkPeriod&&A(e,e.curPos,3),ue(e,64|r,t.SyntaxKind.LeftBracket)?(e.token===t.SyntaxKind.RightBracket?A(e,e.curPos,34):a=xo(a,we(e,r),o,e.curPos),ue(e,r,t.SyntaxKind.RightBracket),e.token&t.SyntaxKind.IsAssignOp&&A(e,o,162)):e.token===t.SyntaxKind.LeftParen?a=Aa(a,null,pa(e,r),o,e.curPos):e.token&(t.SyntaxKind.IsFutureReserved|t.SyntaxKind.IsKeyword|t.SyntaxKind.IsIdentifier)?(a=di(a,Ha(e,r),o,e.curPos),e.token&t.SyntaxKind.IsAssignOp&&A(e,o,162)):2&r&&e.token===t.SyntaxKind.LessThan?a=Aa(a,Ua(e,268435456|r),pa(e,r),o,e.curPos):e.token!==t.SyntaxKind.TemplateTail&&e.token!==t.SyntaxKind.TemplateCont||(A(e,e.curPos,70),a=pi(a,e.token===t.SyntaxKind.TemplateTail?qa(e,r,t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren|t.NodeFlags.TemplateLiteral):Ti(e,r),o,e.curPos)),a=pd(a,o,e.curPos),e.assignable=!1;e.token&(t.SyntaxKind.IsKeyword|t.SyntaxKind.IsFutureReserved|t.SyntaxKind.IsIdentifier|t.SyntaxKind.IsPropertyOrCall|t.SyntaxKind.IsLessThanOrLeftParen);)return o=e.curPos,ue(e,64|r,t.SyntaxKind.Period)?a=di(a,Ha(e,r),o,e.curPos):e.token===t.SyntaxKind.LeftParen?a=Aa(a,null,pa(e,r),o,e.curPos):2&r&&e.token===t.SyntaxKind.LessThan?a=Aa(a,Ua(e,268435456|r),pa(e,r),o,e.curPos):ue(e,64|r,t.SyntaxKind.LeftBracket)?(e.token===t.SyntaxKind.RightBracket?A(e,e.curPos,34):a=xo(a,we(e,r),o,e.curPos),ue(e,r,t.SyntaxKind.RightBracket),e.token&t.SyntaxKind.IsAssignOp&&A(e,e.curPos,162)):e.token&(t.SyntaxKind.IsKeyword|t.SyntaxKind.IsFutureReserved|t.SyntaxKind.IsIdentifier)?a=di(a,Ha(e,r),o,e.curPos):e.token!==t.SyntaxKind.TemplateCont&&e.token!==t.SyntaxKind.TemplateTail||(A(e,e.curPos,70),a=pi(a,e.token===t.SyntaxKind.TemplateTail?qa(e,r,t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren|t.NodeFlags.TemplateLiteral):Ti(e,r),o,e.curPos)),e.assignable=!1,a;return a}function Ha(e,r){let a=e.curPos;return 12599296&e.token?e.token===t.SyntaxKind.PrivateIdentifier?Zo(e,r):ve(e,r,12599296,3):(e.onError(2,C.Error|C.EarlyError,v[68],a,e.pos),Mr(a,a))}function wu(e,r,a,o){return Ne(e,r),17301504&e.linterFlags&&(a.kind===t.SyntaxKind.Identifier&&a.text==="arguments"&&e.token===t.SyntaxKind.Identifier&&e.tokenValue==="callee"&&e.onError(2,C.Lint,v[278],e.curPos,e.pos),a.kind===t.SyntaxKind.Identifier&&a.text==="console"&&e.onError(2,C.Lint,v[277],e.curPos,e.pos)),a.kind===t.SyntaxKind.SuperKeyword&&e.token===t.SyntaxKind.PrivateIdentifier&&A(e,e.curPos,226),e.assignable=!0,gi(a,Ha(e,r),a.flags&~t.NodeFlags.NoChildren|t.NodeFlags.ExpressionNode,o,e.curPos)}function Nu(e,r,a,o){Ne(e,64|r);let l=null;return e.token===t.SyntaxKind.RightBracket&&e.onError(2,C.Error|C.EarlyError,v[34],o,e.pos),l=Dt(e,8388736^(8388736|r)),Q(e,r,t.SyntaxKind.RightBracket),e.assignable=!0,qd(a,l,o,e.curPos)}function Tu(e,r,a,o){131072&e.linterFlags&&a.kind===t.SyntaxKind.Identifier&&a.text==="eval"&&e.onError(2,C.Lint,v[276],e.curPos,e.pos);let l=e.nodeFlags,p=pa(e,r);return e.assignable=!1,jr(a,p,l|t.NodeFlags.ExpressionNode,o,e.curPos)}function gt(e,r,a,o,l,p,d,c,f){e.nodeFlags&t.NodeFlags.NewLine&&A(e,e.curPos,84);let g=Te(e,r,t.SyntaxKind.Arrow),S=function(h,K,_,I){if(1&_.flags&&A(h,h.curPos,193),h.token===t.SyntaxKind.LeftBrace){let F=ja(h,256|K,_,(1&_.flags)>0,!0,I,!1,h.token);if(h.nodeFlags&t.NodeFlags.NewLine)switch(h.token){case t.SyntaxKind.Period:h.previousErrorPos=h.pos,A(h,h.curPos,27);break;case t.SyntaxKind.QuestionMark:case t.SyntaxKind.Exponentiate:case t.SyntaxKind.Multiply:h.previousErrorPos=h.pos,A(h,h.curPos,28)}else if(h.token&t.SyntaxKind.IsBinaryOp)h.previousErrorPos=h.pos,A(h,h.curPos,28);else switch(h.token){case t.SyntaxKind.Period:h.previousErrorPos=h.pos,A(h,h.curPos,27);break;case t.SyntaxKind.LeftParen:case t.SyntaxKind.LeftBracket:h.previousErrorPos=h.pos,A(h,h.curPos,28);break;case t.SyntaxKind.TemplateTail:h.previousErrorPos=h.pos,A(h,h.curPos,30);break;case t.SyntaxKind.QuestionMark:h.previousErrorPos=h.pos,A(h,h.curPos,28)}return F}return we(h,K)}(e,4218664^(4218664|r)|(d?1024:0),a,(c&t.NodeFlags.NoneSimpleParamList)<1);return 2097152&e.linterFlags&&(p.kind!==t.SyntaxKind.ArrowParameterList&&e.onError(2,C.Lint,v[263],e.curPos,e.pos),536870912&r&&(p=Br(p,t.NodeFlags.ExpressionNode,-1,-1))),e.assignable=!1,_d(g,o,p,d,l,S,c|t.NodeFlags.ExpressionNode,f,e.curPos)}function pa(e,r){let a=e.nodeFlags,o=Q(e,64|r,t.SyntaxKind.LeftParen,198),l=function(p,d,c){let f=p.curPos,g=[],S=!1;for(;11255808&p.token&&(g.push(kc(p,d)),p.token!==t.SyntaxKind.RightParen);)if(Q(p,64|d,t.SyntaxKind.Comma,4),p.token===t.SyntaxKind.RightParen){S=!0;break}return Hr(g,S,c|t.NodeFlags.ExpressionNode,f,p.curPos)}(e,8388736^(8388736|r),a);return Q(e,r,t.SyntaxKind.RightParen,o?165:15),l}function ua(e,r,a,o){if(e.token!==t.SyntaxKind.Comma)return a;let l=[a];do Ne(e,64|r),l.push(we(e,r));while(e.token===t.SyntaxKind.Comma);return 2&e.linterFlags&&e.onError(2,C.Lint,v[269],o,e.curPos),sa(l,o,e.curPos)}function Gt(e,r,a,o){return ua(e,r,He(e,r,e.nodeFlags,We(e,r,a,t.SyntaxKind.IsPropertyOrCall,o),o),o)}function Pt(e,r,a){if(e.token&t.SyntaxKind.IsIdentifier){switch(e.token){case t.SyntaxKind.AsyncKeyword:return wc(e,r,a);case t.SyntaxKind.PrivateIdentifier:return Zo(e,r);case t.SyntaxKind.ThisKeyword:return Ct(e,r,t.NodeFlags.ExpressionNode,e.curPos);case t.SyntaxKind.AwaitKeyword:if(1049600&r)return function(g,S,h){let K=g.curPos;(1048576&S&&!(1032&S)||24576&g.nodeFlags)&&A(g,K,24576&g.nodeFlags?154:220,"await"),2&h&&A(g,K,15),16384&S&&A(g,K,58);let _=Te(g,64|S,t.SyntaxKind.AwaitKeyword),I=vt(g,S,0);return(g.token===t.SyntaxKind.Exponentiate||8&h)&&A(g,g.curPos,8&h?15:14),g.assignable=!1,kd(_,I,K,g.curPos)}(e,r,a)}let c=e.token,f=Oa(e,8388608|r,3);if(e.token===t.SyntaxKind.Arrow){a&&A(e,f.start,4&a?207:144,";");let g={kind:1024,scope:{kind:2,scope:null,flags:0},flags:0};return qt(e,r,g,f.text,8),gt(e,r,g,null,null,f,null,t.NodeFlags.ExpressionNode,f.start)}return 524288&r&&(c===t.SyntaxKind.EvalIdentifier||c===t.SyntaxKind.ArgumentsIdentifier)?(e.destructible|=64,e.assignable=!1,f):(e.assignable=!0,f)}switch(e.token){case t.SyntaxKind.NumericLiteral:return Uo(e,r);case t.SyntaxKind.StringLiteral:return Nr(e,r);case t.SyntaxKind.Decrement:case t.SyntaxKind.Increment:return function(c,f,g){let S=c.curPos,h=ar(c,64|f,t.NodeFlags.ExpressionNode),K=vt(c,f,0);return 2&g&&A(c,c.curPos,144,";"),c.assignable||A(c,c.curPos,25),8&g&&A(c,c.curPos,15),c.assignable=!1,Io(h,K,S,c.curPos)}(e,r,a);case t.SyntaxKind.DeleteKeyword:return Mo(e,r,!0,!1);case t.SyntaxKind.Complement:return Mo(e,r,!1,!0);case t.SyntaxKind.Negate:case t.SyntaxKind.Add:case t.SyntaxKind.Subtract:case t.SyntaxKind.TypeofKeyword:case t.SyntaxKind.VoidKeyword:return Mo(e,r,!1,!1);case t.SyntaxKind.FunctionKeyword:return wc(e,r,a);case t.SyntaxKind.Decorator:case t.SyntaxKind.ClassKeyword:return function(c,f){let g=c.curPos,S=el(c,f),h=c.nodeFlags|t.NodeFlags.ExpressionNode,K=Te(c,64|f,t.SyntaxKind.ClassKeyword),_=null;8404992&c.token&&c.token!==t.SyntaxKind.ExtendsKeyword&&(c.token&t.SyntaxKind.IsFutureReserved&&A(c,c.curPos,116),524800&f&&c.token===t.SyntaxKind.YieldKeyword?A(c,c.curPos,76):1049632&f&&c.token===t.SyntaxKind.AwaitKeyword&&A(c,g,32&f?250:1048576&f?77:172,"await"),_=Oa(c,f));let I=Vt(c,f),F=Dc(c,2097152|f,!1,!0);return c.assignable=!1,xd(S,K,_,I,F,24576^(24576|h),g,c.curPos)}(e,r);case t.SyntaxKind.NullKeyword:case t.SyntaxKind.TrueKeyword:case t.SyntaxKind.FalseKeyword:return at(e,r,e.token,t.NodeFlags.ExpressionNode,e.curPos);case t.SyntaxKind.LeftBracket:return function(c,f){let g=sr(c,f,null,512);return g.flags&t.NodeFlags.PrototypeField&&A(c,c.curPos,181),1&c.destructible&&A(c,c.curPos,24),g}(e,r);case t.SyntaxKind.LeftBrace:return function(c,f){let g=ir(c,f,null,512);return(1&c.destructible||g.flags&t.NodeFlags.PrototypeField)&&c.onError(2,C.Error,v[g.flags&t.NodeFlags.PrototypeField?181:32&c.destructible?145:24],c.curPos,c.pos),g}(e,r);case t.SyntaxKind.LeftParen:return bc(e,r,a);case t.SyntaxKind.YieldKeyword:return function(c,f,g){let S=c.curPos;if(512&f){16384&f&&A(c,S,57);let K=Te(c,64|f,t.SyntaxKind.YieldKeyword);(g||c.token===t.SyntaxKind.QuestionMark)&&A(c,S,8&g?15:4&g?208:c.token===t.SyntaxKind.QuestionMark?246:144,";");let _=ne(c,64|f,t.SyntaxKind.Multiply),I=null;return _?(_.flags&t.NodeFlags.NewLine&&A(c,c.curPos,15),I=we(c,f)):8470528&c.token&&(I=we(c,f)),c.assignable=!1,Bd(K,!!_,_,I,S,c.curPos)}let h=ve(c,f,8404992,3);if(c.token===t.SyntaxKind.Arrow){let K={kind:1024,scope:{kind:2,scope:null,flags:0},flags:0};return qt(c,f,K,"yield",8),gt(c,f,K,null,null,h,null,t.NodeFlags.None,S)}return h}(e,r,a);case t.SyntaxKind.NewKeyword:return function(c,f){let g=c.curPos,S=Ct(c,64|f,t.NodeFlags.ExpressionNode,g);if(ue(c,f,t.SyntaxKind.Period)){let K=at(c,f,t.SyntaxKind.Target,t.NodeFlags.ExpressionNode,g);return((8192&f)<1||!K)&&A(c,g,K?80:123),c.assignable=!1,Hd(S,K,g,c.curPos)}let h=Pt(c,8388736^(8388736|f),8);return c.token===t.SyntaxKind.QuestionMarkPeriod&&A(c,c.curPos,16),h=We(c,f,h,t.SyntaxKind.IsMember,g),c.assignable=!1,bo(S,h,c.token===t.SyntaxKind.LeftParen?pa(c,f):null,24576^(S.flags&~t.NodeFlags.NoChildren|24576),g,c.curPos)}(e,r);case t.SyntaxKind.SuperKeyword:return function(c,f){let g=c.curPos,S=at(c,f,t.SyntaxKind.SuperKeyword,t.NodeFlags.ExpressionNode,g);return c.token===t.SyntaxKind.LeftParen?((65536&f)<1&&c.onError(2,C.Error,v[73],g,c.pos),c.assignable=!1,S):c.token===t.SyntaxKind.LeftBracket||c.token===t.SyntaxKind.Period?((131072&f)<1&&c.onError(2,C.Error,v[73],g,c.pos),c.assignable=!0,S):(c.onError(2,C.Error,v[74],g,c.pos),c.assignable=!1,gi(S,Ha(c,f),t.NodeFlags.ExpressionNode,g,c.curPos))}(e,r);case t.SyntaxKind.RegularExpression:return function(c,f){let{curPos:g,tokenValue:S,tokenRaw:h}=c;return Ne(c,f),c.assignable=!1,Ed(S,h,g,c.curPos)}(e,r);case t.SyntaxKind.BigIntLiteral:return Kc(e,r);case t.SyntaxKind.TemplateTail:return qa(e,r,t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren|t.NodeFlags.TemplateLiteral);case t.SyntaxKind.TemplateCont:return Ti(e,r);case t.SyntaxKind.ImportKeyword:return function(c,f,g){8&g&&c.onError(2,C.Error,v[110],c.curPos,c.pos);let S=Te(c,f,t.SyntaxKind.ImportKeyword,15);return c.token===t.SyntaxKind.Period?Rc(c,f,S):Lc(c,f,S)}(e,r,a);case t.SyntaxKind.LessThan:if(2&r&&!mr(e,r,Du,!0))return bc(e,r,a)}let{curPos:o,tokenValue:l,token:p}=e,d=Oa(e,r,3);if(p&t.SyntaxKind.IsFutureReserved&&e.token===t.SyntaxKind.Arrow){3&a&&A(e,o,144,";"),8&a&&A(e,o,144,";");let c={kind:1024,scope:{kind:2,scope:null,flags:0},flags:0};return qt(e,r,c,l,8),gt(e,r,c,null,null,d,null,t.NodeFlags.ExpressionNode,o)}return d}function ir(e,r,a,o){let l=e.curPos,p=e.nodeFlags;Ne(e,64|r);let d=function(c,f,g,S){let h=c.curPos,K=[],_=c.nodeFlags,I=!1,F=0,H=0;for(f=8388736^(8388736|f);80232448&c.token;){let J=_u(c,f,g,S);if(K.push(J),J.flags&t.NodeFlags.PrototypeField&&H++,F|=c.destructible,c.token===t.SyntaxKind.RightBrace)break;if(Q(c,64|f,t.SyntaxKind.Comma,4),c.token===t.SyntaxKind.RightBrace){I=!0;break}}return H>1&&(_|=t.NodeFlags.PrototypeField),c.destructible=F,xc(K,I,_|t.NodeFlags.IsStatement,h,c.curPos)}(e,r,a,o);if(Q(e,r,t.SyntaxKind.RightBrace,159),e.token&t.SyntaxKind.IsAssignOp){(e.token!==t.SyntaxKind.Assign||2&e.destructible)&&A(e,l,2&e.destructible?161:23);let c=Va(ho(d,p|d.flags|t.NodeFlags.ExpressionNode,l,e.curPos),ar(e,r,t.NodeFlags.ExpressionNode),we(e,r),t.NodeFlags.ExpressionNode,l,e.curPos);return e.destructible=1^(1|e.destructible),c}return ho(d,p|d.flags|t.NodeFlags.ExpressionNode,l,e.curPos)}function _u(e,r,a,o){let l=e.curPos;if(e.token===t.SyntaxKind.Ellipsis)return wd(Te(e,64|r,t.SyntaxKind.Ellipsis),function(K,_,I,F){let H=K.curPos;if(8404992&K.token){let Z=K.tokenValue,re=K.nodeFlags,ce=Pt(K,_,0),ye=0,Re=K.token;return ce=We(K,_,ce,t.SyntaxKind.IsPropertyOrCall,H),K.token!==t.SyntaxKind.Comma&&K.token!==t.SyntaxKind.RightBrace&&(ye|=2,ce=He(K,_,K.nodeFlags,ce,H)),K.assignable?Re===t.SyntaxKind.RightBrace||Re===t.SyntaxKind.Comma?32768&F&&fr(K,_,I,Z,F):ye|=4:ye|=2,K.token!==t.SyntaxKind.RightBrace&&(K.token===t.SyntaxKind.Assign&&(ce=He(K,_,re,ce,H)),ye|=2),K.destructible=ye,ce}if(K.token&t.SyntaxKind.IsPatternStart){let Z=K.token===t.SyntaxKind.LeftBracket?sr(K,_,I,F):ir(K,_,I,F),re=K.token,ce=0;return re!==t.SyntaxKind.Assign&&re!==t.SyntaxKind.RightBrace&&re!==t.SyntaxKind.Comma?(1&K.destructible&&K.onError(2,C.Error,v[4],K.curPos,K.pos),Z=We(K,_,Z,t.SyntaxKind.IsPropertyOrCall,H),K.assignable||(ce|=2),(K.token&t.SyntaxKind.IsAssignOp)===t.SyntaxKind.IsAssignOp?(K.token!==t.SyntaxKind.Assign&&(ce|=2),Z=He(K,_,Z.flags,Z,H)):((K.token&t.SyntaxKind.IsBinaryOp)===t.SyntaxKind.IsBinaryOp&&nr(K,_,Z,4,K.token,H),ue(K,64|_,t.SyntaxKind.QuestionMark)&&(Z=Da(K,_,Z,H)),ce|=K.assignable?4:2)):ce|=re===t.SyntaxKind.RightBrace&&re!==t.SyntaxKind.Assign?2:K.destructible,K.token!==t.SyntaxKind.RightBrace&&(8&F&&(ce|=4),K.token===t.SyntaxKind.Assign&&(Z=He(K,_,Z.flags,Z,H)),ce|=2),K.destructible=ce,Z}let J=4,X=K.nodeFlags,ee=vt(K,_,0);return K.token===t.SyntaxKind.Assign&&K.token!==t.SyntaxKind.LeftBrace&&K.token!==t.SyntaxKind.Comma?(ee=He(K,_,X,ee,H),J|=2):(K.token===t.SyntaxKind.Comma?J|=2:K.token!==t.SyntaxKind.RightBrace&&(ee=He(K,_,X,ee,H)),J|=K.assignable?4:2),K.token!==t.SyntaxKind.RightBrace&&(8&F&&(J|=4),K.token===t.SyntaxKind.Assign&&(ee=He(K,_,X,ee,H))),K.destructible=J,ee}(e,r,a,o),l,e.curPos);let p,d=ne(e,r,t.SyntaxKind.Multiply),c=null,f=null,g=null,S=t.NodeFlags.ExpressionNode,h=0;if(d&&(S|=t.NodeFlags.Generator),8404992&e.token){let K=e.token;if(p=ve(e,r,12599296,3),79708160&e.token){if(K===t.SyntaxKind.AsyncKeyword)return S|=t.NodeFlags.Async,c=x(t.SyntaxKind.AsyncKeyword,S|t.NodeFlags.NoChildren,l,e.curPos),24576&S&&A(e,e.curPos,124),d=ne(e,r,t.SyntaxKind.Multiply),d&&(S|=t.NodeFlags.Generator),p=Gr(e,r),ia(d,c,null,null,qr(e,r,p,S|t.NodeFlags.Async),l,e.curPos);if(K===t.SyntaxKind.GetKeyword)return f=x(t.SyntaxKind.GetKeyword,S|t.NodeFlags.NoChildren,l,e.curPos),d=ne(e,r,t.SyntaxKind.Multiply),p=Gr(e,r),d&&A(e,l,157,"get"),ia(d,c,f,g,qr(e,r,p,S|t.NodeFlags.Getter),l,e.curPos);if(K===t.SyntaxKind.SetKeyword)return g=x(t.SyntaxKind.SetKeyword,S|t.NodeFlags.NoChildren,l,e.curPos),d=ne(e,r,t.SyntaxKind.Multiply),p=Gr(e,r),d&&A(e,l,157,"set"),ia(d,c,f,g,qr(e,r,p,S|t.NodeFlags.Setter),l,e.curPos)}if((4&r)<1&&p.text==="__proto__"&&(S|=t.NodeFlags.PrototypeField),e.token&t.SyntaxKind.IsLessThanOrLeftParen||d)return ia(d,c,f,g,qr(e,r,p,S),l,e.curPos);switch(e.token){case t.SyntaxKind.Assign:case t.SyntaxKind.Comma:case t.SyntaxKind.RightBrace:if(524288&r&&(K===t.SyntaxKind.EvalIdentifier||K===t.SyntaxKind.ArgumentsIdentifier)?h|=2:function(_,I,F){524288&I&&F&t.SyntaxKind.IsFutureReserved&&A(_,_.curPos,116),(F&t.SyntaxKind.IsKeyword)===t.SyntaxKind.IsKeyword&&A(_,_.curPos,116),1049600&I&&F===t.SyntaxKind.AwaitKeyword&&A(_,_.curPos,116),524800&I&&F===t.SyntaxKind.YieldKeyword&&A(_,_.curPos,116)}(e,r,K),32768&o&&fr(e,r,a,p.text,o),ue(e,64|r,t.SyntaxKind.Assign)){let _=we(e,r);return e.destructible=33,Nd(p,_,l,e.curPos)}return e.destructible=h,p}}else p=Gr(e,r),(4&r)<1&&e.tokenValue==="__proto__"&&(S|=t.NodeFlags.PrototypeField);if(e.token&t.SyntaxKind.IsLessThanOrLeftParen)return ia(d,c,f,g,qr(e,r,p,S),l,e.curPos);if(ue(e,64|r,t.SyntaxKind.Colon)){let K;if(12599296&e.token){let _=e.tokenValue;K=Pt(e,r,0);let I=e.token,F=e.nodeFlags;K=We(e,r,K,t.SyntaxKind.IsPropertyOrCall,l),e.token===t.SyntaxKind.RightBrace||e.token===t.SyntaxKind.Comma?I===t.SyntaxKind.RightBrace||I===t.SyntaxKind.Assign||I===t.SyntaxKind.Comma?e.assignable||(h|=2):h|=e.assignable?4:2:e.token===t.SyntaxKind.Assign?(e.assignable?(32768&o&&fr(e,r,a,_,o),h|=0):h|=2,K=He(e,r,F,K,l)):(h|=2,K=He(e,r,F,K,l))}else e.token&t.SyntaxKind.IsPatternStart?(K=e.token===t.SyntaxKind.LeftBracket?sr(e,r,a,o):ir(e,r,a,o),h=e.destructible,e.token!==t.SyntaxKind.RightBrace&&e.token!==t.SyntaxKind.Comma&&(1&e.destructible&&e.onError(2,C.Error,v[16],e.curPos,e.pos),K=We(e,r,K,t.SyntaxKind.IsPropertyOrCall,l),h=e.assignable?4:2,K=He(e,r,S,K,l))):(K=vt(e,r,0),h|=e.assignable?4:2,e.token===t.SyntaxKind.Comma||e.token===t.SyntaxKind.RightBrace?e.assignable||(h|=2):(K=We(e,r,K,t.SyntaxKind.IsPropertyOrCall,l),h=0,e.token!==t.SyntaxKind.Comma&&e.token!==t.SyntaxKind.RightBrace&&(K=He(e,r,S,K,l))));return e.destructible=h,bd(d,p,K,S|t.NodeFlags.ExpressionNode,l,e.curPos)}return e.onError(2,C.Error,v[176],e.curPos,e.pos),p}function qr(e,r,a,o){let l=e.curPos,p=Vt(e,r);o&t.NodeFlags.Constructor||(r=327680^(327680|r));let d={kind:512,scope:{kind:2,scope:null,flags:0},flags:0},c=function(S,h,K,_){let I=[];if(h=8388736^(8388736|h),Q(S,64|h,t.SyntaxKind.LeftParen,64)){S.token===t.SyntaxKind.RightParen?K&t.NodeFlags.Setter&&S.onError(2,C.Error|C.EarlyError,v[38],S.curPos,S.pos):K&t.NodeFlags.Getter&&A(S,S.curPos,S.token===t.SyntaxKind.ThisKeyword?231:42,"get");let F=S.curPos,H=!1,J=0;for(;277364736&S.token;){K&t.NodeFlags.Setter&&(S.token===t.SyntaxKind.Ellipsis&&S.onError(2,C.Error|C.EarlyError,v[41],S.curPos,S.pos),S.token===t.SyntaxKind.ThisKeyword&&S.onError(2,C.Error|C.EarlyError,v[2&h?98:229],S.curPos,S.pos));let ee=zo(S,16384|h,_,J);if(J++,K|=ee.flags,I.push(ee),S.token===t.SyntaxKind.RightParen)break;if(ue(S,64|h,t.SyntaxKind.Comma)){if(K&t.NodeFlags.Setter&&S.token!==t.SyntaxKind.RightParen&&S.onError(2,C.Error|C.EarlyError,v[38],S.curPos,S.pos),S.token===t.SyntaxKind.RightParen){H=!0;break}}else S.onError(2,C.Error,v[4],S.curPos,S.pos)}1&_.flags&&S.onError(2,C.Error,v[192],S.diagnosticStartPos,S.pos);let X=Pa(I,H,K,F,S.pos);return Q(S,h,t.SyntaxKind.RightParen,165),X}return Pa([],!1,K,S.curPos,S.curPos)}(e,r=8390272^(8390272|(r|=131072))|(o&t.NodeFlags.Async?1024:0)|(o&t.NodeFlags.Generator?512:0),o,d),f=Ie(e,r),g=ja(e,8448|r,d,(1&d.flags)>0,!1,(c.flags&t.NodeFlags.NoneSimpleParamList)<1,!1,null);return e.destructible=2,Td(a,p,c,f,g,o,l,e.curPos)}function Uo(e,r){let{curPos:a,tokenValue:o,tokenRaw:l,nodeFlags:p}=e;return 524288&r&&p&t.NodeFlags.LegacyOctal&&A(e,e.curPos,88),Ne(e,r),e.assignable=!1,vo(o,l,p|t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,a,e.curPos)}function Kc(e,r){let{curPos:a,tokenValue:o,tokenRaw:l,nodeFlags:p}=e;return Ne(e,r),e.assignable=!1,Gd(o,l,p|t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,a,e.curPos)}function Nr(e,r){let{curPos:a,tokenValue:o,tokenRaw:l,nodeFlags:p}=e;return Ne(e,r),e.assignable=!1,Si(o,l,p|t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,a,e.curPos)}function Eu(e,r,a,o){return e.nodeFlags&t.NodeFlags.NewLine?a:(e.assignable||e.onError(2,C.Error,v[25],e.curPos,e.pos),Ao(ar(e,r,t.NodeFlags.ExpressionNode),a,o,e.curPos))}function Mo(e,r,a,o){let l=e.curPos;o&&64&e.linterFlags&&e.onError(2,C.Lint,v[265],l,e.pos);let p=Ct(e,64|r,t.NodeFlags.ExpressionNode,l),d=vt(e,r,0);if(e.token===t.SyntaxKind.Exponentiate&&A(e,e.curPos,14),a){let c=d;for(;c.kind===t.SyntaxKind.ParenthesizedExpression;)c=c.expression;(524288&r&&c.kind===t.SyntaxKind.Identifier||33554432&e.linterFlags)&&A(e,e.curPos,33554432&e.linterFlags?286:43),c.kind===t.SyntaxKind.IndexExpression&&c.expression.kind===t.SyntaxKind.PrivateIdentifier&&A(e,e.curPos,109)}return e.assignable=!1,Co(p,d,l,e.curPos)}function sr(e,r,a,o){let l=e.curPos,p=e.nodeFlags;Q(e,64|r,t.SyntaxKind.LeftBracket);let d=function(c,f,g,S){let h=c.curPos,K=[],_=c.nodeFlags,I=!1,F=0;for(;279789568&c.token&&(K.push(Fu(c,f,g,S)),F|=c.destructible,c.token!==t.SyntaxKind.RightBracket);)if(Q(c,64|f,t.SyntaxKind.Comma,4),c.token===t.SyntaxKind.RightBracket){I=!0;break}return c.destructible=F,mi(K,I,_|t.NodeFlags.ExpressionNode,h,c.curPos)}(e,r,a,o);if(Q(e,r,t.SyntaxKind.RightBracket,160),e.token&t.SyntaxKind.IsAssignOp){e.token!==t.SyntaxKind.Assign&&A(e,e.curPos,9),2&e.destructible&&A(e,e.curPos,161);let c=Va(xi(d,p|t.NodeFlags.ExpressionNode,l,e.curPos),ar(e,64|r,t.NodeFlags.ExpressionNode),we(e,r),t.NodeFlags.ExpressionNode,l,e.curPos);return e.destructible=1^(1|e.destructible),c}return xi(d,p|t.NodeFlags.ExpressionNode,l,e.curPos)}function Fu(e,r,a,o){let l=e.curPos;if(8404992&e.token){let f=e.tokenValue,g=Pt(e,r,0);if(2&r&&32768&o&&(e.token===t.SyntaxKind.QuestionMark||e.token===t.SyntaxKind.Colon)){let K=null;return K=ne(e,64|r,t.SyntaxKind.QuestionMark),K&&e.onError(2,C.Error|C.EarlyError,v[227],e.curPos,e.pos),Be(null,g,K,Ie(e,r),Qe(e,r,!1),t.NodeFlags.ExpressionNode,l,e.curPos)}if(e.token===t.SyntaxKind.Assign){e.assignable||e.onError(2,C.Error,v[24],l,e.pos);let K=ar(e,64|r,t.NodeFlags.ExpressionNode);32768&o&&fr(e,r,a,f,o);let _=we(e,r);return e.assignable=!1,Va(g,K,_,t.NodeFlags.ExpressionNode,l,e.curPos)}if(e.token===t.SyntaxKind.RightBracket||e.token===t.SyntaxKind.Comma)return 32768&o&&fr(e,r,a,f,o),e.destructible=e.assignable?0:2,g;let S=8&o?4:512&~o?2:0,h=e.nodeFlags;return g=We(e,r,g,t.SyntaxKind.IsPropertyOrCall,l),e.assignable||(S=2),e.token===t.SyntaxKind.Comma||e.token===t.SyntaxKind.RightBracket?((e.token&t.SyntaxKind.IsAssignOp)<1&&(S|=e.assignable?4:2),e.destructible=S,g):(e.token!==t.SyntaxKind.Assign&&(S|=2),g=He(e,r,h,g,l),e.destructible=S,g)}if(e.token&t.SyntaxKind.IsPatternStart){let f=e.token===t.SyntaxKind.LeftBracket?sr(e,r,a,o):ir(e,r,a,o);if(2&r&&32768&o){let S=ne(e,64|r,t.SyntaxKind.QuestionMark);if(S&&A(e,e.curPos,227),S||e.token===t.SyntaxKind.Colon)return Be(null,f,S,Ie(e,r),Qe(e,r,!1),t.NodeFlags.ExpressionNode,l,e.curPos)}let g=e.destructible;if(e.assignable=!(2&g),e.token===t.SyntaxKind.Comma||e.token===t.SyntaxKind.RightBracket)e.assignable||(g|=2);else if((1&e.destructible)<1){if(f=We(e,r,f,t.SyntaxKind.IsPropertyOrCall,l),g=e.assignable?4:2,e.token===t.SyntaxKind.Comma||e.token===t.SyntaxKind.RightBracket)return(e.token&t.SyntaxKind.IsAssignOp)<1&&(g|=e.assignable?4:2),e.destructible=g,f;e.token!==t.SyntaxKind.Assign&&(g|=2),f=He(e,r,t.NodeFlags.ExpressionNode,f,l)}return e.destructible=g,f}if(e.token===t.SyntaxKind.Ellipsis){let f=Te(e,64|r,t.SyntaxKind.Ellipsis),g=function(S,h,K,_){let I=S.curPos;if(8404992&S.token){let X=S.tokenValue,ee=S.nodeFlags,Z=Pt(S,h,0),re=0,ce=S.token;return Z=We(S,h,Z,t.SyntaxKind.IsPropertyOrCall,I),S.token!==t.SyntaxKind.Comma&&S.token!==t.SyntaxKind.RightBracket&&(re|=2,Z=He(S,h,ee,Z,I)),S.assignable?ce===t.SyntaxKind.RightBracket||ce===t.SyntaxKind.Comma?32768&_&&fr(S,h,K,X,_):re|=4:re|=2,S.token!==t.SyntaxKind.RightBracket&&(S.token===t.SyntaxKind.Assign&&(Z=He(S,h,ee,Z,I)),re|=2),S.destructible=re,Z}if(S.token&t.SyntaxKind.IsPatternStart){let X=S.token===t.SyntaxKind.LeftBracket?sr(S,h,null,_):ir(S,h,null,_);if(S.token===t.SyntaxKind.RightBracket)return X;if(S.token===t.SyntaxKind.Comma)return S.destructible=2,X;1&S.destructible&&A(S,S.curPos,4);let ee=S.nodeFlags;return X=We(S,h,X,t.SyntaxKind.IsPropertyOrCall,I),X=He(S,h,ee,X,I),S.destructible=S.assignable?4:2,X}let F=4,H=vt(S,h,0),J=S.token;return J===t.SyntaxKind.Assign?(H=He(S,h,t.NodeFlags.ExpressionNode,H,I),S.destructible=F|=2,H):(J===t.SyntaxKind.Comma?F|=2:J!==t.SyntaxKind.RightBracket&&(H=He(S,h,t.NodeFlags.ExpressionNode,H,I)),S.destructible=S.assignable?4:2,H)}(e,r,a,o);if(2&r&&32768&o){let S=ne(e,64|r,t.SyntaxKind.QuestionMark);if(S&&A(e,e.curPos,227),e.token===t.SyntaxKind.Colon)return e.destructible=0,Be(f,g,S,Ie(e,r),Qe(e,r,!1),t.NodeFlags.ExpressionNode,l,e.curPos)}return va(f,g,l,e.curPos)}if(e.token===t.SyntaxKind.Comma)return 1024&e.linterFlags&&e.onError(2,C.Lint,v[269],e.curPos,e.curPos),yi(l,l);let p=e.token,d=0,c=vt(e,r,0);return e.token!==t.SyntaxKind.Comma&&e.token!==t.SyntaxKind.RightBracket?c=He(e,r,t.NodeFlags.ExpressionNode,c,l):e.assignable?p===t.SyntaxKind.LeftParen&&(d|=e.assignable?4:2):d|=2,e.destructible=d,c}function kc(e,r){return e.token===t.SyntaxKind.Ellipsis?function(a,o){let l=a.curPos,p=Te(a,64|o,t.SyntaxKind.Ellipsis);return va(p,we(a,8388736^(8388736|o)),l,a.curPos)}(e,r):we(e,r)}function Jt(e,r){switch(r.kind){case t.SyntaxKind.ArrayLiteral:return To(Jt(e,r.elementList),r.flags,r.start,r.end);case t.SyntaxKind.ElementList:let a=[],o=r.elements;for(let d=0;d<o.length;++d)a.push(Jt(e,o[d]));return mi(a,r.trailingComma,t.NodeFlags.ExpressionNode,r.start,r.end);case t.SyntaxKind.AssignmentExpression:return Be(null,Jt(e,r.left),null,null,r.right,t.NodeFlags.ExpressionNode,r.start,r.end);case t.SyntaxKind.ObjectLiteral:return Fo(Jt(e,r.propertyList),r.flags|t.NodeFlags.ExpressionNode,r.start,r.end);case t.SyntaxKind.PropertyDefinitionList:let l=[],p=r.properties;for(let d=0,c=p.length;d<c;++d)l.push(Jt(e,p[d]));return Eo(l,t.NodeFlags.ExpressionNode,r.trailingComma,r.start,r.end);case t.SyntaxKind.CoverInitializedName:return Be(null,Jt(e,r.left),null,null,r.right,r.flags,r.start,r.end);case t.SyntaxKind.PropertyDefinition:return _o(Jt(e,r.left),r.right,null,r.start,r.end);case t.SyntaxKind.SpreadProperty:return Be(r.ellipsisToken,Jt(e,r.argument),null,null,null,r.flags,r.start,r.end);case t.SyntaxKind.SpreadElement:return Be(r.ellipsisToken,r.argument,null,null,null,r.flags|t.NodeFlags.ExpressionNode,r.start,r.end);default:return r}}function bc(e,r,a){let o=e.curPos,l=null,p=0,d=e.nodeFlags|t.NodeFlags.ExpressionNode;e.token===t.SyntaxKind.LessThan&&(p=1,l=Vt(e,r));let c={kind:1024,scope:{kind:2,scope:null,flags:0},flags:0};Q(e,64|(r=8388736^(8388736|r)),t.SyntaxKind.LeftParen);let f=e.curPos;if(ue(e,r,t.SyntaxKind.RightParen)){3&a&&A(e,e.curPos,4);let K=!1;switch(2&r&&e.token===t.SyntaxKind.Colon&&(K=!(4194304&r)||Ba(e,r,o)),e.token){case t.SyntaxKind.Arrow:case t.SyntaxKind.Colon:case t.SyntaxKind.LeftBrace:return 3&a&&A(e,e.curPos,4&a?207:144,";"),gt(e,r,c,l,K?Ie(e,16777216|r):null,Ia([],!1,d,f,f),null,t.NodeFlags.ExpressionNode,o);default:return e.previousErrorPos=e.pos,A(e,e.curPos,15),Mr(o,o)}}let g,S=0;if(8404992&e.token){qt(e,r,c,e.tokenValue,8);let K=e.nodeFlags;if(g=Pt(e,r,0),2&r&&e.token===t.SyntaxKind.QuestionMark){let _=ne(e,r,t.SyntaxKind.QuestionMark);e.token===t.SyntaxKind.RightParen||e.token===t.SyntaxKind.Colon||e.token===t.SyntaxKind.Comma?(p=1,g=Be(null,g,_,Ie(e,r),Qe(e,r,!1),K|t.NodeFlags.ExpressionNode,o,e.curPos)):(g=tr(g,_,we(e,8388736^(12583040|r)),Te(e,64|r,t.SyntaxKind.Colon),we(e,4194304^(4194304|r)),K|t.NodeFlags.ExpressionNode,o,e.curPos),p=0,e.assignable=!1)}else 2&r&&e.token===t.SyntaxKind.Colon?(p=1,g=Be(null,g,null,Ie(e,r),Qe(e,r,!1),K|t.NodeFlags.ExpressionNode,o,e.curPos)):(p||(p=2),e.token===t.SyntaxKind.Comma||e.token===t.SyntaxKind.RightParen?e.assignable||(S|=2,e.diagnosticStartPos=o):(e.token===t.SyntaxKind.Assign?d|=t.NodeFlags.NoneSimpleParamList:(p=0,S|=2),e.token&t.SyntaxKind.IsPropertyOrCall&&(p=0,g=We(e,r,g,t.SyntaxKind.IsPropertyOrCall,o)),e.token!==t.SyntaxKind.RightParen&&e.token!==t.SyntaxKind.Comma&&(g=He(e,r,K|t.NodeFlags.ExpressionNode,g,o))))}else if(e.token&t.SyntaxKind.IsPatternStart){if(g=e.token===t.SyntaxKind.LeftBracket?sr(e,r,c,32776):ir(e,r,c,32776),d|=t.NodeFlags.NoneSimpleParamList,e.token===t.SyntaxKind.QuestionMark){let K=ne(e,r,t.SyntaxKind.QuestionMark);e.token===t.SyntaxKind.RightParen||e.token===t.SyntaxKind.Colon||e.token===t.SyntaxKind.Comma?(p=1,g=Be(null,g,K,Ie(e,r),Qe(e,r,!1),t.NodeFlags.ExpressionNode,o,e.curPos)):(p=0,g=tr(g,K,we(e,8388736^(12583040|r)),Te(e,64|r,t.SyntaxKind.Colon),we(e,4194304^(4194304|r)),t.NodeFlags.ExpressionNode,o,e.curPos),e.assignable=!1)}else if(e.token===t.SyntaxKind.Colon)p=1,g=Be(null,g,null,Ie(e,r),Qe(e,r,!1),t.NodeFlags.ExpressionNode,o,e.curPos);else if(p=2,g.flags&t.NodeFlags.PrototypeField&&(e.diagnosticStartPos=o,A(e,e.curPos,181)),S=e.destructible,e.assignable=!1,e.token!==t.SyntaxKind.Comma&&e.token!==t.SyntaxKind.RightParen){1&S&&A(e,e.curPos,32&S?145:24);let K=e.nodeFlags;e.token&t.SyntaxKind.IsPropertyOrCall&&(p=0,g=We(e,r,g,t.SyntaxKind.IsPropertyOrCall,o)),S|=2,e.token!==t.SyntaxKind.Comma&&e.token!==t.SyntaxKind.RightParen&&(g=He(e,r,K,g,o))}}else{if(e.token!==t.SyntaxKind.Ellipsis){if(S|=2,g=we(e,r),e.assignable=!0,e.token===t.SyntaxKind.Comma){let K=[g];do Ne(e,64|r),K.push(we(e,r));while(e.token===t.SyntaxKind.Comma);2&e.linterFlags&&e.onError(2,C.Lint,v[269],o,e.curPos),g=sa(K,o,e.curPos),e.assignable=!1}return Q(e,r,t.SyntaxKind.RightParen,165),e.token===t.SyntaxKind.Arrow&&(e.previousErrorPos=e.pos,A(e,o,175)),e.destructible=S,Br(g,d,o,e.curPos)}p=1,g=zo(e,16384|r,c,0)}if(ue(e,r,t.SyntaxKind.RightParen)){if(2&S&&1&S&&A(e,e.curPos,24),p){let K=!1;if(2&r&&e.token===t.SyntaxKind.Colon&&(K=!(4194304&r)||Ba(e,r,o)),e.token===t.SyntaxKind.Arrow||K)return 6&S&&A(e,e.curPos,31),3&a&&A(e,e.curPos,144,";"),g=Jt(e,g),8&a&&A(e,e.curPos,144,";"),gt(e,r,c,l,Ie(e,16777216|r),Ia([g],!1,d,f,e.curPos),null,d,o)}return 1&S&&A(e,e.curPos,32&S?145:24),p===1&&A(e,e.curPos,196),Br(g,d,o,e.curPos)}let h=[];if(ue(e,64|r,t.SyntaxKind.Comma)){for(h=[g];279527424&e.token;){if(8404992&e.token){qt(e,r,c,e.tokenValue,8);let K=e.nodeFlags;if(g=Pt(e,r,0),p=2,2&r&&e.token===t.SyntaxKind.QuestionMark){let _=ne(e,r,t.SyntaxKind.QuestionMark);e.token===t.SyntaxKind.RightParen||e.token===t.SyntaxKind.Colon||e.token===t.SyntaxKind.Comma?(p=1,g=Be(null,g,_,Ie(e,r),Qe(e,r,!1),K|t.NodeFlags.ExpressionNode,o,e.curPos)):(p=0,g=tr(g,_,we(e,8388736^(12583040|r)),Te(e,64|r,t.SyntaxKind.Colon),we(e,4194304^(4194304|r)),K|t.NodeFlags.ExpressionNode,o,e.curPos),e.assignable=!1)}else e.token===t.SyntaxKind.Colon?(p=1,g=Be(null,g,null,Ie(e,r),Qe(e,r,!1),K|t.NodeFlags.ExpressionNode,o,e.curPos)):(p||(p=2),e.token===t.SyntaxKind.Comma||e.token===t.SyntaxKind.RightParen?e.assignable||(S|=2,e.diagnosticStartPos=o):(e.token===t.SyntaxKind.Assign?d|=t.NodeFlags.NoneSimpleParamList:(p=0,S|=2),e.token&t.SyntaxKind.IsPropertyOrCall&&(p=0,g=We(e,r,g,t.SyntaxKind.IsPropertyOrCall,o)),e.token!==t.SyntaxKind.RightParen&&e.token!==t.SyntaxKind.Comma&&(g=He(e,r,K|t.NodeFlags.ExpressionNode,g,o))))}else if(e.token&t.SyntaxKind.IsPatternStart)if(g=e.token===t.SyntaxKind.LeftBracket?sr(e,r,c,32776):ir(e,r,c,32776),d|=t.NodeFlags.NoneSimpleParamList,e.token===t.SyntaxKind.QuestionMark){let K=ne(e,r,t.SyntaxKind.QuestionMark);e.token===t.SyntaxKind.RightParen||e.token===t.SyntaxKind.Colon||e.token===t.SyntaxKind.Comma?(p=1,g=Be(null,g,K,Ie(e,r),Qe(e,r,!1),t.NodeFlags.ExpressionNode,o,e.curPos)):(p=0,g=tr(g,K,we(e,8388736^(12583040|r)),Te(e,64|r,t.SyntaxKind.Colon),we(e,4194304^(4194304|r)),t.NodeFlags.ExpressionNode,o,e.curPos),e.assignable=!1)}else e.token===t.SyntaxKind.Colon?(p=1,g=Be(null,g,null,Ie(e,r),Qe(e,r,!1),t.NodeFlags.ExpressionNode,o,e.curPos)):(p=2,g.flags&t.NodeFlags.PrototypeField&&(e.diagnosticStartPos=o,A(e,e.curPos,181)),S=e.destructible,e.assignable=!1,e.token!==t.SyntaxKind.Comma&&e.token!==t.SyntaxKind.RightParen&&(1&S&&A(e,e.curPos,32&S?145:24),e.token&t.SyntaxKind.IsPropertyOrCall&&(p=0,g=We(e,r,g,t.SyntaxKind.IsPropertyOrCall,o)),S|=2,e.token!==t.SyntaxKind.Comma&&e.token!==t.SyntaxKind.RightParen&&(g=He(e,r,t.NodeFlags.ExpressionNode,g,o))));else{if(e.token!==t.SyntaxKind.Ellipsis){for(S|=2,h.push(we(e,r));ue(e,64|r,t.SyntaxKind.Comma);)h.push(we(e,r));return 2&e.linterFlags&&e.onError(2,C.Lint,v[269],o,e.curPos),g=sa(h,o,e.curPos),Q(e,r,t.SyntaxKind.RightParen,165),e.destructible=S,Br(g,d,o,e.curPos)}p=1,g=zo(e,16384|r,c,0)}if(h.push(g),!ue(e,r,t.SyntaxKind.Comma)){if(e.token===t.SyntaxKind.RightParen)break;e.assignable=!1}}e.assignable=!1}if(Q(e,r,t.SyntaxKind.RightParen,165),2&S&&1&S&&A(e,e.curPos,24),p){let K=!1;if(2&r&&e.token===t.SyntaxKind.Colon&&(K=!(4194304&r)||Ba(e,r,o)),e.token===t.SyntaxKind.Arrow||K){6&S&&e.onError(2,C.Error,v[31],e.curPos,e.pos),3&a&&A(e,e.curPos,144,";");let _=[];for(let I=0;I<h.length;++I)_.push(Jt(e,h[I]));return 8&a&&A(e,e.curPos,144,";"),gt(e,r,c,l,Ie(e,r),Ia(_,!1,d,f,e.curPos),null,d,o)}}return 2&e.linterFlags&&e.onError(2,C.Lint,v[269],o,e.curPos),g=sa(h,o,e.curPos),1&S&&A(e,e.curPos,24),e.destructible=S,Br(g,d,o,e.curPos)}function Ba(e,r,a){return mr(e,r,function(){Ne(e,r);let o=8404992&e.token,l=Pt(e,r,0);return!(!o||l.kind!==t.SyntaxKind.ArrowFunction||e.token!==t.SyntaxKind.Colon)||(l=He(e,r,t.NodeFlags.ExpressionNode,We(e,r,l,t.SyntaxKind.IsPropertyOrCall,a),a),e.token===t.SyntaxKind.Arrow)},!0)}function Gr(e,r){switch(e.token){case t.SyntaxKind.NumericLiteral:return Uo(e,r);case t.SyntaxKind.BigIntLiteral:return Kc(e,r);case t.SyntaxKind.StringLiteral:return Nr(e,r);case t.SyntaxKind.LeftBracket:return function(a,o){let l=a.curPos;Q(a,64|o,t.SyntaxKind.LeftBracket);let p=we(a,8388736^(8388736|o));return Q(a,64|o,t.SyntaxKind.RightBracket,177),Md(p,l,a.curPos)}(e,r);case t.SyntaxKind.PrivateIdentifier:return Zo(e,r);default:return ve(e,r,12599296,3)}}function Jr(e,r,a,o,l){return e.token===t.SyntaxKind.LeftBracket?function(p,d,c,f){let g=p.curPos,S=p.nodeFlags;Ne(p,d);let h=function(K,_,I,F){let H=K.curPos,J=K.nodeFlags,X=[],ee,Z=!1,re=null;for(;279461888&K.token;){let ce=K.curPos;if(K.token===t.SyntaxKind.Comma?(1024&K.linterFlags&&K.onError(2,C.Lint,v[280],K.tokenPos,ce),X.push(yi(ce,ce))):(re=ne(K,_,t.SyntaxKind.Ellipsis),ee=Jr(K,_,I,F),(re||K.token===t.SyntaxKind.QuestionMark||K.token===t.SyntaxKind.Colon||K.token===t.SyntaxKind.Assign)&&(ee=Be(re,ee,ne(K,_,t.SyntaxKind.QuestionMark),Ie(K,_),Qe(K,_,!!re),t.NodeFlags.ExpressionNode,ce,K.curPos)),X.push(ee)),K.token===t.SyntaxKind.RightBracket)break;if(ue(K,_,t.SyntaxKind.Comma)){if(re&&A(K,ce,K.token===t.SyntaxKind.RightBrace?35:190),K.token===t.SyntaxKind.RightBracket){Z=!0;break}}else A(K,K.curPos,4)}return 16&K.linterFlags&&4&K.subRules&&H===K.curPos&&K.onError(2,C.Lint,v[288],K.curPos,K.pos),Ud(X,Z,J,H,K.curPos)}(p,d,c,f);return Q(p,d,t.SyntaxKind.RightBracket,160),To(h,S|t.NodeFlags.ExpressionNode,g,p.curPos)}(e,r,a,o):e.token===t.SyntaxKind.LeftBrace?function(p,d,c,f){let g=p.curPos,S=p.nodeFlags;Q(p,d,t.SyntaxKind.LeftBrace);let h=function(K,_,I,F){let H=K.curPos,J=[],X=!1,ee=K.nodeFlags;for(;348667904&K.token;){let Z=Cu(K,_,I,F);if(J.push(Z),K.token===t.SyntaxKind.RightBrace)break;if(ue(K,_,t.SyntaxKind.Comma)){if(Z.kind!==t.SyntaxKind.Identifier&&Z.ellipsisToken&&A(K,K.curPos,K.token===t.SyntaxKind.RightBrace?35:190),K.token===t.SyntaxKind.RightBrace){X=!0;break}}else A(K,K.curPos,4)}return 16&K.linterFlags&&4&K.subRules&&H===K.curPos&&K.onError(2,C.Lint,v[287],K.curPos,K.pos),Eo(J,ee|t.NodeFlags.ExpressionNode,X,H,K.curPos)}(p,d,c,f);return Q(p,d,t.SyntaxKind.RightBrace,159),Fo(h,S|t.NodeFlags.ExpressionNode,g,p.curPos)}(e,r,a,o):(67108864&r&&e.token===t.SyntaxKind.LetKeyword&&A(e,e.curPos,125),da(e,r,a,o,l))}function Cu(e,r,a,o){let l=e.curPos,p=ne(e,64|r,t.SyntaxKind.Ellipsis),d=8404992&e.token,c=Gr(e,r);return d&&e.token!==t.SyntaxKind.Colon||p?(fr(e,r,a,c.text,o),p||e.token===t.SyntaxKind.Assign?Be(p,c,null,null,Qe(e,r,!!p),t.NodeFlags.None,l,e.curPos):c):(Q(e,r,t.SyntaxKind.Colon),_o(c,Jr(e,r,a,o,p?115:c.kind===t.SyntaxKind.ComputedPropertyName?282:281),Qe(e,r,!1),l,e.curPos))}function Au(e,r){return Ne(e,r),e.token!==t.SyntaxKind.Arrow}function wc(e,r,a){let o=e.curPos,l=ne(e,r,t.SyntaxKind.AsyncKeyword);if(l){if(e.token!==t.SyntaxKind.FunctionKeyword||e.nodeFlags&t.NodeFlags.NewLine){let I=e.nodeFlags;if((I&t.NodeFlags.NewLine)<1&&8404992&e.token){if(e.token&t.SyntaxKind.IsInOrOf&&mr(e,r,Au,!0))return(24576&l.flags)<1&&(32768&r)<1&&e.token&t.SyntaxKind.IsInOrOf&&A(e,e.curPos,195),e.assignable=!0,Rt("async","async",t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,o,e.curPos);11&a&&A(e,e.curPos,144,","),524288&r&&e.token&t.SyntaxKind.IsFutureReserved&&A(e,e.curPos,116);let H={kind:1024,scope:{kind:2,scope:null,flags:0},flags:0};qt(e,r,H,e.tokenValue,8);let J=Oa(e,r);return gt(e,r,H,null,null,J,l,t.NodeFlags.Async,o)}let F=Rt("async","async",t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,o,e.curPos);if(e.token===t.SyntaxKind.LeftParen)return 8&a?F:Er(e,r,F,null,a,I,o);if(2&r&&e.token===t.SyntaxKind.LessThan){let H=ar(e,64|r,t.NodeFlags.ExpressionNode);if(8404992&e.token){let J=ve(e,r,8404992),X=F;if(e.token===t.SyntaxKind.GreaterThan)return mr(e,r,()=>(Ne(e,r),e.token===t.SyntaxKind.LeftParen&&(F=Er(e,r,F,wr([br(J,null,null,null,J.start,e.curPos)],!1,t.NodeFlags.IsTypeNode,o,e.curPos),0,I,o),F.kind===t.SyntaxKind.ArrowFunction)),!1)?F:kr(X,H,nr(e,r,J,t.SyntaxKind.Identifier&t.SyntaxKind.Precedence,t.SyntaxKind.Identifier,e.curPos),t.NodeFlags.ExpressionNode,o,e.curPos);if(e.token===t.SyntaxKind.Colon||e.token===t.SyntaxKind.Assign){let ee=Ie(e,r),Z=ne(e,r,t.SyntaxKind.Assign),re=null;Z&&(re=Fe(e,r));let ce=[br(J,ee,Z,re,X.start,e.curPos)],ye=!1,Re=e.token===t.SyntaxKind.Assign;if(ue(e,r,t.SyntaxKind.Comma))if(e.token===t.SyntaxKind.GreaterThan)ye=!0;else for(;947929088&e.token;){let St=Ma(e,r,Re);if(ce.push(St),e.token===t.SyntaxKind.GreaterThan)break;if(St.defaultType&&(Re=!0),ue(e,r,t.SyntaxKind.Comma)&&e.token===t.SyntaxKind.GreaterThan){ye=!0;break}}return Q(e,r,t.SyntaxKind.GreaterThan,15),F=Er(e,r,F,wr(ce,ye,t.NodeFlags.IsTypeNode,o,e.curPos),0,I,o),F.kind!==t.SyntaxKind.ArrowFunction&&e.onError(2,C.Error,v[re?161:15],o,e.curPos),F}if(e.token===t.SyntaxKind.Comma)return mr(e,r,function(){let ee=!1,Z=[br(J,null,null,null,X.start,e.curPos)],re=!1;for(Ne(e,r);947929088&e.token;){let ye=Ma(e,r,ee);if(Z.push(ye),e.token===t.SyntaxKind.GreaterThan)break;if(ye.defaultType&&(ee=!0),ue(e,r,t.SyntaxKind.Comma)&&e.token===t.SyntaxKind.GreaterThan){re=!0;break}}if(e.token!==t.SyntaxKind.GreaterThan)return!1;Ne(e,r);let ce=wr(Z,re,t.NodeFlags.IsTypeNode,o,e.curPos);return F=Er(e,r,F,ce,0,I,o),F.kind===t.SyntaxKind.ArrowFunction},!1)?F:kr(X,H,nr(e,r,J,t.SyntaxKind.Identifier&t.SyntaxKind.Precedence,t.SyntaxKind.Identifier,e.curPos),t.NodeFlags.ExpressionNode,o,e.curPos)}return kr(F,H,nr(e,r,vt(e,r,1),t.SyntaxKind.Identifier&t.SyntaxKind.Precedence,t.SyntaxKind.Identifier,e.curPos),t.NodeFlags.ExpressionNode,o,e.curPos)}if(e.token===t.SyntaxKind.Arrow){3&a&&A(e,e.curPos,144,";");let H={kind:1024,scope:{kind:2,scope:null,flags:0},flags:0};return qt(e,r,H,"async",8),gt(e,r,H,null,null,F,null,t.NodeFlags.ExpressionNode,o)}return e.assignable=!0,F}24576&l.flags&&e.onError(2,C.Error,v[124],e.curPos,e.pos)}let p=Te(e,r,t.SyntaxKind.FunctionKeyword),d=ne(e,r,t.SyntaxKind.Multiply),c,f=null,g={kind:2,scope:null,flags:0};8404992&e.token&&(l&&e.token===t.SyntaxKind.AwaitKeyword&&(e.previousErrorPos=e.pos,e.onError(2,C.Error,v[l?209:210],e.curPos,e.pos)),(d&&e.token===t.SyntaxKind.YieldKeyword||e.token===t.SyntaxKind.PrivateIdentifier)&&(e.previousErrorPos=e.pos,e.onError(2,C.Error,v[e.token===t.SyntaxKind.PrivateIdentifier?69:219],e.curPos,e.pos)),524288&r&&(e.token===t.SyntaxKind.EvalIdentifier||e.token===t.SyntaxKind.ArgumentsIdentifier)&&e.onError(2,C.Error,v[124],e.curPos,e.pos),c=e.token,e.diagnosticStartPos=e.curPos,Bo(e,r,g,e.tokenValue,64),f=ve(e,r,8404992,115));let S=Vt(e,r);g={kind:512,scope:g,flags:0};let h=Nc(e,16384|(r=159598216^(159598216|r)|(l?1032:0)|(d?512:0)),g),K=Ie(e,r),_=ja(e,8448|r,g,(1&g.flags)>0,!1,(h.flags&t.NodeFlags.NoneSimpleParamList)<1,!1,c);return e.assignable=!1,jd(l,p,d,f,h,_,S,K,t.NodeFlags.ExpressionNode,o,e.curPos)}function Tr(e,r,a,o,l,p){let d=e.curPos,c=ne(e,r,t.SyntaxKind.AsyncKeyword);if(c&&(e.token!==t.SyntaxKind.FunctionKeyword||e.nodeFlags&t.NodeFlags.NewLine)){let J=e.nodeFlags;if((J&t.NodeFlags.NewLine)<1&&8404992&e.token){2&l&&A(e,d,152),24576&c.flags?A(e,e.curPos,171):524288&r&&e.token&t.SyntaxKind.IsFutureReserved&&A(e,e.curPos,116),e.token===t.SyntaxKind.AwaitKeyword&&A(e,e.curPos,215),qt(e,r,a={kind:1024,scope:{kind:2,scope:null,flags:0},flags:0},e.tokenValue,8);let ee=Oa(e,r);return e.token!==t.SyntaxKind.Arrow&&A(e,e.curPos,214),bt(e,r,ua(e,r,gt(e,r,a,null,null,ee,c,t.NodeFlags.Async,d),d),d)}if(e.token===t.SyntaxKind.LeftParen){2&l&&A(e,d,152);let ee=Er(e,r,Rt("async","async",t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,d,e.curPos),null,0,J,d);return bt(e,r,ua(e,r,ee,d),d)}let X=Rt("async","async",t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,d,e.curPos);if(e.token===t.SyntaxKind.LessThan&&2&r){let ee=ar(e,64|r,t.NodeFlags.ExpressionNode);if(8404992&e.token){let Z=ve(e,r,8404992),re=X;if(e.token===t.SyntaxKind.GreaterThan)mr(e,r,function(){return Ne(e,r),e.token===t.SyntaxKind.LeftParen&&(X=Er(e,r,X,wr([br(Z,null,null,null,Z.start,e.curPos)],!1,t.NodeFlags.IsTypeNode,d,e.curPos),0,J,d),X.kind===t.SyntaxKind.ArrowFunction)},!1)||(X=kr(re,ee,nr(e,r,Z,t.SyntaxKind.Identifier&t.SyntaxKind.Precedence,t.SyntaxKind.Identifier,e.curPos),t.NodeFlags.ExpressionNode,d,e.curPos));else if(e.token===t.SyntaxKind.Colon||e.token===t.SyntaxKind.Assign){let ce=Ie(e,r),ye=null,Re=ne(e,r,t.SyntaxKind.Assign);Re&&(ye=Fe(e,r));let St=[br(Z,ce,Re,ye,re.start,e.curPos)],At=!1,Qt=e.token===t.SyntaxKind.Assign;if(ue(e,r,t.SyntaxKind.Comma))if(e.token===t.SyntaxKind.GreaterThan)At=!0;else for(;947929088&e.token;){let Qr=Ma(e,r,Qt);if(St.push(Qr),e.token===t.SyntaxKind.GreaterThan)break;if(Qr.defaultType&&(Qt=!0),ue(e,r,t.SyntaxKind.Comma)&&e.token===t.SyntaxKind.GreaterThan){At=!0;break}}Q(e,r,t.SyntaxKind.GreaterThan,15),X=Er(e,r,X,wr(St,At,t.NodeFlags.IsTypeNode,d,e.curPos),0,J,d),X.kind!==t.SyntaxKind.ArrowFunction&&A(e,d,ye?161:15)}else if(e.token===t.SyntaxKind.Comma){if(mr(e,r,()=>{let ce=[br(Z,null,null,null,re.start,e.curPos)],ye=!1,Re=!1;for(Ne(e,r);947929088&e.token;){let At=Ma(e,r,Re);if(ce.push(At),e.token===t.SyntaxKind.GreaterThan)break;if(At.defaultType&&(Re=!0),ue(e,r,t.SyntaxKind.Comma)&&e.token===t.SyntaxKind.GreaterThan){ye=!0;break}}if(e.token!==t.SyntaxKind.GreaterThan)return!1;Ne(e,r);let St=wr(ce,ye,t.NodeFlags.IsTypeNode,d,e.curPos);return X=Er(e,r,X,null,0,J,d),X.kind===t.SyntaxKind.ArrowFunction&&(X.typeParameters=St,!0)},!1))return X;X=kr(re,ee,nr(e,r,Z,t.SyntaxKind.Identifier&t.SyntaxKind.Precedence,t.SyntaxKind.Identifier,e.curPos),t.NodeFlags.ExpressionNode,d,e.curPos)}}else X=kr(X,ee,nr(e,r,vt(e,r,1),t.SyntaxKind.Identifier&t.SyntaxKind.Precedence,t.SyntaxKind.Identifier,e.curPos),t.NodeFlags.ExpressionNode,d,e.curPos);return e.assignable=!0,bt(e,r,Gt(e,r,X,d),d)}return e.token===t.SyntaxKind.Colon?la(e,r,X,t.SyntaxKind.AsyncKeyword,t.NodeFlags.IsStatement,!0,a,p,null,d):(2&l&&A(e,d,261),e.token===t.SyntaxKind.Arrow?bt(e,r,ua(e,r,gt(e,r,a,null,null,X,null,t.NodeFlags.Async,d),d),d):(e.assignable=!0,bt(e,r,Gt(e,r,X,d),d)))}let f=Te(e,r,t.SyntaxKind.FunctionKeyword),g=ne(e,r,t.SyntaxKind.Multiply);4&l&&g&&A(e,e.curPos,20);let S=null,h={kind:2,scope:null,flags:0},K=e.token;e.diagnosticStartPos=e.curPos,8404992&e.token?(524288&r&&(e.token!==t.SyntaxKind.EvalIdentifier&&e.token!==t.SyntaxKind.ArgumentsIdentifier||A(e,e.curPos,124)),1049600&r&&e.token===t.SyntaxKind.AwaitKeyword&&A(e,e.curPos,g?211:212),(524800&r&&e.token===t.SyntaxKind.YieldKeyword||e.token===t.SyntaxKind.PrivateIdentifier)&&A(e,e.curPos,g?170:e.token===t.SyntaxKind.PrivateIdentifier?69:169),1048592&r?qt(e,r,a,e.tokenValue,1024):Bo(e,r,a,e.tokenValue,64),h={kind:256,scope:h,flags:0},S=ve(e,r,8404992,115)):(1&l)<1&&A(e,e.curPos,115);let _=Vt(e,r);h={kind:512,scope:h,flags:0};let I=Nc(e,16384|(r=159598216^(159598216|r)|(c?1032:0)|(g?512:0)),h),F=null;(o?Q(e,64|r,t.SyntaxKind.Colon,194):ue(e,64|r,t.SyntaxKind.Colon))&&(F=Fe(e,r));let H=e.token===t.SyntaxKind.LeftBrace?ja(e,8448|r,h,(1&h.flags)>0,!!o,(I.flags&t.NodeFlags.NoneSimpleParamList)<1,!1,K):o?null:ja(e,8448|r,h,(1&h.flags)>0,!!o,(I.flags&t.NodeFlags.NoneSimpleParamList)<1,!1,K);return e.assignable=!1,fc(o,c,f,g,S,I,H,_,F,t.NodeFlags.IsStatement,d,e.curPos)}function ja(e,r,a,o,l,p,d,c){let f=e.curPos,g=e.nodeFlags;if(d||Q(e,64|r,t.SyntaxKind.LeftBrace,197)){let S=function(h,K,_,I,F,H,J){let X=h.curPos,ee=[],Z=[],re=J|h.nodeFlags,ce=(524288&K)<1;for(;h.token===t.SyntaxKind.StringLiteral;){let ye=h.curPos,Re=Nr(h,K);gc(h)&&Re.rawText.length===12&&Re.text==="use strict"?(H&&(H&t.SyntaxKind.IsFutureReserved&&A(h,h.curPos,116),H!==t.SyntaxKind.EvalIdentifier&&H!==t.SyntaxKind.ArgumentsIdentifier||A(h,h.curPos,24576&re?173:172,u(H))),F||A(h,h.curPos,85),ot(h,K|=524288),Z.push(Re)):ee.push(bt(h,K,Gt(h,K,Re,ye),ye))}for(524288&K&&ce&&I&&A(h,h.diagnosticStartPos,192);276946944&h.token;)ee.push(oa(h,K,_,null,null));return 16&h.linterFlags&&2&h.subRules&&X===h.curPos&&h.onError(2,C.Lint,v[289],h.curPos,h.pos),No(Z,ee,re|t.NodeFlags.ExpressionNode,X,h.curPos)}(e,22560^(22816|r),{kind:128,scope:a,flags:0},o,p,c,g);return Q(e,l?64|r:r,t.SyntaxKind.RightBrace,159),wo(S,f,e.curPos)}return wo(No([],[],t.NodeFlags.ExpressionNode,f,f),f,f)}function Nc(e,r,a){let o=[];r=8388736^(8388736|r);let l=t.NodeFlags.ExpressionNode;Q(e,64|r,t.SyntaxKind.LeftParen,198);let p=e.curPos;if(Q(e,r,t.SyntaxKind.RightParen))return Pa([],!1,l,p,p);let d=!1,c=0,f=null;for(;277364736&e.token;){let S=e.curPos;if(e.token===t.SyntaxKind.ThisKeyword){((2&r)<1||c>0)&&A(e,S,(2&r)<1?229:101);let h=da(e,r,a,8),K=ne(e,64|r,t.SyntaxKind.QuestionMark);K&&A(e,e.curPos,108),e.token!==t.SyntaxKind.Colon&&A(e,e.curPos,100),o.push(Be(f,h,K,Ie(e,r),null,l,S,e.curPos))}else{f=ne(e,64|r,t.SyntaxKind.Ellipsis);let h=Jr(e,r,a,f?0:8);(f||e.token===t.SyntaxKind.QuestionMark||e.token===t.SyntaxKind.Colon||e.token===t.SyntaxKind.Assign)&&(f&&(l|=t.NodeFlags.NoneSimpleParamList,e.diagnosticStartPos=S,e.token===t.SyntaxKind.Comma&&e.onError(2,C.Error,v[19],e.curPos,e.pos)),h.kind===t.SyntaxKind.Identifier&&e.token!==t.SyntaxKind.Assign||(l|=t.NodeFlags.NoneSimpleParamList,e.diagnosticStartPos=S),h=Be(f,h,ne(e,r,t.SyntaxKind.QuestionMark),Ie(e,r),Qe(e,r,!!f),l,S,e.curPos)),o.push(h)}if(c++,e.token===t.SyntaxKind.RightParen)break;if(Q(e,64|r,t.SyntaxKind.Comma,4),e.token===t.SyntaxKind.RightParen){d=!0;break}}1&a.flags&&(l&t.NodeFlags.NoneSimpleParamList||524288&r)&&A(e,e.diagnosticStartPos,192);let g=Pa(o,d,l,p,e.curPos);return Q(e,r,t.SyntaxKind.RightParen,165),g}function zo(e,r,a,o){let l=e.curPos,p=t.NodeFlags.ExpressionNode;if(e.token===t.SyntaxKind.ThisKeyword){((2&r)<1||o>0)&&A(e,l,(2&r)<1?229:101);let f=da(e,r,a,8);return ne(e,64|r,t.SyntaxKind.QuestionMark)&&A(e,e.curPos,108),e.token!==t.SyntaxKind.Colon&&A(e,e.curPos,100),Be(null,f,null,Ie(e,r),null,p,l,e.curPos)}let d=ne(e,64|r,t.SyntaxKind.Ellipsis),c=Jr(e,r,a,d?0:8);if(d||e.token===t.SyntaxKind.QuestionMark||e.token===t.SyntaxKind.Colon||e.token===t.SyntaxKind.Assign){d&&(p|=t.NodeFlags.NoneSimpleParamList,e.diagnosticStartPos=l,e.token===t.SyntaxKind.Comma&&A(e,e.curPos,19));let f=ne(e,r,t.SyntaxKind.QuestionMark),g=Ie(e,r),S=Qe(e,r,!!d);return(c.kind!==t.SyntaxKind.Identifier||S)&&(p|=t.NodeFlags.NoneSimpleParamList,e.diagnosticStartPos=l),Be(d,c,f,g,S,p,l,e.curPos)}return c}function Tc(e,r,a,o){let l=e.curPos,p=at(e,64|r,t.SyntaxKind.ImportKeyword,t.NodeFlags.IsStatement,l);if(e.token===t.SyntaxKind.StringLiteral){let K=Nr(e,r);return ot(e,r),ko(p,null,null,null,K,null,24576^(p.flags&~t.NodeFlags.NoChildren|24576),l,e.curPos)}if(e.token===t.SyntaxKind.LeftParen)return bt(e,r,Gt(e,r,Lc(e,r,p),l),l);if(e.token===t.SyntaxKind.Period)return bt(e,r,Gt(e,r,Rc(e,r,p),l),l);o&&A(e,l,59);let d=null,c=null,f=null,g=null,S=e.token,h=12599296&e.token;if(h||e.token===t.SyntaxKind.Multiply||e.token===t.SyntaxKind.LeftBrace){let K=null,_=null,I=null;h&&(S===t.SyntaxKind.TypeofKeyword?(2&r||A(e,e.curPos,234),g=ne(e,r,t.SyntaxKind.TypeofKeyword),8404992&e.token&&(K=ve(e,r,8404992,115))):K=ve(e,r,8404992,115),2&r&&e.token!==t.SyntaxKind.FromKeyword&&S===t.SyntaxKind.TypeKeyword?(f=x(t.SyntaxKind.TypeKeyword,t.NodeFlags.NoChildren,K.start,K.end),8404992&e.token&&(K=ve(e,r,8404992,115))):(S===t.SyntaxKind.EvalIdentifier||S===t.SyntaxKind.ArgumentsIdentifier||ue(e,r,t.SyntaxKind.Comma)&&e.token!==t.SyntaxKind.Multiply&&e.token!==t.SyntaxKind.LeftBrace)&&A(e,e.curPos,S===t.SyntaxKind.EvalIdentifier||S===t.SyntaxKind.ArgumentsIdentifier?172:234,u(S))),f&&e.token===t.SyntaxKind.Multiply?_=function(F,H,J){let X=F.curPos;return Fd(Te(F,H,t.SyntaxKind.Multiply),at(F,H,t.SyntaxKind.AsKeyword,t.NodeFlags.IsStatement,F.curPos),da(F,H,J,16,3),X,F.curPos)}(e,r,a):e.token===t.SyntaxKind.LeftBrace&&(I=function(F,H,J){let X=F.curPos;Ne(F,H);let ee=function(Z,re,ce){let ye=Z.curPos,Re=[];for(;Z.token===t.SyntaxKind.StringLiteral;)Re.push(ui(null,ki(Z,re),null,at(Z,re,t.SyntaxKind.AsKeyword,t.NodeFlags.IsStatement,Z.curPos),ve(Z,re,8404992,115),ye,Z.curPos));for(;12599296&Z.token&&(Re.push(Iu(Z,re,ce)),Z.token!==t.SyntaxKind.RightBrace);)Q(Z,re,t.SyntaxKind.Comma,4);return Rd(Re,Z.nodeFlags,ye,Z.curPos)}(F,H,J);return Q(F,H,t.SyntaxKind.RightBrace,159),Dd(ee,X,F.curPos)}(e,r,a)),d=Ld(K,_,I,l,e.curPos),c=qo(e,r)}else A(e,e.curPos,5);return ot(e,r),ko(p,f,g,c,null,d,24576^(p.flags&~t.NodeFlags.NoChildren|24576),l,e.curPos)}function Iu(e,r,a){let o=e.curPos,l=e.token,p=null,d=ve(e,r,12599296,3);return e.token===t.SyntaxKind.AsKeyword?ui(p,null,d,at(e,r,t.SyntaxKind.AsKeyword,t.NodeFlags.IsStatement,e.curPos),da(e,r,a,16),o,e.curPos):(l===t.SyntaxKind.TypeKeyword&&8404992&e.token&&(p=x(t.SyntaxKind.TypeKeyword,t.NodeFlags.NoChildren,d.start,d.end),d=ve(e,r,12599296,3)),l!==t.SyntaxKind.EvalIdentifier&&l!==t.SyntaxKind.ArgumentsIdentifier||A(e,o,24576&d.flags?173:172,u(l)),fr(e,r,a,d.text,16),ui(p,null,null,null,d,o,e.curPos))}function ki(e,r){return Nr(e,r)}function qo(e,r){let{curPos:a,nodeFlags:o}=e;return Cd(Te(e,r,t.SyntaxKind.FromKeyword),e.token===t.SyntaxKind.StringLiteral?Nr(e,r):we(e,r),o,a,e.curPos)}function _c(e,r,a){let o=e.curPos,l=at(e,64|r,t.SyntaxKind.ExportKeyword,t.NodeFlags.IsStatement,o),p=null,d=null,c=null,f=null;switch(e.token){case t.SyntaxKind.DefaultKeyword:return function(h,K,_,I,F){let H=at(h,64|K,t.SyntaxKind.DefaultKeyword,t.NodeFlags.IsStatement,F),J;switch(h.token){case t.SyntaxKind.AsyncKeyword:case t.SyntaxKind.FunctionKeyword:J=Tr(h,K,_,null,1,null);break;case t.SyntaxKind.Decorator:case t.SyntaxKind.ClassKeyword:J=Ga(h,K,_,!0,null);break;default:J=we(h,K),ot(h,K)}return Id(I,H,J,F,h.curPos)}(e,r,a,l,o);case t.SyntaxKind.LeftBrace:c=function(h,K){let _=h.curPos;Ne(h,K);let I=function(F,H){let J=F.curPos,X=[];for(;12599296&F.token&&(X.push(vu(F,H)),F.token!==t.SyntaxKind.RightBrace);)Q(F,H,t.SyntaxKind.Comma);return Vd(X,J,F.curPos)}(h,K);return Q(h,K,t.SyntaxKind.RightBrace,159),Od(I,h.nodeFlags,_,h.curPos)}(e,r),e.token!==t.SyntaxKind.FromKeyword||24576&e.nodeFlags||(d=qo(e,r)),ot(e,r);break;case t.SyntaxKind.Multiply:f=function(h,K,_){let I=Te(h,K,t.SyntaxKind.Multiply),F=null,H=null,J=h.nodeFlags,X=at(h,K,t.SyntaxKind.AsKeyword,t.NodeFlags.IsStatement,h.curPos);return X&&(h.token===t.SyntaxKind.StringLiteral?F=ki(h,K):H=ve(h,K,8404992,3)),vd(I,X,H,F,J,_,h.curPos)}(e,r,o),d=qo(e,r),ot(e,r);break;case t.SyntaxKind.Decorator:case t.SyntaxKind.ClassKeyword:p=Ga(e,r,a,!1,null);break;case t.SyntaxKind.AsyncKeyword:case t.SyntaxKind.FunctionKeyword:p=Tr(e,r,a,null,6,null);break;case t.SyntaxKind.ConstKeyword:p=vc(e,r,t.SyntaxKind.ConstKeyword,t.NodeFlags.Const,a);break;case t.SyntaxKind.LetKeyword:p=Ic(e,r,a,null,null);break;case t.SyntaxKind.VarKeyword:p=Qo(e,r,null,a,16448);break;case t.SyntaxKind.TypeKeyword:let g=Yo(e,r,null,a,null,null);g.kind!==t.SyntaxKind.OpaqueType&&A(e,e.curPos,5),p=g;break;case t.SyntaxKind.OpaqueKeyword:let S=tl(e,r,null,a,null,null);if(S.kind===t.SyntaxKind.OpaqueType){p=S;break}default:A(e,e.curPos,5)}return Ad(l,p,c,d,f,0,24576^(l.flags&~t.NodeFlags.NoChildren|24576),o,e.curPos)}function vu(e,r){let a=e.curPos,o=null,l=e.token===t.SyntaxKind.StringLiteral?ki(e,r):ve(e,r,12599296,3),p=null,d=at(e,r,t.SyntaxKind.AsKeyword,t.NodeFlags.IsStatement,e.curPos);return d&&(e.token===t.SyntaxKind.StringLiteral?o=ki(e,r):p=ve(e,r,8404992)),Pd(o,l,d,p,a,e.curPos)}function Fe(e,r){let a=e.curPos;return ic(ne(e,r,t.SyntaxKind.BitwiseOr),ne(e,r,t.SyntaxKind.BitwiseAnd),ya(e,r,Go(e,r)),a,e.curPos)}function ya(e,r,a){if(e.token===t.SyntaxKind.BitwiseAnd){let o=e.curPos,l=[a];for(;ue(e,r,t.SyntaxKind.BitwiseAnd);)l.push(_r(e,r,bi(e,r),e.curPos));a=Vo(l,o,e.curPos)}if(e.token===t.SyntaxKind.BitwiseOr){let o=e.curPos,l=[a];for(;ue(e,r,t.SyntaxKind.BitwiseOr);)l.push(Pu(e,r));a=nc(l,o,e.curPos)}return a}function Ie(e,r){return e.nodeFlags,2&r&&ue(e,r,t.SyntaxKind.Colon)?Fe(e,r):null}function Pu(e,r){ue(e,r,t.SyntaxKind.BitwiseAnd);let a=Go(e,r);if(e.token===t.SyntaxKind.BitwiseAnd){let o=e.curPos,l=[a];for(;ue(e,r,t.SyntaxKind.BitwiseAnd);)l.push(Go(e,r));return Vo(l,o,e.curPos)}return a}function Go(e,r){let a=e.curPos;return e.token===t.SyntaxKind.QuestionMark?$d(ne(e,r,t.SyntaxKind.QuestionMark),_r(e,r,bi(e,r),e.curPos),a,e.curPos):_r(e,r,bi(e,r),a)}function _r(e,r,a,o){let l=null;for(;!(e.nodeFlags&t.NodeFlags.NewLine);)switch(e.token){case t.SyntaxKind.QuestionMarkPeriod:l=Te(e,r,t.SyntaxKind.QuestionMarkPeriod);case t.SyntaxKind.LeftBracket:if(Ne(e,r),947929088&e.token||l){let p=Fe(e,r);Q(e,r,t.SyntaxKind.RightBracket,201),a=l?hu(l,a,p,o,e.pos):Wd(a,p,e.nodeFlags,o,e.pos)}else Q(e,r,t.SyntaxKind.RightBracket,201),a=Yd(a,o,e.curPos);break;default:return a}return a}function bi(e,r){switch(e.token){case t.SyntaxKind.AnyKeyword:1048576&e.linterFlags&&e.onError(2,C.Lint,v[266],e.curPos,e.pos);case t.SyntaxKind.Multiply:case t.SyntaxKind.ThisKeyword:case t.SyntaxKind.NullKeyword:case t.SyntaxKind.UnknownKeyword:case t.SyntaxKind.UndefinedKeyword:case t.SyntaxKind.ObjectKeyword:case t.SyntaxKind.NeverKeyword:case t.SyntaxKind.VoidKeyword:case t.SyntaxKind.SymbolKeyword:case t.SyntaxKind.MixedKeyword:case t.SyntaxKind.NumberKeyword:case t.SyntaxKind.StringKeyword:case t.SyntaxKind.BooleanKeyword:case t.SyntaxKind.EmptyKeyword:case t.SyntaxKind.FalseKeyword:case t.SyntaxKind.TrueKeyword:return ar(e,r,t.NodeFlags.IsTypeNode);case t.SyntaxKind.StringLiteral:return function(a,o){let{curPos:l,tokenValue:p,tokenRaw:d,nodeFlags:c}=a;return Ne(a,o),ec(p,d,c|t.NodeFlags.IsTypeNode|t.NodeFlags.NoChildren,l,a.curPos)}(e,r);case t.SyntaxKind.NumericLiteral:return function(a,o){let{curPos:l,tokenValue:p,tokenRaw:d,nodeFlags:c}=a;return Ne(a,o),tc(p,d,c|t.NodeFlags.IsTypeNode|t.NodeFlags.NoChildren,l,a.curPos)}(e,r);case t.SyntaxKind.BigIntLiteral:return function(a,o){let{curPos:l,tokenValue:p,tokenRaw:d}=a;return Ne(a,o),function(c,f,g,S){return{kind:t.SyntaxKind.BigIntType,text:c,rawText:f,flags:t.NodeFlags.IsTypeNode|t.NodeFlags.NoChildren,transformFlags:n.None,start:g,end:S}}(p,d,l,a.curPos)}(e,r);case t.SyntaxKind.LeftBrace:return Pc(e,r,0);case t.SyntaxKind.LeftBracket:return function(a,o){let l=a.curPos,p=!1;Ne(a,o);let d=a.nodeFlags|t.NodeFlags.IsTypeNode,c=[],f=null,g=null;for(;a.token&(947929088|t.SyntaxKind.IsEllipsis);){let S=a.curPos;f=ne(a,o,t.SyntaxKind.Ellipsis);let h=Fe(a,o);if(g=ne(a,o,t.SyntaxKind.QuestionMark),g&&(h=Su(g,h,S,a.curPos)),c.push(f?gu(f,h,S,a.curPos):h),a.token===t.SyntaxKind.RightBracket)break;if(Q(a,o,t.SyntaxKind.Comma,4),a.token===t.SyntaxKind.RightBracket){p=!0;break}}return Q(a,o,t.SyntaxKind.RightBracket),oc(c,p,d,l,a.curPos)}(e,r);case t.SyntaxKind.LessThan:return function(a,o){let l=a.curPos,p=Vt(a,o);Q(a,o,t.SyntaxKind.LeftParen);let d=Cc(a,o);return Q(a,o,t.SyntaxKind.RightParen),Ot(d,ne(a,o,t.SyntaxKind.Arrow),Fe(a,o),p,l,a.curPos)}(e,r);case t.SyntaxKind.LeftParen:return function(a,o){let l=a.curPos;Ne(a,o);let p=a.token;if(a.token===t.SyntaxKind.RightParen||a.token===t.SyntaxKind.Ellipsis){let c=Cc(a,o);return Q(a,o,t.SyntaxKind.RightParen,165),Ot(c,ne(a,o,t.SyntaxKind.Arrow),Fe(a,o),null,l,a.curPos)}if(8404992&a.token){let c=ve(a,o,12599296,201);if(a.token===t.SyntaxKind.QuestionMark||a.token===t.SyntaxKind.Colon){let f=ne(a,o,t.SyntaxKind.QuestionMark),g=null;f&&a.token!==t.SyntaxKind.Colon&&A(a,l,247),ue(a,o,t.SyntaxKind.Colon)&&(g=Fe(a,o));let S=Ht(a,o,rr(null,c,f,g,l,a.curPos),l);return Q(a,o,t.SyntaxKind.RightParen,165),Ot(S,ne(a,o,t.SyntaxKind.Arrow),Fe(a,o),null,l,a.curPos)}return c=ya(a,o,_r(a,o,za(a,o,p,c,l),a.curPos)),a.token===t.SyntaxKind.Comma&&(c=Ht(a,o,rr(null,c,null,null,l,a.curPos),l)),a.token===t.SyntaxKind.Comma?(c=Ht(a,o,rr(null,c,null,null,l,a.curPos),l),Q(a,o,t.SyntaxKind.RightParen),Ot(c,Te(a,o,t.SyntaxKind.Arrow,196),Fe(a,o),null,l,a.curPos)):(Q(a,o,t.SyntaxKind.RightParen,165),16777216&o||a.token!==t.SyntaxKind.Arrow?La(c,l,a.curPos):Ot(Ht(a,o,rr(null,c,null,null,l,a.curPos),l),Te(a,o,t.SyntaxKind.Arrow,196),Fe(a,o),null,l,a.curPos))}if(a.token===t.SyntaxKind.LeftParen){let c;if(Ne(a,o),p=a.token,ue(a,o,t.SyntaxKind.RightParen))c=Ot(Ht(a,o,[],l),ne(a,o,t.SyntaxKind.Arrow),Fe(a,o),null,l,a.curPos);else{if(8404992&a.token){if(c=ve(a,o,12599296,201),a.token===t.SyntaxKind.QuestionMark||a.token===t.SyntaxKind.Colon){let g=ne(a,o,t.SyntaxKind.QuestionMark),S=null;g&&a.token!==t.SyntaxKind.Colon&&A(a,a.curPos,247),ue(a,o,t.SyntaxKind.Colon)&&(S=Fe(a,o));let h=Ht(a,o,rr(null,c,g,S,l,a.curPos),l);Q(a,o,t.SyntaxKind.RightParen,165),c=Ot(h,ne(a,o,t.SyntaxKind.Arrow),Fe(a,o),null,l,a.curPos)}c=ya(a,o,_r(a,o,za(a,o,p,c,l),a.curPos)),a.token===t.SyntaxKind.Comma&&(c=Ht(a,o,rr(null,c,null,null,l,a.curPos),l))}else c=a.token===t.SyntaxKind.Ellipsis?Ec(a,o):Fe(a,o);a.token===t.SyntaxKind.Comma&&(c=Ht(a,o,rr(null,c,null,null,l,a.curPos),l)),Q(a,o,t.SyntaxKind.RightParen);let f=ne(a,o,t.SyntaxKind.Arrow);f&&(c=Ot(Ht(a,o,c,l),f,Fe(a,o),null,l,a.curPos))}return Q(a,o,t.SyntaxKind.RightParen),16777216&o||a.token!==t.SyntaxKind.Arrow?La(c,l,a.curPos):Ot(Ht(a,o,c,l),Te(a,o,t.SyntaxKind.Arrow,196),Fe(a,o),null,l,a.curPos)}let d=Fe(a,o);return a.token===t.SyntaxKind.Comma?(d=Ht(a,o,rr(null,d,null,null,l,a.curPos),l),Q(a,o,t.SyntaxKind.RightParen),Ot(d,Te(a,o,t.SyntaxKind.Arrow,196),Fe(a,o),null,l,a.curPos)):ue(a,o,t.SyntaxKind.RightParen)?16777216&o||a.token!==t.SyntaxKind.Arrow?La(d,l,a.curPos):Ot(Ht(a,o,d,l),ne(a,o,t.SyntaxKind.Arrow),Fe(a,o),null,l,a.curPos):(Q(a,o,t.SyntaxKind.RightParen,165),La(d,l,a.curPos))}(e,r);case t.SyntaxKind.TypeofKeyword:return function(a,o){let l=a.curPos;return Xd(Te(a,o,t.SyntaxKind.TypeofKeyword),bi(a,o),l,a.curPos)}(e,r);case t.SyntaxKind.Add:case t.SyntaxKind.Subtract:return function(a,o){let l=a.curPos,p=Te(a,o,t.SyntaxKind.Subtract);if(a.token===t.SyntaxKind.NumericLiteral||a.token===t.SyntaxKind.BigIntLiteral){let d=a.tokenValue,c=a.tokenRaw;return Ne(a,o),Jd(p,d,c,l,a.curPos)}return A(a,a.curPos,202),hi(Wo(a,o,Mr(l,a.curPos),12599296,l),null,l,a.curPos)}(e,r);default:return function(a,o){let l=a.curPos;return hi(Wo(a,o,ve(a,268435456|o,12599296,201),12599296,l),Ua(a,(o|16777216&o|268435456)^16777216&o),l,a.curPos)}(e,r)}}function Jo(e,r,a){let o=e.curPos,l=Vt(e,r),p=Xo(e,r,a);return Q(e,r,t.SyntaxKind.Colon),Lo(p,Fe(e,r),l,o,e.curPos)}function Ec(e,r){let a=e.curPos,o=ne(e,r,t.SyntaxKind.Ellipsis),l=null;if(8404992&e.token){let p=e.token;if(l=ve(e,r,8404992,201),e.token===t.SyntaxKind.QuestionMark||e.token===t.SyntaxKind.Colon){let d=ne(e,r,t.SyntaxKind.QuestionMark);return Q(e,r,t.SyntaxKind.Colon,201),Oo(o,l,d,Fe(e,r),a,e.curPos)}l=ya(e,r,_r(e,r,za(e,r,p,l,a),e.curPos))}else l=Fe(e,r);return rr(o,null,null,l,a,e.curPos)}function Fc(e,r){let a=e.curPos,o=ne(e,64|r,t.SyntaxKind.Ellipsis),l=null;if(8404992&e.token){let p=e.token;if(l=ve(e,r,8404992,201),e.token===t.SyntaxKind.QuestionMark||e.token===t.SyntaxKind.Colon){let d=ne(e,64|r,t.SyntaxKind.QuestionMark);return Q(e,r,t.SyntaxKind.Colon,201),Oo(o,l,d,Fe(e,r),a,e.curPos)}l=ya(e,r,_r(e,r,za(e,r,p,l,a),e.curPos))}else l=Fe(e,r);return rr(o,null,null,l,a,e.curPos)}function Cc(e,r){let a=e.curPos,o=[],l=!1;for(;e.token&(t.SyntaxKind.IsEllipsis|t.SyntaxKind.IsFutureReserved|t.SyntaxKind.IsIdentifier|t.SyntaxKind.IsStartOfType)&&(o.push(Fc(e,r)),e.token!==t.SyntaxKind.RightParen);)if(ue(e,64|r,t.SyntaxKind.Comma)&&e.token===t.SyntaxKind.RightParen){l=!0;break}return Ro(o,l,a,e.curPos)}function Ht(e,r,a,o){let l=[a],p=!1;if(ue(e,r,t.SyntaxKind.Comma)){if(e.token===t.SyntaxKind.RightParen)return Ro(l,!0,o,e.curPos);do{if(l.push(Fc(e,r)),e.token===t.SyntaxKind.RightParen)break;if(Q(e,64|r,t.SyntaxKind.Comma,4),e.token===t.SyntaxKind.RightParen){p=!0;break}}while(142622720&e.token)}return Ro(l,p,o,e.curPos)}function Wo(e,r,a,o,l){for(;ue(e,r,t.SyntaxKind.Period)&&e.token!==t.SyntaxKind.LessThan;)a=sc(a,ve(e,r,o,201),l,e.curPos);return a}function Vt(e,r){if(ue(e,r,t.SyntaxKind.LessThan)){let a=e.curPos,o=e.nodeFlags|t.NodeFlags.IsTypeNode;e.token===t.SyntaxKind.GreaterThan&&A(e,e.curPos,3);let l=[],p=!1,d=!1;for(;947929088&e.token;){let f=Ma(e,r,p);if(l.push(f),f.defaultType&&(p=!0),ue(e,r,t.SyntaxKind.Comma)&&e.token===t.SyntaxKind.GreaterThan){d=!0;break}}let c=wr(l,d,o,a,e.curPos);return Q(e,r,t.SyntaxKind.GreaterThan,200),c}return null}function Ua(e,r){if(!(e.nodeFlags&t.NodeFlags.NewLine)&&ue(e,r,t.SyntaxKind.LessThan)){let a=e.nodeFlags,o=e.curPos,l=[],p=!1;for(;947929088&e.token;)if(l.push(Fe(e,r)),ue(e,r,t.SyntaxKind.Comma)&&e.token===t.SyntaxKind.GreaterThan){p=!0;break}let d=function(c,f,g,S,h){return{kind:t.SyntaxKind.TypeParameterInstantiation,types:c,trailingComma:f,flags:g,transformFlags:n.TypeParameter,start:S,end:h}}(l,p,a|t.NodeFlags.IsTypeNode,o,e.curPos);return Q(e,r,t.SyntaxKind.GreaterThan,200),d}return null}function Ma(e,r,a){let o=e.curPos,l=ve(e,r,8404992),p=Ie(e,r),d=ne(e,r,t.SyntaxKind.Assign),c=null;return d&&(c=Fe(e,r)),a&&!c&&e.previousErrorPos!==e.pos&&A(e,e.curPos,94),br(l,p,d,c,o,e.curPos)}function Qo(e,r,a,o,l){let p=e.curPos,d=at(e,64|r,t.SyntaxKind.VarKeyword,t.NodeFlags.IsStatement,p);256&e.linterFlags&&e.onError(2,C.Lint,v[268],e.curPos,e.pos);let c=Ac(e,r,!1,o,l);return ot(e,r),Ho(a,d,c,a?t.NodeFlags.IsStatement|t.NodeFlags.Declared:t.NodeFlags.IsStatement,p,e.curPos)}function Ac(e,r,a,o,l){let p=e.curPos,d=[];for(;276840448&e.token&&(d.push(Vu(e,r,a,o,l)),!(e.token&(t.SyntaxKind.Smi|t.SyntaxKind.IsInOrOf)||e.nodeFlags&t.NodeFlags.NewLine));)ue(e,r,t.SyntaxKind.Comma)?(276840448&e.token)<1&&A(e,e.curPos,32):A(e,e.curPos,e.token&t.SyntaxKind.IsKeyword?82:255);return a&&d.length>1&&e.token&t.SyntaxKind.IsInOrOf&&A(e,e.curPos,49),Do(d,p,e.curPos)}function Qe(e,r,a){return ue(e,64|r,t.SyntaxKind.Assign)?(a&&A(e,e.curPos,18),we(e,r)):null}function Vu(e,r,a,o,l){let p=e.curPos,d=Jr(e,r,o,l,82),c=Ie(e,r),f=Qe(e,r,!1);return f?a&&(d.kind!==t.SyntaxKind.Identifier||4&r)&&e.token&t.SyntaxKind.IsInOrOf&&A(e,p,179):a||d.kind===t.SyntaxKind.Identifier||A(e,e.curPos,12),cc(d,c,f,p,e.curPos)}function Yo(e,r,a,o,l,p){let d=Te(e,r,t.SyntaxKind.TypeKeyword),c=d.flags;if(2&r&&8404992&e.token){let g=ve(e,r,8404992),S=Vt(e,r),h=Te(e,r,t.SyntaxKind.Assign,249),K=Fe(e,r);return a&&(c|=t.NodeFlags.Declared),ot(e,r),yc(a,d,g,S,h,K,c,d.start,e.curPos)}e.assignable=!0;let f=Rt("type","type",t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,d.start,d.end);return e.token===t.SyntaxKind.Colon?la(e,r,f,t.SyntaxKind.TypeKeyword,t.NodeFlags.IsStatement,!0,o,l,p,d.start):(e.token===t.SyntaxKind.Arrow&&(f=gt(e,r,o,null,null,f,null,t.NodeFlags.ExpressionNode,d.start)),bt(e,r,Gt(e,r,f,d.start),d.start))}function Ic(e,r,a,o,l){let p=e.curPos,d=e.nodeFlags|t.NodeFlags.IsStatement,c=ve(e,r,8404992,3);if(e.token&(t.SyntaxKind.IsPatternStart|t.SyntaxKind.IsIdentifier|t.SyntaxKind.IsFutureReserved)&&(24576&d)<1){let f=wi(e,67108864|r,d,!1,a,16);return ot(e,r),Ra(x(t.SyntaxKind.LetKeyword,d|t.NodeFlags.NoChildren,p,c.end),f,p,e.curPos)}return 524288&r&&A(e,e.curPos,11),e.assignable=!0,e.token===t.SyntaxKind.Colon?la(e,r,c,t.SyntaxKind.LetKeyword,t.NodeFlags.IsStatement,!0,a,o,l,p):(e.token===t.SyntaxKind.Arrow&&(c=gt(e,r,a,null,null,Rt("let","let",t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,p,e.curPos),null,t.NodeFlags.ExpressionNode,p)),bt(e,r,Gt(e,r,c,p),p))}function vc(e,r,a,o,l){let p=e.curPos,d=at(e,r,a,t.NodeFlags.IsStatement,p),c=wi(e,16^(67108880|r),o,!1,l,a===t.SyntaxKind.ConstKeyword?32:0);return ot(e,r),Ra(d,c,p,e.curPos)}function wi(e,r,a,o,l,p){let d=e.curPos,c=[];for(;276840448&e.token&&(c.push(Lu(e,r,a,o,l,p)),!(e.token&(t.SyntaxKind.Smi|t.SyntaxKind.IsInOrOf)||e.nodeFlags&t.NodeFlags.NewLine));)ue(e,r,t.SyntaxKind.Comma)?(276840448&e.token)<1&&A(e,e.curPos,32):A(e,e.curPos,151);return o&&c.length>1&&e.token&t.SyntaxKind.IsInOrOf&&A(e,e.curPos,50),dc(c,a,d,e.curPos)}function Lu(e,r,a,o,l,p){let d=e.curPos,c=!o&&((a&t.NodeFlags.Const)>0||e.token&t.SyntaxKind.IsPatternStart);e.token===t.SyntaxKind.LetKeyword&&A(e,e.curPos,81);let f=Jr(e,r,l,p,151),g=Ie(e,r),S=null;return ue(e,64|r,t.SyntaxKind.Assign)?(S=we(e,r),o&&e.token&t.SyntaxKind.IsInOrOf&&A(e,d,52)):(c||o&&f.kind!==t.SyntaxKind.Identifier&&!(e.token&t.SyntaxKind.IsInOrOf))&&A(e,e.curPos,a&t.NodeFlags.Const?13:12),uc(f,g,S,d,e.curPos)}function Ni(e,r,a){return e.token===t.SyntaxKind.StringLiteral?Nr(e,r):e.token===t.SyntaxKind.NumericLiteral?Uo(e,r):ve(e,r,a,3)}function Ru(e,r,a){let o=e.curPos,l=null,p=null,d=e.token;if(d&t.SyntaxKind.IsLessThanOrLeftParen)return Vc(e,r,p,l,o);if(3&a&&(d===t.SyntaxKind.ProtoKeyword||d===t.SyntaxKind.StaticKeyword)){let c=ve(e,r,8404992);if(e.token===t.SyntaxKind.Colon||e.token===t.SyntaxKind.QuestionMark)return function(f,g,S,h,K,_,I){let F=ne(f,64|g,t.SyntaxKind.QuestionMark);Q(f,g,t.SyntaxKind.Colon);let H=Fe(f,g);return or(f,g),Ur(null,null,S,H,F,h,K,I,f.curPos)}(e,r,c,l,p,0,o);d===t.SyntaxKind.ProtoKeyword&&(p=x(t.SyntaxKind.ProtoKeyword,t.NodeFlags.ExpressionNode,c.start,c.end)),d===t.SyntaxKind.StaticKeyword&&(l=x(t.SyntaxKind.StaticKeyword,t.NodeFlags.ExpressionNode,c.start,c.end))}return ue(e,r,t.SyntaxKind.LeftBracket)?e.token===t.SyntaxKind.LeftBracket?function(c,f,g,S,h){S&&A(c,h,201),Q(c,f,t.SyntaxKind.LeftBracket);let K=Ni(c,f,12599296);if(Q(c,f,t.SyntaxKind.RightBracket,160),Q(c,f,t.SyntaxKind.RightBracket,160),c.token&t.SyntaxKind.IsLessThanOrLeftParen){let F=Vt(c,f),H=Xo(c,f,0);Q(c,f,t.SyntaxKind.Colon);let J=Lo(H,Fe(c,f),F,h,c.curPos);return or(c,f),Po(S,K,null,g,J,h,c.curPos)}let _=ne(c,64|f,t.SyntaxKind.QuestionMark);Q(c,f,t.SyntaxKind.Colon);let I=Fe(c,f);return or(c,f),Po(S,K,_,g,I,h,c.curPos)}(e,r,l,p,o):function(c,f,g,S,h){let K=null,_=null;if(8404992&c.token){let F=c.token;K=ve(c,f,12599296),c.token===t.SyntaxKind.Colon?(Q(c,f,t.SyntaxKind.Colon),_=Fe(c,f)):K=ya(c,f,_r(c,f,za(c,f,F,K,h),c.curPos))}else _=Fe(c,f);Q(c,f,t.SyntaxKind.RightBracket,160);let I=function(F,H){return Q(F,H,t.SyntaxKind.Colon),Fe(F,H)}(c,f);return or(c,f),ac(g,S,K,_,I,h,c.curPos)}(e,r,p,l,o):e.token&t.SyntaxKind.IsLessThanOrLeftParen?Vc(e,r,p,l,o):e.token===t.SyntaxKind.Ellipsis?function(c,f,g,S,h){return Qd(g,Te(c,f,t.SyntaxKind.Ellipsis,201),Fe(c,f),S,h,c.curPos)}(e,r,p,l,o):function(c,f,g,S,h){let K,_=null,I=null;if(8404992&c.token){let J=c.token;if(K=Ni(c,f,12599296),!(c.token&t.SyntaxKind.IsLessThanOrLeftParen||J!==t.SyntaxKind.GetKeyword&&J!==t.SyntaxKind.SetKeyword)){J===t.SyntaxKind.GetKeyword?_=x(t.SyntaxKind.GetKeyword,K.flags|t.NodeFlags.NoChildren,h,K.end):I=x(t.SyntaxKind.SetKeyword,K.flags|t.NodeFlags.NoChildren,h,K.end),K=Ni(c,f,8404992);let Z=Jo(c,f,J===t.SyntaxKind.GetKeyword?1:2);return or(c,f),Ur(_,I,K,Z,null,null,g,h,c.curPos)}if(c.token&t.SyntaxKind.IsLessThanOrLeftParen){let Z=Jo(c,f,0);return or(c,f),Ur(_,I,K,Z,null,S,g,h,c.curPos)}let X=ne(c,64|f,t.SyntaxKind.QuestionMark);Q(c,f,t.SyntaxKind.Colon);let ee=Fe(c,f);return or(c,f),Ur(_,I,K,ee,X,S,g,h,c.curPos)}if(K=Ni(c,f,12599296),c.token&t.SyntaxKind.IsLessThanOrLeftParen){let J=Jo(c,f,0);return or(c,f),Ur(_,I,K,J,null,S,g,h,c.curPos)}let F=ne(c,64|f,t.SyntaxKind.QuestionMark);Q(c,f,t.SyntaxKind.Colon);let H=Fe(c,f);return or(c,f),Ur(_,I,K,H,F,S,g,h,c.curPos)}(e,r,p,l,o)}function or(e,r){ue(e,r,t.SyntaxKind.Comma)||ot(e,r)}function Pc(e,r,a){let o=e.curPos,l=[],p=e.nodeFlags|t.NodeFlags.IsTypeNode,d=!1;if(Q(e,r,t.SyntaxKind.LeftBrace,197)){for(;952647680&e.token;)if(l.push(Ru(e,r,a)),ue(e,r,t.SyntaxKind.Comma)&&e.token===t.SyntaxKind.RightParen){d=!0;break}Q(e,r,t.SyntaxKind.RightBrace,159)}return Zd(l,d,p,o,e.curPos)}function Xo(e,r,a){let o=Q(e,r,t.SyntaxKind.LeftParen,198),l=function(p,d,c){let f=p.curPos,g=[],S=!1;for(p.token===t.SyntaxKind.RightParen?2&c&&A(p,p.curPos,38):1&c&&A(p,p.curPos,p.token===t.SyntaxKind.ThisKeyword?231:42,"get");p.token&(t.SyntaxKind.IsEllipsis|t.SyntaxKind.IsFutureReserved|t.SyntaxKind.IsIdentifier|t.SyntaxKind.IsStartOfType)&&(2&c&&p.token===t.SyntaxKind.Ellipsis&&A(p,f,41),g.push(Ec(p,d)),p.token!==t.SyntaxKind.RightParen);)if(ue(p,64|d,t.SyntaxKind.Comma)){if(p.token===t.SyntaxKind.RightParen){S=!0;break}2&c&&p.token===t.SyntaxKind.Ellipsis&&A(p,f,38)}return lc(g,S,f,p.curPos)}(e,r,a);return Q(e,r,t.SyntaxKind.RightParen,o?165:1),l}function Vc(e,r,a,o,l){a&&A(e,l,201);let p=Vt(e,r),d=Xo(e,r,0);Q(e,r,t.SyntaxKind.Colon);let c=Fe(e,r);return or(e,r),rc(a,p,d,o,c,l,e.curPos)}function za(e,r,a,o,l){switch(a){case t.SyntaxKind.AnyKeyword:1048576&e.linterFlags&&e.onError(2,C.Lint,v[266],e.curPos,e.pos);case t.SyntaxKind.StringLiteral:case t.SyntaxKind.NullKeyword:case t.SyntaxKind.UnknownKeyword:case t.SyntaxKind.UndefinedKeyword:case t.SyntaxKind.ObjectKeyword:case t.SyntaxKind.NeverKeyword:case t.SyntaxKind.VoidKeyword:case t.SyntaxKind.SymbolKeyword:case t.SyntaxKind.MixedKeyword:case t.SyntaxKind.NumberKeyword:case t.SyntaxKind.StringKeyword:case t.SyntaxKind.BooleanKeyword:case t.SyntaxKind.EmptyKeyword:return x(a,t.NodeFlags.NoChildren,o.start,o.end);default:return hi(Wo(e,r,o,12599296,l),Ua(e,(r|16777216&r|268435456)^16777216&r),l,e.curPos)}}function Lc(e,r,a){let o=e.curPos;Ne(e,r),e.token===t.SyntaxKind.RightParen&&A(e,e.curPos,72);let l=we(e,r);return e.token===t.SyntaxKind.Comma&&A(e,e.curPos,54),Q(e,r,t.SyntaxKind.RightParen,165),ud(a,l,o,e.curPos)}function Rc(e,r,a){let o=e.curPos;Q(e,r,t.SyntaxKind.Period);let l=at(e,r,t.SyntaxKind.Meta,t.NodeFlags.ExpressionNode,e.curPos);return(33554432&r)<1&&e.previousErrorPos!==e.pos&&A(e,o,111),l||A(e,o,206),e.assignable=!1,yd(a,l,o,e.nodeFlags|t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,e.curPos)}function Ti(e,r){let a=e.curPos,o=e.nodeFlags|t.NodeFlags.ExpressionNode,l=[Oc(e,r)];for(;Ea(e,r)===t.SyntaxKind.TemplateCont;)l.push(Oc(e,r));return e.assignable=!1,md(l,qa(e,r,o|t.NodeFlags.NoChildren),o,a,e.curPos)}function Oc(e,r){let{curPos:a,tokenValue:o,tokenRaw:l}=e;return Q(e,64|r,t.SyntaxKind.TemplateCont),hd(l,o,Dt(e,8388736^(8388736|r)),a,e.curPos)}function qa(e,r,a){let{curPos:o,tokenValue:l,tokenRaw:p}=e;return Q(e,64|r,t.SyntaxKind.TemplateTail),Kd(p,l,a,o,e.curPos)}function Ga(e,r,a,o,l){let p=e.curPos,d=null;if(e.token===t.SyntaxKind.DeclareKeyword){let _=ve(e,r,8404992,3);if(!(2&r&&e.token&t.SyntaxKind.IsStatementStart))return e.assignable=!0,e.token===t.SyntaxKind.Colon?la(e,r,_,t.SyntaxKind.DeclareKeyword,t.NodeFlags.IsStatement,!0,a,l,null,p):(e.token===t.SyntaxKind.Arrow&&(_=gt(e,r,a,null,null,_,null,t.NodeFlags.None,p)),bt(e,r,Gt(e,r,_,p),p));switch(d=x(t.SyntaxKind.DeclareKeyword,t.NodeFlags.NoChildren,_.start,_.end),e.token){case t.SyntaxKind.VarKeyword:return Qo(e,r,d,a,64);case t.SyntaxKind.TypeKeyword:return Yo(e,r,d,a,l,null);case t.SyntaxKind.OpaqueKeyword:return tl(e,r,d,a,l,null);case t.SyntaxKind.FunctionKeyword:return Tr(e,r,a,d,0,l)}}let c=el(e,r),f=e.nodeFlags|t.NodeFlags.IsStatement,g=at(e,64|r,t.SyntaxKind.ClassKeyword,t.NodeFlags.IsStatement,p);r=262144^(786432|r);let S=null;e.token===t.SyntaxKind.LeftBrace?o||e.onError(2,C.Error,v[117],e.curPos,e.pos):e.token!==t.SyntaxKind.ExtendsKeyword&&(S=da(e,r,a,32));let h=Vt(e,r),K=Dc(e,2097152|r,!!d,!0);return e.assignable=!1,pc(d,c,g,S,h,K,24576^(24576|f),p,e.curPos)}function Dc(e,r,a,o){let l=e.curPos,p=null,d=r,c=null;if(e.token===t.SyntaxKind.ExtendsKeyword){let f=at(e,64|r,t.SyntaxKind.ExtendsKeyword,t.NodeFlags.IsStatement,l);e.token!==t.SyntaxKind.TypeofKeyword&&e.token!==t.SyntaxKind.VoidKeyword&&e.token!==t.SyntaxKind.Negate&&e.token!==t.SyntaxKind.Add&&e.token!==t.SyntaxKind.Subtract&&e.token!==t.SyntaxKind.VoidKeyword&&e.token!==t.SyntaxKind.VoidKeyword&&e.token!==t.SyntaxKind.DeleteKeyword||A(e,e.curPos,15);let g=e.curPos;p=Sd(f,vt(e,r,3),e.token===t.SyntaxKind.LessThan?Ua(e,268435456|r):null,g,e.curPos),d|=65536}else d=65536^(65536|d);return a?ci(p,Pc(e,r,3),t.NodeFlags.ExpressionNode|t.NodeFlags.Declared,l,e.curPos):Q(e,r,t.SyntaxKind.LeftBrace,197)?(c=function(f,g,S){let h=f.curPos,K=!1,_=[],I=null;for(;(1153449984&f.token||f.token===t.SyntaxKind.Decorator)&&(I=$o(f,g,S,null,null,null,t.NodeFlags.None),I.flags&t.NodeFlags.Constructor&&(K&&A(f,f.curPos,66),K=!0),_.push(I),f.token!==t.SyntaxKind.RightBrace););return So(_,h,f.curPos)}(e,d,r),Q(e,r|(o?64:0),t.SyntaxKind.RightBrace,159),ci(p,c,l,t.NodeFlags.ExpressionNode,e.curPos)):ci(p,So([],l,l),l,t.NodeFlags.ExpressionNode,l)}function $o(e,r,a,o,l,p,d){let c=e.curPos,f=null,g=null,S=null,h=null,K=ne(e,r,t.SyntaxKind.Semicolon);if(K)return K;p||(p=el(e,r));let _=e.token,I=e.nodeFlags;if(8404992&_){let H=ve(e,r,8404992,3);if((79708160&e.token||e.token===t.SyntaxKind.Decorator)&&(e.nodeFlags&t.NodeFlags.NewLine)<1)switch(_){case t.SyntaxKind.StaticKeyword:if(24576&I&&A(e,e.curPos,124),!l)return $o(e,r,a,o,x(t.SyntaxKind.StaticKeyword,t.NodeFlags.NoChildren,c,e.curPos),p,d);A(e,e.curPos,180);break;case t.SyntaxKind.DeclareKeyword:if(2&r){if(!o)return l&&A(e,e.curPos,203),e.token===t.SyntaxKind.Decorator&&A(e,e.curPos,204),$o(e,r,a,x(t.SyntaxKind.DeclareKeyword,t.NodeFlags.NoChildren,c,e.curPos),l,p,d);break}break;case t.SyntaxKind.AsyncKeyword:24576&I&&A(e,c,124),d|=t.NodeFlags.Async,g=x(t.SyntaxKind.AsyncKeyword,I|t.NodeFlags.NoChildren,c,e.curPos),f=ne(e,r,t.SyntaxKind.Multiply),f&&(d|=t.NodeFlags.Generator);break;case t.SyntaxKind.GetKeyword:24576&I&&A(e,c,124),S=x(t.SyntaxKind.GetKeyword,I|t.NodeFlags.NoChildren,c,e.curPos),d|=t.NodeFlags.Getter;break;case t.SyntaxKind.SetKeyword:h=x(t.SyntaxKind.SetKeyword,I|t.NodeFlags.NoChildren,c,e.curPos),d|=t.NodeFlags.Setter}else if(1&r&&_===t.SyntaxKind.StaticKeyword&&e.token===t.SyntaxKind.LeftBrace)return function(J,X,ee,Z,re,ce,ye){ee&&J.onError(2,C.Error|C.EarlyError,v[186],J.curPos,J.pos),Ne(J,64|X),J.token===t.SyntaxKind.ArgumentsIdentifier&&J.onError(2,C.Error|C.EarlyError,v[184],J.curPos,J.pos);let Re=hc(J,6912^(7968|X),{kind:2,scope:{kind:2,scope:null,flags:0},flags:0},null,null);return Q(J,X,t.SyntaxKind.RightBrace,159),ue(J,X,t.SyntaxKind.Assign)&&J.onError(2,C.Error|C.EarlyError,v[15],J.curPos,J.pos),fd(ee,Z,re,Ca(Re,ye,ce,J.curPos),ye,J.curPos)}(e,a,p,o,x(t.SyntaxKind.StaticKeyword,t.NodeFlags.NoChildren,H.start,H.end),d,c);if(d&(t.NodeFlags.Async|t.NodeFlags.Getter|t.NodeFlags.Setter)&&_&(t.SyntaxKind.IsIdentifier|t.SyntaxKind.IsKeyword|t.SyntaxKind.IsFutureReserved|t.SyntaxKind.IsProperty)){let J=e.token;H=Gr(e,a),g&&(J===t.SyntaxKind.SetKeyword||J===t.SyntaxKind.GetKeyword)&&79708160&e.token&&e.onError(2,C.Error,v[214],e.curPos,e.pos)}return e.token&t.SyntaxKind.IsLessThanOrLeftParen||1792&d?(H.kind!==t.SyntaxKind.ComputedPropertyName&&(e.tokenValue==="constructor"?((!l&&1792&d||p)&&e.onError(2,C.Error,v[p?205:67],e.curPos,e.pos),65536&~r&&(d|=t.NodeFlags.Constructor),d|=t.NodeFlags.Constructor):l&&e.tokenValue==="prototype"&&e.onError(2,C.Error,v[65],e.curPos,e.pos)),o&&e.onError(2,C.Error,v[105],e.curPos,e.pos),go(o,p,f,l,g,S,h,qr(e,r,H,d),d,c,e.curPos)):(H.kind!==t.SyntaxKind.ComputedPropertyName&&(e.tokenValue==="constructor"&&e.onError(2,C.Error,v[244],e.curPos,e.pos),l&&e.tokenValue==="prototype"&&e.onError(2,C.Error,v[245],e.curPos,e.pos)),Hc(e,2097152|r,p,o,l,g,H,c))}f=ne(e,r,t.SyntaxKind.Multiply);let F=Gr(e,a);return e.token&t.SyntaxKind.IsLessThanOrLeftParen?(F.kind!==t.SyntaxKind.ComputedPropertyName&&(e.tokenValue==="constructor"&&e.token&t.SyntaxKind.IsLessThanOrLeftParen&&!l&&65536&~r&&(d|=t.NodeFlags.Constructor),l&&e.tokenValue==="prototype"&&e.onError(2,C.Error,v[65],e.curPos,e.pos)),o&&e.onError(2,C.Error,v[105],e.curPos,e.pos),go(o,p,f,l,g,S,h,qr(e,2097152|r,F,d),d,c,e.curPos)):Hc(e,2097152|r,p,o,l,g,F,c)}function Hc(e,r,a,o,l,p,d,c){let f=2&r?ne(e,r,t.SyntaxKind.QuestionMark):null,g=Ie(e,r),S=null;return ue(e,64|r,t.SyntaxKind.Assign)&&(o&&e.onError(2,C.Error,v[106],e.curPos,e.pos),e.token===t.SyntaxKind.ArgumentsIdentifier&&e.onError(2,C.Error,v[163],e.curPos,e.pos),S=we(e,r)),gd(a,o,l,p,d,f,g,S,c,e.curPos)}function Zo(e,r){let a=e.curPos,o=e.tokenValue,l=e.tokenRaw;return(2097152&r)<1&&e.previousErrorPos!==e.pos&&e.onError(2,C.Error,v[69],a,e.pos),Ne(e,r),e.assignable=!0,zd(o,l,a,e.curPos)}function el(e,r){if(e.token===t.SyntaxKind.Decorator){let a=e.curPos,o=[];do o.push(Ou(e,r));while(e.token===t.SyntaxKind.Decorator);return ld(o,a,e.curPos)}return null}function Ou(e,r){let a=ne(e,r,t.SyntaxKind.Decorator),o=e.curPos,l=e.nodeFlags;return dd(a,We(e,134217728|r,ve(e,r,8404992,235),t.SyntaxKind.IsPropertyOrCall,o),l,o,e.curPos)}function Du(e,r){return Vt(e,r),e.token!==t.SyntaxKind.LeftParen}function Er(e,r,a,o,l,p,d){let c=0,f=!1,g={kind:1024,scope:{kind:2,scope:null,flags:0},flags:0};Q(e,64|r,t.SyntaxKind.LeftParen);let S=e.curPos;if(ue(e,r,t.SyntaxKind.RightParen)){let I=!1;return 2&r&&e.token===t.SyntaxKind.Colon&&(I=!(4194304&r)||Ba(e,r,1)),e.token===t.SyntaxKind.Arrow||I?(p&t.NodeFlags.NewLine&&e.onError(2,C.Error,v[84],e.curPos,e.pos),gt(e,r,g,o,Ie(e,r),Ia([],!1,p|t.NodeFlags.ExpressionNode,S,S),x(t.SyntaxKind.AsyncKeyword,t.NodeFlags.NoChildren,d,a.end),t.NodeFlags.Async,d)):jr(a,Hr([],f,p|t.NodeFlags.ExpressionNode,d,d),p|t.NodeFlags.ExpressionNode,d,e.curPos)}let h,K=0,_=[];for(;279527424&e.token;){let I=e.curPos;if(8404992&e.token){qt(e,r,g,e.tokenValue,8);let F=e.nodeFlags;if(h=Pt(e,r,0),2&r&&e.token===t.SyntaxKind.QuestionMark){let H=ne(e,r,t.SyntaxKind.QuestionMark);e.token===t.SyntaxKind.RightParen||e.token===t.SyntaxKind.Colon||e.token===t.SyntaxKind.Comma?(c=1,h=Be(null,h,H,Ie(e,r),Qe(e,r,!1),F|t.NodeFlags.ExpressionNode,I,e.curPos)):(h=tr(h,H,we(e,8388736^(12583040|r)),Te(e,64|r,t.SyntaxKind.Colon),we(e,4194304^(4194304|r)),F|t.NodeFlags.ExpressionNode,I,e.curPos),c=0,e.assignable=!1)}else 2&r&&e.token===t.SyntaxKind.Colon?(c=1,h=Be(null,h,null,Ie(e,r),Qe(e,r,!1),F|t.NodeFlags.ExpressionNode,I,e.curPos)):(c=2,e.token===t.SyntaxKind.Comma||e.token===t.SyntaxKind.RightParen?e.assignable||(K|=2):(e.token===t.SyntaxKind.Assign?(e.diagnosticStartPos=I,p|=t.NodeFlags.NoneSimpleParamList):(c=0,K|=2),e.token&t.SyntaxKind.IsPropertyOrCall&&(c=0,h=We(e,r,h,t.SyntaxKind.IsPropertyOrCall,I)),e.token!==t.SyntaxKind.RightParen&&e.token!==t.SyntaxKind.Comma&&(h=He(e,r,F|t.NodeFlags.ExpressionNode,h,I))))}else if(e.token&t.SyntaxKind.IsPatternStart)if(h=e.token===t.SyntaxKind.LeftBracket?sr(e,r,null,32776):ir(e,r,null,32776),e.diagnosticStartPos=I,p|=t.NodeFlags.NoneSimpleParamList,2&r&&e.token===t.SyntaxKind.QuestionMark){let F=ne(e,r,t.SyntaxKind.QuestionMark);if(8404992&e.token){let H=mr(e,r,function(){let J=we(e,128^(4194432|r));return e.token===t.SyntaxKind.Colon?J:void 0},!1);H&&(h=tr(h,F,H,Te(e,64|r,t.SyntaxKind.Colon),we(e,4194304^(4194304|r)),t.NodeFlags.ExpressionNode,I,e.curPos),e.assignable=!1)}else c=1,h=Be(null,h,F,Ie(e,r),Qe(e,r,!1),t.NodeFlags.ExpressionNode,I,e.curPos)}else 2&r&&e.token===t.SyntaxKind.Colon?(c=1,h=Be(null,h,null,Ie(e,r),Qe(e,r,!1),t.NodeFlags.ExpressionNode,I,e.curPos)):(c=2,K=e.destructible,e.token!==t.SyntaxKind.Comma&&e.token!==t.SyntaxKind.RightParen&&(1&K&&e.onError(2,C.Error,v[24],e.curPos,e.pos),e.token&t.SyntaxKind.IsPropertyOrCall&&(c=0,h=We(e,r,h,t.SyntaxKind.IsPropertyOrCall,I)),K|=2,e.token&t.SyntaxKind.IsAssignOp?h=He(e,r,t.NodeFlags.ExpressionNode,h,I):e.token&t.SyntaxKind.IsBinaryOp?(h=nr(e,r,h,4,e.token,I),e.token===t.SyntaxKind.QuestionMark&&(h=Da(e,r,h,I))):e.token===t.SyntaxKind.QuestionMark?h=Da(e,r,h,I):K|=e.assignable?4:2));else{if(e.token!==t.SyntaxKind.Ellipsis){c=0,K|=2;let F=!1;for(;11255808&e.token&&(_.push(kc(e,r)),e.token!==t.SyntaxKind.RightParen);)if(Q(e,64|r,t.SyntaxKind.Comma,4),e.token===t.SyntaxKind.RightParen){F=!0;break}let H=Hr(_,F,p|t.NodeFlags.ExpressionNode,d,e.curPos);return Q(e,r,t.SyntaxKind.RightParen,165),e.assignable=!1,jr(a,H,p|t.NodeFlags.ExpressionNode,d,e.curPos)}{c=2;let F=Te(e,64|r,t.SyntaxKind.Ellipsis);if(e.diagnosticStartPos=I,p|=t.NodeFlags.NoneSimpleParamList,8404992&e.token)if(h=Pt(e,r,0),2&r&&e.token===t.SyntaxKind.QuestionMark){let H=ne(e,r,t.SyntaxKind.QuestionMark);if(e.token&(t.SyntaxKind.IsFutureReserved|t.SyntaxKind.IsIdentifier|t.SyntaxKind.IsStartOfType)){let J=mr(e,r,function(){let X=we(e,128^(4194432|r));return e.token===t.SyntaxKind.Colon?X:void 0},!1);J&&(h=tr(h,H,J,Te(e,64|r,t.SyntaxKind.Colon),we(e,4194304^(4194304|r)),t.NodeFlags.ExpressionNode,I,e.curPos),e.assignable=!1)}else c=1,h=Be(F,h,H,Ie(e,r),Qe(e,r,!1),t.NodeFlags.ExpressionNode,I,e.curPos)}else 2&r&&e.token===t.SyntaxKind.Colon?(c=1,h=Be(F,h,null,Ie(e,r),Qe(e,r,!1),t.NodeFlags.ExpressionNode,I,e.curPos)):e.token===t.SyntaxKind.RightParen?K|=e.assignable?8:2:e.token===t.SyntaxKind.Comma?K=2:(h=We(e,r,h,t.SyntaxKind.IsPropertyOrCall,I),K=0,e.token&(t.SyntaxKind.IsAssignOp|t.SyntaxKind.IsBinaryOp)?(K|=2,h=He(e,r,t.NodeFlags.ExpressionNode,h,I)):e.token===t.SyntaxKind.QuestionMark&&(h=Da(e,r,h,I)),K=e.assignable?4:2);else if(e.token&t.SyntaxKind.IsPatternStart)if(h=e.token===t.SyntaxKind.LeftBracket?sr(e,r,null,32776):ir(e,r,null,32776),e.diagnosticStartPos=I,p|=t.NodeFlags.NoneSimpleParamList,2&r&&e.token===t.SyntaxKind.QuestionMark){let H=ne(e,r,t.SyntaxKind.QuestionMark);e.token===t.SyntaxKind.RightParen||e.token===t.SyntaxKind.Colon||e.token===t.SyntaxKind.Comma?(c=1,h=Be(null,h,H,Ie(e,r),Qe(e,r,!1),t.NodeFlags.ExpressionNode,I,e.curPos)):(h=tr(h,H,we(e,8388736^(12583040|r)),Te(e,64|r,t.SyntaxKind.Colon),we(e,4194304^(4194304|r)),t.NodeFlags.ExpressionNode,I,e.curPos),c=0,e.assignable=!1)}else 2&r&&e.token===t.SyntaxKind.Colon?(c=1,h=Be(F,h,null,Ie(e,r),Qe(e,r,!1),t.NodeFlags.ExpressionNode,I,e.curPos)):e.token===t.SyntaxKind.LeftParen?K|=2:e.token===t.SyntaxKind.Comma?K=2:(1&e.destructible&&e.onError(2,C.Error,v[4],e.curPos,e.pos),h=He(e,r,t.NodeFlags.ExpressionNode,We(e,r,h,t.SyntaxKind.IsPropertyOrCall,I),I),K=e.assignable?4:2);else h=vt(e,r,0),e.token&t.SyntaxKind.IsExpressionStart?(h=He(e,r,t.NodeFlags.ExpressionNode,h,I),e.destructible|=2):e.token===t.SyntaxKind.Comma?e.destructible=2:e.token===t.SyntaxKind.RightBrace||(h=He(e,r,t.NodeFlags.ExpressionNode,h,I),K=e.assignable?4:2);h.kind!==t.SyntaxKind.BindingElement&&(h=va(F,h,I,e.curPos)),K|=e.token===t.SyntaxKind.RightParen?0:2}}if(_.push(h),ue(e,64|r,t.SyntaxKind.Comma)){if(e.token===t.SyntaxKind.RightParen){f=!0;break}}else if(e.token===t.SyntaxKind.RightParen)break}if(Q(e,r,t.SyntaxKind.RightParen),2&K)return e.assignable=!1,jr(a,Hr(_,f,p|t.NodeFlags.ExpressionNode,d,d),p|t.NodeFlags.ExpressionNode,d,e.curPos);if(c){let I=!1;if(2&r&&e.token===t.SyntaxKind.Colon&&(I=!(4194304&r)||Ba(e,r,d)),e.token===t.SyntaxKind.Arrow||I){p&t.NodeFlags.NewLine&&e.onError(2,C.Error,v[84],e.curPos,e.pos),3&l&&A(e,d,144,";"),6&K&&e.onError(2,C.Error,v[31],d,e.pos);let F=[];for(let H=0;H<_.length;++H)F.push(Jt(e,_[H]));return gt(e,r,g,o,Ie(e,r),Ia(F,!1,p|t.NodeFlags.ExpressionNode,S,e.curPos),x(t.SyntaxKind.AsyncKeyword,t.NodeFlags.NoChildren,d,a.end),p|t.NodeFlags.Async,d)}}return(1&K||c===1)&&e.onError(2,C.Error,v[c===1?196:24],e.curPos,e.pos),e.assignable=!1,jr(a,Hr(_,f,p|t.NodeFlags.ExpressionNode,d,d),p|t.NodeFlags.ExpressionNode,d,e.curPos)}function tl(e,r,a,o,l,p){let d=e.curPos,c=Te(e,r,t.SyntaxKind.OpaqueKeyword);if(e.token===t.SyntaxKind.TypeKeyword)return mc(a,c,ne(e,r,t.SyntaxKind.TypeKeyword),ve(e,r,12599296,3),Vt(e,r),ue(e,r,t.SyntaxKind.Colon)?Fe(e,r):null,!a&&Q(e,r,t.SyntaxKind.Assign)?Fe(e,r):null,d,e.curPos);let f=Rt("opaque","opaque",t.NodeFlags.ExpressionNode|t.NodeFlags.NoChildren,c.start,c.end);return e.assignable=!0,e.token===t.SyntaxKind.Colon?la(e,r,f,t.SyntaxKind.OpaqueKeyword,t.NodeFlags.IsStatement,!0,o,l,p,d):(e.token===t.SyntaxKind.Arrow&&(f=gt(e,r,o,null,null,f,null,t.NodeFlags.None,d)),bt(e,r,Gt(e,r,f,d),d))}function b(e){return{kind:3,parts:e,flags:0}}function he(e){return{kind:4,contents:e,flags:0}}function ie(e,r){return{kind:5,contents:e,break:!!(r=r||{}).shouldBreak,expandedStates:r.expandedStates,flags:0}}function Bt(e){return{kind:1,contents:e,flags:0}}let ze={kind:2,flags:0},le={kind:2,flags:2},Le={kind:2,flags:4};function Bc(e,r,a){let o=r.length,l=[e];for(;a>=0;){if(l.length===0){if(o===0)return!0;l.push(r[o-1]),o--;continue}let[p,d,c]=l.pop();if(typeof c=="string")a-=c.length;else switch(c.kind){case 3:for(let f=c.parts.length-1;f>=0;f--)l.push([p,d,c.parts[f]]);break;case 4:l.push([p+1,d,c.contents]);break;case 5:l.push([p,c.break?1:d,c.contents]);break;case 1:d===1&&l.push([p,d,c.contents]);break;case 2:switch(d){case 2:if(!(4&c.flags)){2&c.flags||(a-=1);break}case 1:return!0}}}return!1}function rl(e,r,a){return(e.kind===t.SyntaxKind.Identifier||e.kind===t.SyntaxKind.StringLiteral||e.kind===t.SyntaxKind.ComputedPropertyName||e.kind===t.SyntaxKind.NumericLiteral||e.kind===t.SyntaxKind.BigIntLiteral||e.kind===t.SyntaxKind.IndexedAccessType||e.kind===t.SyntaxKind.MemberAccessExpression)&&(r.kind===t.SyntaxKind.StringLiteral||r.kind===t.SyntaxKind.OptionalExpression)||r.kind===t.SyntaxKind.ClassExpression&&r.decorators&&r.decorators.node.elements.length||r.kind===t.SyntaxKind.ConditionalExpression&&r.kind===t.SyntaxKind.BinaryExpression&&(!(r.right.transformFlags&n.ArrayOrObjectLiteral)||r.right.kind===t.SyntaxKind.ArrayLiteral&&r.right.elementList.elements.length>0||r.right.kind===t.SyntaxKind.ObjectLiteral&&r.right.propertyList.properties.length>0)||r.kind===t.SyntaxKind.CommaOperator||r.kind===t.SyntaxKind.ParenthesizedExpression||e.kind===t.SyntaxKind.StringLiteral?ie(he(b([ze,a])),{}):b([" ",a])}function je(e,r){if(r)return u(r.kind)}function z(e,r,a,o){if(r){let l=[];return r.start!==-1&&a.start!==r.start&&l.push(nt(e,r.start)),l.push(o?b([u(r.kind)," "]):u(r.kind)),a.end!==r.end&&l.push(Pe(e,r.end)),b(l)}return""}function oe(e,r,a,o){let l=a,p=[];return a=Se(r.source,a),l!==-1&&o.start!==a&&p.push(nt(r,l)),p.push(e),o.end!==a+1&&p.push(Pe(r,a+1)),b(p)}function Hu(e){let{operand:r,operandToken:a}=e;return a.kind===t.SyntaxKind.VoidKeyword||a.kind===t.SyntaxKind.DeleteKeyword||a.kind===t.SyntaxKind.InKeyword||a.kind===t.SyntaxKind.TypeofKeyword||(r.kind===t.SyntaxKind.PrefixUpdateExpression||r.kind===t.SyntaxKind.UnaryExpression)&&(a.kind===t.SyntaxKind.Add&&(r.operandToken.kind===t.SyntaxKind.Add||r.operandToken.kind===t.SyntaxKind.Increment)||a.kind===t.SyntaxKind.Subtract&&(r.operandToken.kind===t.SyntaxKind.Subtract||r.operandToken.kind===t.SyntaxKind.Decrement))}function jc(e,r){let a=r==='"'?"'":'"',o=e.replace(/\\([\S\s])|(["'])/g,(l,p,d)=>p===a?p:d===r?"\\"+d:d||(/^[^\n\r"'0-7\\bfnrt-vx\u2028\u2029]$/.test(p)?p:"\\"+p));return r+o+r}function Uc(e){if(!e.left.operatorToken)return!1;let r=e.operatorToken.kind,a=e.left.operatorToken.kind,o=e.operatorToken.transformFlags,l=e.left.operatorToken.transformFlags;return!(r&t.SyntaxKind.Precedence^a&t.SyntaxKind.Precedence)&&r!==t.SyntaxKind.Exponentiate&&!(l===t.SyntaxKind.Modulo&&o&n.MultiplicativeOperators||o===t.SyntaxKind.Modulo&&l&n.MultiplicativeOperators)&&!(a!==r&&o&n.MultiplicativeOperators&&l&n.MultiplicativeOperators)&&!(o&(n.BitshiftOperators|n.EqualityOperators)&&l&(n.BitshiftOperators|n.EqualityOperators))}function pt(e){return 8&~e.flags&&128&e.flags?"":";"}function al(e){return e.length===0?void 0:e[e.length-1]}function nt(e,r){let a=function(o,l){return o.containerPos===-1||l!==o.containerPos?function(p,d){return p.detachedCommentsInfo!==void 0&&p.detachedCommentsInfo.nodePos===d}(o,l)?function(p){let d=al(p.detachedCommentsInfo).detachedCommentEndPos,c=ro(p.source,d,p.consumedCommentRanges);return p.detachedCommentsInfo.length-1?p.detachedCommentsInfo.pop():p.detachedCommentsInfo=void 0,c}(o):ro(o.source,l,o.consumedCommentRanges):""}(e,r);return _i(e,a,!1,!0)}function _i(e,r,a,o){if(r&&r.length>0){let l=[];a&&l.push(" ");let p=!1;for(let d of r)p&&(l.push(" "),p=!1),l.push(e,e.source.substring(d.pos,d.end)),d.kind===t.SyntaxKind.MultiLineComment?d.hasTrailingNewLine?l.push(b([ze])):p=!0:l.push(Le);return p&&o&&l.push(" "),b(l)}return""}function Mc(e,r){return e.containerEnd===-1||r!==e.containerEnd&&r!==e.declarationListContainerEnd?si(e.source,r,!0,a):"";var a}function Pe(e,r){return _i(e,Mc(e,r),!1,!0)}function Bu(e,r,a,o,l){if(r){let{start:p,end:d}=r;if(p<0&&d<0||p===d)return l(e,r,a,o);let c=p<0,f=d<0,g=[];c||g.push(nt(e,p));let S=e.containerPos,h=e.containerEnd,K=e.declarationListContainerEnd;return c||(e.containerPos=p),f||(e.containerEnd=d,r.kind===t.SyntaxKind.VariableDeclarationList&&(e.declarationListContainerEnd=d)),g.push(l(e,r,a,o)),e.containerPos=S,e.containerEnd=h,e.declarationListContainerEnd=K,f||g.push(function(_,I){return _i(_,Mc(_,I),!0,!1)}(e,d)),b(g)}}function zc(e,r,a,o,l){let{pos:p,end:d}=r,c=d<0,f=[];return p<0||f.push(function(g,S){let h,K;if(h=ro(g.source,S.start),h){let _=[];for(let I of h)_.push(I);_.length&&(h=_i(g,_,!1,!0),K={nodePos:S.start,detachedCommentEndPos:al(_).end})}return K?(g.detachedCommentsInfo?g.detachedCommentsInfo.push(K):g.detachedCommentsInfo=[K],h):""}(e,r)),f.push(l(e,r,a,o)),c||f.push(nt(e,r.end)),b(f)}let ju={[t.SyntaxKind.ExpressionStatement]:function(e,r,a,o){return b([T(e,r.expression,a,o),pt(e)])},[t.SyntaxKind.EmptyStatement]:function(){return""},[t.SyntaxKind.Identifier]:function(e,r){return r.rawText},[t.SyntaxKind.PrivateIdentifier]:function(e,r){return r.rawText},[t.SyntaxKind.StringLiteral]:function(e,r){return jc(r.rawText,1&e.flags?"'":'"')},[t.SyntaxKind.BinaryExpression]:function(e,r,a,o){let l=o.kind,p=qc(e,r,a,o,l===t.SyntaxKind.ParenthesizedExpression);return l===t.SyntaxKind.UnaryExpression?ie(b([he(b([le,b(p)])),le]),{}):l===t.SyntaxKind.ParenthesizedExpression?b(p):l===t.SyntaxKind.UnaryExpression||o.transformFlags&(t.SyntaxKind.IndexExpression|t.SyntaxKind.CallExpression)||l===t.SyntaxKind.OptionalExpression?ie(b([he(b([le,b(p)])),le]),{}):r.kind===t.SyntaxKind.BinaryExpression&&r.right.transformFlags&(n.ShouldNotIndent|n.ArrayOrObjectLiteral)||l===t.SyntaxKind.ForStatement&&r!==o.statement||l===t.SyntaxKind.ArrowFunction&&r===o.contents||r.transformFlags&n.ArrayOrObjectLiteral&&r.left.kind!==t.SyntaxKind.BinaryExpression&&!Uc(r)||!(r.transformFlags&n.ArrayOrObjectLiteral)&&o.transformFlags&n.ShouldIndentIfInlining?ie(b(p),{}):ie(b([p.length>0?p[0]:"''",he(b(p.slice(1)))]),{shouldBreak:!1})},[t.SyntaxKind.ConditionalExpression]:function(e,r,a,o){let l=b([T(e,r.shortCircuit,a,r),he(b([ze,je(0,r.questionToken),e.space,r.consequent.kind===t.SyntaxKind.ConditionalExpression?T(e,r.consequent,a,r):he(T(e,r.consequent,a,r)),ze,je(0,r.colonToken),e.space,r.alternate.kind===t.SyntaxKind.ConditionalExpression?T(e,r.alternate,a,r):he(T(e,r.alternate,a,r))]))]);return o.kind===t.SyntaxKind.ConditionalExpression?l:ie(l,{})},[t.SyntaxKind.AssignmentExpression]:function(e,r,a){let{operatorToken:o,left:l,right:p}=r;return ie(b([T(e,l,a,r),e.space,z(e,o,r,!1),rl(l,p,T(e,p,a,r))]),{shouldBreak:!1})},[t.SyntaxKind.IndexExpression]:function(e,r,a){return ie(b([T(e,r.member,a,r),r.flags&t.NodeFlags.FloatingPointLiteral&&e.source.indexOf(".")?".":"",oe(".",e,r.member.end,r),T(e,r.expression,a,r)]),{shouldBreak:!1})},[t.SyntaxKind.MemberAccessExpression]:function(e,r,a){let o=32768&e.flags?e.space:le;return r.member===t.SyntaxKind.NumericLiteral||r.member===t.SyntaxKind.BigIntLiteral?b([T(e,r.member,a,r),oe("[",e,r.member.end,r),he(b([o,T(e,r.expression,a,r)])),o,oe("]",e,r.expression.end,r)]):ie(b([T(e,r.member,a,r),oe("[",e,r.member.end,r),he(b([o,T(e,r.expression,a,r)])),o,oe("]",e,r.expression.end,r)]),{shouldBreak:!1})},[t.SyntaxKind.PrefixUpdateExpression]:function(e,r,a){return b([z(e,r.operandToken,r,!0),T(e,r.operand,a,r)])},[t.SyntaxKind.PostfixUpdateExpression]:function(e,r,a){return b([T(e,r.operand,a,r),z(e,r.operandToken,r,!1)])},[t.SyntaxKind.UnaryExpression]:function(e,r,a){return b([z(e,r.operandToken,r,!1),Hu(r)?" ":"",T(e,r.operand,a,r)])},[t.SyntaxKind.AwaitExpression]:function(e,r,a){return b([z(e,r.awaitKeyword,r,!0),T(e,r.expression,a,r)])},[t.SyntaxKind.ArrayLiteral]:function(e,r,a){return function(o,l,p,d){if(l.elements.length===0)return"[]";let c=l.elements,f=[],g,S,h=16384&o.flags?Le:le;for(let K=0;K<c.length;K++)S=c[K],g&&f.push(b([",",o.space,h])),f.push(Pe(o,S.start),T(o,S,p,d)),g=S;return ie(b(["[",he(b([4&o.flags?ze:24576&o.flags?Le:le,b([b(f)])])),l.trailingComma?",":"",Bt(l.trailingComma?",":""),4&o.flags?ze:24576&o.flags?Le:le,"]"]),{shouldBreak:!1})}(e,r.elementList,a,r)},[t.SyntaxKind.ArrayBindingPattern]:function(e,r,a){return function(o,l,p,d){if(l.elements.length===0)return b(["[",Pe(o,l.start),nt(o,l.end),"]"]);let c=l.elements,f=[],g,S;for(let h=0;h<c.length;h++)S=c[h],g&&f.push(b([",",o.space,le])),f.push(Pe(o,S.start),T(o,S,p,d)),g=S;return ie(b(["[",he(b([le,b([b(f)])])),l.trailingComma&&g&&!g.ellipsisToken?",":"",Bt(l.trailingComma&&g&&!g.ellipsisToken?",":""),le,"]"]),{shouldBreak:!1})}(e,r.elementList,a,r)},[t.SyntaxKind.BlockStatement]:function(e,r,a){return e.flags=128^(128|e.flags),Gc(e,r.block,a,r)},[t.SyntaxKind.BindingProperty]:function(e,r,a,o){return b([z(e,r.ellipsisToken,r,!1),2048&e.flags&&r.key.kind===t.SyntaxKind.Identifier?b([1&e.flags?"'":'"',T(e,r.key,a,r),1&e.flags?"'":'"']):4096&e.flags&&r.key.kind===t.SyntaxKind.StringLiteral?r.key.text:T(e,r.key,a,r),oe(":",e,r.key.end,r),e.space,T(e,r.value,a,o),r.initializer?b([e.space,"=",e.space,T(e,r.initializer,a,r)]):""])},[t.SyntaxKind.UnionType]:function(e,r,a,o){let l=[],p;for(let d=0;d<r.types.length;d++)p=r.types[d],d===0?l.push(T(e,p,a,o)):r.types[d-1].kind!==t.SyntaxKind.ObjectType&&r.types[d].kind!==t.SyntaxKind.ObjectType?l.push(he(b([" |",ze,T(e,p,a,o)]))):l.push(" | ",d>1?he(T(e,p,a,o)):T(e,p,a,o));return ie(b([o.kind===t.SyntaxKind.TypeAnnotation&&o.bitwiseOrToken?b(["|",e.space]):"",b(l)]),{})},[t.SyntaxKind.ArrowTypeParameterList]:function(e,r,a,o){let l=r.parameters,p=[],d,c,f=r.flags&t.NodeFlags.NewLine?Le:le;for(let g=0;g<l.length;g++)c=l[g],d&&p.push(b([",",e.space,f])),p.push(Pe(e,c.start),T(e,c,a,o)),d=c;return b(p)},[t.SyntaxKind.FunctionStatementList]:function(e,r,a,o){return r.statements.length===0?b(["{",Pe(e,r.start),nt(e,r.end),"}"]):b(["{",he(b([Le,zc(e,r,a,o,qu)])),Le,nt(e,r.end),"}"])},[t.SyntaxKind.TypeofType]:function(e,r,a){return b([z(e,r.typeOfKeyword,r,!0),T(e,r.type,a,r)])},[t.SyntaxKind.TypeReference]:function(e,r,a){return b([T(e,r.typeName,a,r),r.typeParameters?T(e,r.typeParameters,a,r):""])},[t.SyntaxKind.TypeParameter]:function(e,r,a){return r?b([T(e,r.name,a,r),r.type?b([":",e.space,zu(e,r.type,a,r)]):"",r.assignToken?b([z(e,r.assignToken,r,!0),T(e,r.defaultType,a,r)]):""]):""},[t.SyntaxKind.TypeParameterInstantiation]:function(e,r,a,o){if(r.types.length===0)return b(["<",Pe(e,r.start),nt(e,r.end),">"]);let l=[],p=r.types,d,c;for(let f=0;f<p.length;f++)c=p[f],d&&l.push(b([",",e.space,le])),l.push(Pe(e,c.start),T(e,c,a,o)),d=c;return ie(b(["<",he(b([le,b(l)])),Bt(r.trailingComma?",":""),le,">"]),{shouldBreak:!1})},[t.SyntaxKind.SubtractionType]:function(e,r,a,o){return b([z(e,r.subtractionToken,r,!1),Ja(e,r)])},[t.SyntaxKind.RestType]:function(e,r,a,o){return b([z(e,r.ellipsisToken,r,!1),T(e,r.type,a,r)])},[t.SyntaxKind.QualifiedType]:function(e,r,a,o){return b([T(e,r.qualification,a,r),oe(".",e,r.qualification.end,r),T(e,r.name,a,r)])},[t.SyntaxKind.ParenthesizedType]:function(e,r,a,o){return b([oe("(",e,r.start,r),T(e,r.type,a,r),oe(")",e,r.type.end,r)])},[t.SyntaxKind.ParenthesizedExpression]:function(e,r,a){return ie(b([oe("(",e,r.start,r),he(b([le,T(e,r.expression,a,r)])),le,oe(")",e,r.expression.end,r)]),{shouldBreak:!1})},[t.SyntaxKind.OptionalType]:function(e,r,a,o){return b([T(e,r.type,a,r),z(e,r.optionalToken,r,!0)])},[t.SyntaxKind.OptionalIndexedAccess]:function(e,r,a){return b([T(e,r.objectType,a,r),z(e,r.optionalIndexedToken,r,!0),oe("[",e,r.optionalIndexedToken.end,r),T(e,r.indexType,a,r),oe("]",e,r.indexType.end,r)])},[t.SyntaxKind.OpaqueType]:function(e,r,a){return r.declareToken?b([z(e,r.declareToken,r,!0),z(e,r.opaqueToken,r,!0)]):b([z(e,r.opaqueToken,r,!0),z(e,r.typeToken,r,!0),T(e,r.name,a,r),r.typeParameters?T(e,r.typeParameters,a,r):"",r.superType?b([":",e.space,T(e,r.superType,a,r)]):"",e.space,oe("=",e,r.superType?r.superType.end:r.name.end,r),e.space,T(e,r.impltype,a,r),pt(e)])},[t.SyntaxKind.TypeSpreadProperty]:function(e,r,a,o){return b([z(e,r.protoKeyword,r,!0),z(e,r.static,r,!0),z(e,r.ellipsisToken,r,!1),T(e,r.type,a,r)])},[t.SyntaxKind.ArrowFunctionType]:function(e,r,a,o){return b([r.typeParameters?T(e,r.typeParameters,a,r):"","(",T(e,r.arrowTypeParameterList,a,r),oe(")",e,r.arrowTypeParameterList.end,r),e.space,z(e,r.arrowToken,r,!1),e.space,T(e,r.returnType,a,r)])},[t.SyntaxKind.ArrowTypeParameter]:function(e,r,a,o){return b([z(e,r.ellipsisToken,r,!1),r.name?T(e,r.name,a,r):"",z(e,r.optionalToken,r,!1),r.types?b([r.name?b([oe(":",e,r.name?r.name.end:r.optionalToken?r.optionalToken.end:r.start,r),e.space]):"",T(e,r.types,a,r)]):""])},[t.SyntaxKind.BigIntType]:function(e,r,a,o){return Ja(e,r)},[t.SyntaxKind.FunctionTypeParameterList]:function(e,r,a,o){let l=r.parameters,p=[],d,c,f=r.flags&t.NodeFlags.NewLine?Le:le;for(let g=0;g<l.length;g++)c=l[g],d&&p.push(b([",",e.space,f])),p.push(Pe(e,c.start),T(e,c,a,o)),d=c;return b(p)},[t.SyntaxKind.FunctionTypeParameter]:function(e,r,a,o){return b([z(e,r.ellipsisToken,r,!1),r.name?T(e,r.name,a,r):"",z(e,r.optionalToken,r,!0),r.types?b([r.name?b([":",e.space]):"",T(e,r.types,a,r)]):""])},[t.SyntaxKind.FunctionType]:function(e,r,a,o){return b([r.typeParameters?b([T(e,r.typeParameters,a,r),e.space]):"","(",T(e,r.functionTypeParameterList,a,r),oe(")",e,r.functionTypeParameterList.end,r),r.returnType?b([":",e.space,T(e,r.returnType,a,r)]):""])},[t.SyntaxKind.IndexedAccessType]:function(e,r,a,o){return b([T(e,r.objectType,a,r),oe("[",e,r.objectType.end,r),T(e,r.indexType,a,r),oe("]",e,r.indexType.end,r)])},[t.SyntaxKind.IntersectionType]:function(e,r,a,o){let l=[],p;for(let d=0;d<r.types.length;d++)p=r.types[d],d===0?l.push(T(e,p,a,o)):r.types[d-1].kind!==t.SyntaxKind.ObjectType&&r.types[d].kind!==t.SyntaxKind.ObjectType?l.push(he(b([" &",ze,T(e,p,a,o)]))):l.push(" & ",d>1?he(T(e,p,a,o)):T(e,p,a,o));return ie(b([o.kind===t.SyntaxKind.TypeAnnotation&&o.bitwiseAndToken?b(["&",e.space]):"",b(l)]),{})},[t.SyntaxKind.NullableType]:function(e,r,a){return b([z(e,r.nullableToken,r,!0),T(e,r.type,a,r)])},[t.SyntaxKind.CallSignature]:function(e,r,a){return b([z(e,r.protoKeyword,r,!0),z(e,r.staticKeyword,r,!0),r.typeParameter?T(e,r.typeParameter,a,r):"","(",T(e,r.value,a,r),oe(")",e,r.value.end,r),r.returnType?b([oe(":",e,r.value.end,r),e.space,T(e,r.returnType,a,r)]):""])},[t.SyntaxKind.IndexSignatureDeclaration]:function(e,r,a){return b([z(e,r.protoKeyword,r,!0),z(e,r.staticKeyword,r,!0),"[",r.key?T(e,r.key,a,r):"",r.value?T(e,r.value,a,r):"",oe("]",e,r.value?r.value.end:r.end,r),r.type.kind===t.SyntaxKind.FunctionType?T(e,r.type,a,r):b([oe(":",e,r.type.end,r),e.space,T(e,r.type,a,r)])])},[t.SyntaxKind.InternalSlot]:function(e,r,a){return b([z(e,r.protoKeyword,r,!0),z(e,r.staticKeyword,r,!0),oe("[",e,r.proto?r.proto.end:r.staticKeyword?r.staticKeyword.end:r.start,r),"[",T(e,r.name,a,r),"]",oe("]",e,r.name.end,r),z(e,r.optionalToken,r,!0),r.type.kind===t.SyntaxKind.FunctionType?"":b([":",e.space]),T(e,r.type,a,r)])},[t.SyntaxKind.TypeProperty]:function(e,r,a){return b([z(e,r.protoKeyword,r,!0),z(e,r.staticKeyword,r,!0),T(e,r.key,a,r),z(e,r.optionalToken,r,!0),r.type.kind===t.SyntaxKind.FunctionType?T(e,r.type,a,r):b([oe(oe(":",e,r.optionalToken?r.optionalToken.end:r.key.end,r),e,r.type.end,r),e.space,T(e,r.type,a,r)])])},[t.SyntaxKind.ArrayType]:function(e,r,a){return b([T(e,r.type,a,r),"[","]"])},[t.SyntaxKind.TypeAnnotation]:function(e,r,a){return r.type.kind!==t.SyntaxKind.UnionType&&r.type.kind!==t.SyntaxKind.IntersectionType?b([z(e,r.bitwiseAndToken,r,!0),z(e,r.bitwiseOrToken,r,!0),T(e,r.type,a,r)]):T(e,r.type,a,r)},[t.SyntaxKind.Block]:Gc,[t.SyntaxKind.TypeAlias]:function(e,r,a){return b([z(e,r.declareToken,r,!0),z(e,r.typeToken,r,!0),T(e,r.name,a,r),r.typeParameters?T(e,r.typeParameters,a,r):"",e.space,z(e,r.assignToken,r,!1),e.space,ie(T(e,r.type,a,r),{})])},[t.SyntaxKind.CommaOperator]:function(e,r,a,o){if(o.kind===t.SyntaxKind.ExpressionStatement||o.kind===t.SyntaxKind.ForStatement||o.kind===t.SyntaxKind.CommaOperator)return ie(b(r.expressions.map((f,g)=>g===0?T(e,f,a,r):b([",",he(b([ze,T(e,f,a,r)]))]))),{shouldBreak:!1});let l=r.expressions,p=[],d,c;for(let f=0;f<l.length;f++)c=l[f],d&&p.push(b([",",e.space,le])),p.push(Pe(e,c.start),T(e,c,a,o)),d=c;return ie(b(p),{})},[t.SyntaxKind.CallChain]:function(e,r,a,o){return ie(b([r.chain?T(e,r.chain,a,r):"",r.typeArguments?T(e,r.typeArguments,a,r):"",ol(e,r.argumentList,a,r)]),{shouldBreak:!1})},[t.SyntaxKind.CallExpression]:function(e,r,a,o){return e.flags&=-513,ie(b([T(e,r.expression,a,r),ol(e,r.argumentList,a,r)]),{shouldBreak:!1})},[t.SyntaxKind.ObjectLiteral]:function(e,r,a,o){return function(l,p,d,c){let f=p.properties;if(f.length===0)return b(["{",Pe(l,p.start),nt(l,p.end),"}"]);let g=[],S,h;for(let K=0;K<f.length;K++)h=f[K],S&&g.push(b([",",l.space,le])),g.push(Pe(l,h.start),T(l,h,d,c)),S=h;return ie(b(["{",he(b([2&l.flags?ze:le,b(g)])),Bt(p.trailingComma?",":""),2&l.flags?ze:le,"}"]),{shouldBreak:!!(p.flags&t.NodeFlags.NewLine)})}(e,r.propertyList,a,o)},[t.SyntaxKind.WhileStatement]:function(e,r,a){return ie(b([z(e,r.whileKeyword,r,!0),oe("(",e,r.whileKeyword.end,r),ie(b([he(b([le,T(e,r.expression,a,r)])),le]),{shouldBreak:!1}),oe(")",e,r.expression.end,r),xr(r.statement,e,T(e,r.statement,a,r))]),{shouldBreak:!1})},[t.SyntaxKind.IfStatement]:function(e,r,a){let o=[ie(b([je(0,r.ifKeyword),e.space,oe("(",e,r.ifKeyword.end,r),ie(b([he(b([le,T(e,r.expression,a,r)])),le]),{shouldBreak:!1}),oe(")",e,r.expression.end,r),xr(r.consequent,e,T(e,r.consequent,a,r))]),{shouldBreak:!1})];return r.alternate&&o.push(r.consequent.kind===t.SyntaxKind.Block?e.space:Le,z(e,r.elseKeyword,r,!0),ie(xr(r.alternate,e,T(e,r.alternate,a,r),r.alternate.kind===t.SyntaxKind.IfStatement),{shouldBreak:!1})),b(o)},[t.SyntaxKind.ReturnStatement]:function(e,r,a){return b([z(e,r.returnKeyword,r,!!r.expression),r.expression?T(e,r.expression,a,r):"",pt(e)])},[t.SyntaxKind.DoWhileStatement]:function(e,r,a){return b([ie(b([je(0,r.doKeyword),e.space,xr(r.statement,e,T(e,r.statement,a,r))]),{shouldBreak:!1}),r.statement.kind===t.SyntaxKind.Block?e.space:Le,je(0,r.whileKeyword),e.space,oe("(",e,r.whileKeyword.end,r),ie(b([he(b([le,T(e,r.expression,a,r)])),le]),{shouldBreak:!1}),oe(")",e,r.expression.end,r),pt(e)])},[t.SyntaxKind.ForInStatement]:function(e,r,a){return ie(b([je(0,r.forKeyword),e.space,oe("(",e,r.forKeyword.end,r),ll(e,r.initializer,a,r)," ",z(e,r.inKeyword,r,!0),T(e,r.expression,a,r),oe(")",e,r.expression.end,r),xr(r.statement,e,T(e,r.statement,a,r))]),{shouldBreak:!1})},[t.SyntaxKind.ForOfStatement]:function(e,r,a){return ie(b([z(e,r.forKeyword,r,!!r.awaitKeyword),z(e,r.awaitKeyword,r,!1),e.space,oe("(",e,r.awaitKeyword?r.awaitKeyword.end:r.forKeyword.end,r),ll(e,r.initializer,a,r)," ",z(e,r.ofKeyword,r,!1),1024&e.flags&&r.expression.transformFlags&n.ArrayOrObjectLiteral?"":" ",T(e,r.expression,a,r),oe(")",e,r.expression.end,r),xr(r.statement,e,T(e,r.statement,a,r))]),{shouldBreak:!1})},[t.SyntaxKind.ForStatement]:function(e,r,a){return r.initializer||r.condition||r.incrementor?ie(b([je(0,r.forKeyword),e.space,oe("(",e,r.forKeyword.end,r),ie(b([he(b([le,r.initializer?ll(e,r.initializer,a,r):"",";",ze,r.condition?T(e,r.condition,a,r):"",";",ze,r.incrementor?T(e,r.incrementor,a,r):""])),le]),{shouldBreak:!1}),")",xr(r.statement,e,T(e,r.statement,a,r))]),{shouldBreak:!1}):b(["for",e.space,"(;;)",xr(r.statement,e,T(e,r.statement,a,r))])},[t.SyntaxKind.LexicalBinding]:ep,[t.SyntaxKind.VariableDeclaration]:ep,[t.SyntaxKind.FunctionDeclaration]:Jc,[t.SyntaxKind.FunctionExpression]:Jc,[t.SyntaxKind.ClassDeclaration]:Qc,[t.SyntaxKind.ClassExpression]:Qc,[t.SyntaxKind.BindingElement]:function(e,r,a,o){return b([z(e,r.ellipsisToken,r,!1),T(e,r.left,a,r),z(e,r.optionalToken,r,!0),r.type?b([oe(":",e,r.left.end,r),e.space,T(e,r.type,a,r)]):"",r.right?Gu(e,r.right,a,o):""])},[t.SyntaxKind.VariableStatement]:function(e,r,a){let o=$c(e,r.declarationList,a,r),l=r.declarationList.declarations.some(d=>d.init),p;return o.length===1?p=o[0]:o.length>1&&(p=he(o[0])),ie(b([z(e,r.declareKeyword,r,!0),"var",p?b([" ",p]):"",he(b(o.slice(1).map(d=>b([",",l?Le:ze,d])))),pt(e)]),{shouldBreak:!1})},[t.SyntaxKind.LexicalDeclaration]:Zc,[t.SyntaxKind.CaseClause]:function(e,r,a,o){let{statements:l}=r;return b([z(e,r.caseKeyword,r,!0),T(e,r.expression,a,r),z(e,r.colonToken,r,!1),e.space,l.length===1&&l[0].kind===t.SyntaxKind.Block?T(e,l[0],a,r):he(b([Le,np(e,l,a,o)]))])},[t.SyntaxKind.DefaultClause]:function(e,r,a,o){let{statements:l}=r;return b([z(e,r.defaultKeyword,r,!1),z(e,r.colonToken,r,!0),l.length===1&&l[0].kind===t.SyntaxKind.Block?T(e,l[0],a,r):he(b([Le,np(e,l,a,o)]))])},[t.SyntaxKind.ContinueStatement]:function(e,r,a){return b([z(e,r.continueKeyword,r,!1),r.label?b([e.space,T(e,r.label,a,r)]):"",pt(e)])},[t.SyntaxKind.ClassHeritage]:function(e,r,a){return b([z(e,r.extendsKeyword,r,!0),T(e,r.expression,a,r),r.typeParameter?T(e,r.typeParameter,a,r):"",e.space])},[t.SyntaxKind.BreakStatement]:function(e,r,a){return b([z(e,r.breakKeyword,r,!1),r.label?b([e.space,T(e,r.label,a,r)]):"",pt(e)])},[t.SyntaxKind.SwitchStatement]:function(e,r,a){return b([ie(b([z(e,r.switchKeyword,r,!0),oe("(",e,r.switchKeyword.end,r),ie(b([he(b([le,T(e,r.expression,a,r)])),le]),{shouldBreak:!1}),oe(")",e,r.expression.end,r),e.space]),{shouldBreak:!1}),Qu(e,r.caseBlock,a,r)])},[t.SyntaxKind.TryStatement]:function(e,r,a,o){return e.flags=128^(128|e.flags),b([z(e,r.tryKeyword,r,!0),T(e,r.block,a,r),r.catchClause?b([" ",Wu(e,r.catchClause,a,o)]):"",r.finallyBlock?b([" ",z(e,r.finallyKeyword,r,!0),T(e,r.finallyBlock,a,r)]):""])},[t.SyntaxKind.ThrowStatement]:function(e,r,a){return b([z(e,r.throwKeyword,r,!0),r.expression?T(e,r.expression,a,r):"",pt(e)])},[t.SyntaxKind.LabelledStatement]:function(e,r,a,o){return b([T(e,r.label,a,r),z(e,r.colonToken,r,!0),r.statement.kind===t.SyntaxKind.EmptyStatement?pt(e):b([" ",T(e,r.statement,a,r)])])},[t.SyntaxKind.DebuggerStatement]:function(e,r){return b([z(e,r.debuggerKeyword,r,!1),pt(e)])},[t.SyntaxKind.WithStatement]:function(e,r,a){return ie(b([je(0,r.withKeyword),e.space,oe("(",e,r.withKeyword.end,r),ie(b([he(b([le,T(e,r.expression,a,r)])),le]),{shouldBreak:!1}),oe(")",e,r.expression.end,r),xr(r.statement,e,T(e,r.statement,a,r))]),{shouldBreak:!1})},[t.SyntaxKind.Decorator]:function(e,r,a,o){return b([z(e,r.decoratorToken,r,!!(256&e.flags)),T(e,r.expression,a,r)])},[t.SyntaxKind.ObjectType]:Yc,[t.SyntaxKind.NumericLiteral]:Ja,[t.SyntaxKind.BigIntLiteral]:Ja,[t.SyntaxKind.NumberType]:Ja,[t.SyntaxKind.StringType]:function(e,r,a){return jc(r.rawText,1&e.flags?"'":'"')},[t.SyntaxKind.TupleType]:function(e,r,a,o){if(r.elementTypes.length===0)return b(["[",Pe(e,r.start),nt(e,r.end),"]"]);let l=r.elementTypes,p=[],d,c;for(let f=0;f<l.length;f++)c=l[f],d&&p.push(b([",",e.space,le])),p.push(Pe(e,c.start),T(e,c,a,o)),d=c;return ie(b(["[",he(b([le,b(p)])),Bt(r.trailingComma&&d.kind!==t.SyntaxKind.RestType?",":""),le,"]"]),{shouldBreak:!1})},[t.SyntaxKind.TypeParameterDeclaration]:function(e,r,a,o){return T(e,r.declarations,a,o)},[t.SyntaxKind.ExportDeclaration]:function(e,r,a,o){return b([z(e,r.exportKeyword,r,!0),r.declaration?T(e,r.declaration,a,r):"",r.exportFromClause?T(e,r.exportFromClause,a,r):"",r.namedExports?T(e,r.namedExports,a,r):"",r.fromClause?T(e,r.fromClause,a,r):"",r.declaration||128&e.flags?"":pt(e)])},[t.SyntaxKind.ExportFromClause]:function(e,r,a,o){return r.asKeyword?b([z(e,r.asteriskToken,r,!0),z(e,r.asKeyword,r,!0),T(e,r.moduleExportName,a,r),T(e,r.namedBinding,a,r)]):z(e,r.asteriskToken,r,!0)},[t.SyntaxKind.ExportDefault]:function(e,r,a){return b([z(e,r.exportKeyword,r,!0),z(e,r.defaultKeyword,r,!0),T(e,r.declaration,a,r),pt(e)])},[t.SyntaxKind.NamedExports]:function(e,r,a,o){return ap(e,r.exportsList,a,o)},[t.SyntaxKind.ExportSpecifier]:function(e,r,a,o){return b([r.name?T(e,r.name,a,r):"",r.moduleExportName?T(e,r.moduleExportName,a,r):""," ",z(e,r.asKeyword,r,!0),r.binding?b([e.space,T(e,r.binding,a,r)]):""])},[t.SyntaxKind.ImportDeclaration]:function(e,r,a){return b([z(e,r.importKeyword,r,!0),z(e,r.typeKeyword,r,!0),z(e,r.typeofKeyword,r,!0),r.importClause?T(e,r.importClause,a,r):"",r.fromClause?rp(e,r.fromClause,a,r):"",r.moduleSpecifier?T(e,r.moduleSpecifier,a,r):""])},[t.SyntaxKind.ImportClause]:function(e,r,a,o){return b([r.defaultBinding?T(e,r.defaultBinding,a,r):"",r.nameSpaceImport?T(e,r.nameSpaceImport,a,r):"",r.namedImports?T(e,r.namedImports,a,r):""])},[t.SyntaxKind.NameSpaceImport]:function(e,r,a){return b([z(r.asteriskToken,e,r,!0),T(e,r.binding,a,r)])},[t.SyntaxKind.NamedImports]:function(e,r,a){return ap(e,r.importsList,a,r)},[t.SyntaxKind.ImportSpecifier]:function(e,r,a,o){return b([r.name?T(e,r.name,a,o):"",r.moduleExportName?T(e,r.moduleExportName,a,o):""," ",z(e,r.typeKeyword,r,!0),z(e,r.asKeyword,r,!0),T(e,r.binding,a,o)])},[t.SyntaxKind.FromClause]:rp,[t.SyntaxKind.NewTarget]:function(e,r){return b([je(0,r.newKeyword),".",je(0,r.targetIdentifier)])},[t.SyntaxKind.NewExpression]:function(e,r,a,o){return b([z(e,r.newKeyword,r,!0),T(e,r.expression,a,r),r.argumentList?ol(e,r.argumentList,a,r):""])},[t.SyntaxKind.YieldExpression]:function(e,r,a,o){return b([z(e,r.yieldKeyword,r,!r.asteriskToken),z(e,r.asteriskToken,r,!0),r.expression?T(e,r.expression,a,r):""])},[t.SyntaxKind.SpreadProperty]:Wc,[t.SyntaxKind.SpreadElement]:Wc,[t.SyntaxKind.ClassTail]:function(e,r,a,o){return b([r.classHeritage?T(e,r.classHeritage,a,o):"",r.flags&t.NodeFlags.Declared?Yc(e,r.body,a,o):Ju(e,r.body,a,o)])},[t.SyntaxKind.ClassElement]:function(e,r,a,o){return b([r.decorators?b([il(e,r.decorators,a,r)," "]):"",z(e,r.declaredToken,r,!0),z(e,r.staticKeyword,r,!0),z(e,r.asyncKeyword,r,!0),z(e,r.setKeyword,r,!0),z(e,r.getKeyword,r,!0),z(e,r.asteriskToken,r,!1),T(e,r.method,a,r)])},[t.SyntaxKind.ArrowFunction]:function(e,r,a,o){let{contents:l}=r;if(l.kind===t.SyntaxKind.FunctionBody)return b([z(e,r.asyncKeyword,r,!0),r.typeParameters?T(e,r.typeParameters,a,r):"",ie(r.arrowPatameterList.kind===t.SyntaxKind.ArrowParameterList?Xc(e,r.arrowPatameterList,a,r):16&e.flags?b(["(",T(e,r.arrowPatameterList,a,r),")"]):T(e,r.arrowPatameterList,a,r),{shouldBreak:!1}),e.space,z(e,r.arrowToken,r,!1),e.space,sl(e,l,a,r)]);let p=[z(e,r.asyncKeyword,r,!0),r.typeParameters?T(e,r.typeParameters,a,r):"",ie(r.arrowPatameterList.kind===t.SyntaxKind.ArrowParameterList?Xc(e,r.arrowPatameterList,a,r):16&e.flags?b(["(",T(e,r.arrowPatameterList,a,r),")"]):T(e,r.arrowPatameterList,a,r),{shouldBreak:!1}),e.space,z(e,r.arrowToken,r,!1)],d=T(e,l,a,r);return l.kind===t.SyntaxKind.CommaOperator?ie(b([b(p),ie(b([" (",he(b([le,d])),le,")"]),{shouldBreak:!1})]),{shouldBreak:!1}):l.kind===t.SyntaxKind.FunctionBody||l.transformFlags&n.ArrayOrObjectLiteral||l.kind===t.SyntaxKind.ArrowFunction?ie(b([b(p),e.space,d]),{}):l.transformFlags&(n.CallExpression|n.NewExpression)&&l.expression.kind===t.SyntaxKind.Identifier&&o.transformFlags&(n.ArrayOrObjectLiteral|n.ArrowFolding)?ie(b([b(p)," ",d]),{}):ie(b([b(p),ie(b([he(b([ze,d]))]),{})]),{shouldBreak:!1})},[t.SyntaxKind.ObjectBindingPattern]:function(e,r,a,o){return function(l,p,d,c){let f=p.properties;if(f.length===0)return b(["{",Pe(l,p.start),nt(l,p.end),"}"]);let g=[],S,h;for(let _=0;_<f.length;_++)h=f[_],S&&g.push(b([",",l.space,le])),g.push(Pe(l,h.start),T(l,h,d,c)),S=h;let K=c.kind!==t.SyntaxKind.FunctionDeclaration&&c.kind!==t.SyntaxKind.FunctionExpression&&c.kind!==t.SyntaxKind.ArrowFunction&&c.kind!==t.SyntaxKind.BindingElement&&c.kind!==t.SyntaxKind.MethodDefinition&&c.kind!==t.SyntaxKind.FieldDefinition&&c.kind!==t.SyntaxKind.PropertyMethod&&c.kind!==t.SyntaxKind.Catch&&f.some(_=>_.value&&(_.value.kind===t.SyntaxKind.ObjectBindingPattern||_.value.kind===t.SyntaxKind.ArrayBindingPattern));return ie(b(["{",he(b([2&l.flags?ze:le,b(g)])),Bt(p.trailingComma?",":""),2&l.flags?ze:le,"}"]),{shouldBreak:K})}(e,r.propertyList,a,o)},[t.SyntaxKind.CoverInitializedName]:function(e,r,a,o){return ie(b([T(e,r.left,a,r),e.space,oe("=",e,r.left.end,r),e.space,T(e,r.right,a,r)]),{shouldBreak:!1})},[t.SyntaxKind.PropertyMethod]:function(e,r,a,o){return ie(b([z(e,r.asyncKeyword,r,!0),z(e,r.asteriskToken,r,!1),z(e,r.getKeyword,r,!0),z(e,r.setKeyword,r,!0),T(e,r.method,a,r)]),{shouldBreak:!1})},[t.SyntaxKind.PropertyDefinition]:function(e,r,a){return ie(b([2048&e.flags&&r.left.kind===t.SyntaxKind.Identifier?b([1&e.flags?"'":'"',T(e,r.left,a,r),1&e.flags?"'":'"']):4096&e.flags&&r.left.kind===t.SyntaxKind.StringLiteral?r.left.text:T(e,r.left,a,r),oe(":",e,r.left.end,r),rl(r.left,r.right,T(e,r.right,a,r))]),{shouldBreak:!1})},[t.SyntaxKind.MethodDefinition]:function(e,r,a){return b([T(e,r.name,a,r),r.typeParameters?T(e,r.typeParameters,a,r):"",tp(e,r.formalParameterList,a,r),r.returnType?b([oe(":",e,r.formalParameterList.end,r),e.space,T(e,r.returnType,a,r)]):"",e.space,sl(e,r.contents,a,r)])},[t.SyntaxKind.ComputedPropertyName]:function(e,r,a,o){return b([oe("[",e,r.start,r),32768&e.flags?e.space:"",T(e,r.expression,a,o),32768&e.flags?e.space:"",oe("]",e,r.expression.end,r)])},[t.SyntaxKind.RegularExpressionLiteral]:function(e,r,a,o){return r.text},[t.SyntaxKind.ImportCall]:function(e,r,a,o){return ie(b([z(e,r.importKeyword,r,!1),oe("(",e,r.importKeyword.end,r),T(e,r.expression,a,r),oe(")",e,r.expression.end,r)]),{shouldBreak:!1})},[t.SyntaxKind.ImportMeta]:function(e,r,a,o){return b([z(e,r.importKeyword,r,!1),oe(".",e,r.importKeyword.end,r),z(e,r.metaIdentifier,r,!1)])},[t.SyntaxKind.TaggedTemplate]:function(e,r,a,o){return b([T(e,r.member,a,r),T(e,r.template,a,r)])},[t.SyntaxKind.TemplateExpression]:function(e,r,a,o){if(r.spans.length===0)return"``";let l=r.spans,p=[],d,c;for(let f=0;f<l.length;f++)c=l[f],d&&p.push(b([",",e.space,le])),p.push(Pe(e,c.start),T(e,c,a,o)),d=c;return b(["`",b(p),T(e,r.tail,a,r),"`"])},[t.SyntaxKind.ThisKeyword]:je,[t.SyntaxKind.NullKeyword]:je,[t.SyntaxKind.FalseKeyword]:je,[t.SyntaxKind.TrueKeyword]:je,[t.SyntaxKind.Semicolon]:je,[t.SyntaxKind.SuperKeyword]:je,[t.SyntaxKind.Multiply]:je,[t.SyntaxKind.AnyKeyword]:je,[t.SyntaxKind.UnknownKeyword]:je,[t.SyntaxKind.UndefinedKeyword]:je,[t.SyntaxKind.ObjectKeyword]:je,[t.SyntaxKind.NeverKeyword]:je,[t.SyntaxKind.VoidKeyword]:je,[t.SyntaxKind.SymbolKeyword]:je,[t.SyntaxKind.MixedKeyword]:je,[t.SyntaxKind.NumberKeyword]:je,[t.SyntaxKind.StringKeyword]:je,[t.SyntaxKind.BooleanKeyword]:je,[t.SyntaxKind.EmptyKeyword]:je,[t.SyntaxKind.TemplateSpan]:function(e,r,a,o){return b([r.rawText,oe("$",e,r.start,r),"{",T(e,r.expression,a,r),oe("}",e,r.expression.end,r)])},[t.SyntaxKind.TemplateTail]:function(e,r,a,o){return r.flags&t.NodeFlags.TemplateLiteral?"`"+r.rawText+"`":r.rawText},[t.SyntaxKind.FieldDefinition]:function(e,r,a,o){return b([r.decorators?b([il(e,r.decorators,a,r)," "]):"",z(e,r.declaredToken,r,!0),z(e,r.staticKeyword,r,!0),z(e,r.asyncKeyword,r,!0),T(e,r.key,a,r),z(e,r.optionalToken,r,!0),r.type?b([oe(":",e,r.optionalToken?r.optionalToken.end:r.key.end,r)," ",T(e,r.type,a,r),z(e,r.asyncKeyword,r,!0)]):"",r.initializer?b([" ",oe("=",e,r.type?r.type.end:r.optionalToken?r.optionalToken.end:r.key.end,r),rl(r.key,r.initializer,T(e,r.initializer,a,r))]):"",pt(e)])},[t.SyntaxKind.OptionalExpression]:function(e,r,a,o){return b([T(e,r.member,a,r),z(e,r.chainToken,r,!1),T(e,r.chain,a,r)])},[t.SyntaxKind.OptionalChain]:function(e,r,a,o){return T(e,r.chain,a,r)},[t.SyntaxKind.IndexExpressionChain]:function(e,r,a,o){return b([r.chain?T(e,r.chain,a,r):"",o.kind===t.SyntaxKind.OptionalChain?"":".",T(e,r.expression,a,r)])},[t.SyntaxKind.Elison]:function(){return""},[t.SyntaxKind.MemberAccessChain]:function(e,r,a,o){let l=32768&e.flags?e.space:"";return ie(b([r.chain?T(e,r.chain,a,r):"",oe("[",e,r.chain?r.chain.end:r.start,r),l,ie(b([he(b([le,T(e,r.expression,a,r)])),le]),{shouldBreak:!1}),l,oe("]",e,r.expression.end,r)]),{})}};function nl(e,r){let a=10,o=80,l=!1,p=2,d=" ",c=`
`,f=!1;if(r!=null&&(r.printWidth&&(o=r.printWidth),r.tabWidth&&(p=r.tabWidth),r.useTabs&&(l=!0),r.insertPragma&&(f=!0),r.noSemicolon&&(a&=-9),r.singleQuote&&(a|=1),r.arrayBracketSpacing&&(a|=4),r.noObjectCurlySpacing&&(a&=-3),r.noComments&&(a|=65536),r.spaceAfterAt&&(a|=256),r.quoteProps&&(a|=2048),r.coerceQuoteProps&&(a|=4096),r.disallowStringEscape&&(a|=64),r.arrayBracketNewline&&(a|=8192),r.computedPropertySpacing&&(a|=32768),r.allowArrowParens&&(a|=16),r.enforceLineBreaksBetweenArray&&(a|=16384),r.noWhitespace&&(d="",a|=1024),r.compact&&(a|=1024,d="",c=""),r.endOfLine)){let h=r.endOfLine;h==="lf"&&(c=`
`),h==="crlf"&&(c=`
\r`),h==="cr"&&(c="\r"),h==="none"&&(c="")}let g=function(h,K,_){return{source:h,flags:K,space:_,detachedCommentsInfo:void 0,containerPos:-1,containerEnd:-1,declarationListContainerEnd:-1,consumedCommentRanges:[]}}(e.source,a,d),S=function(h,K,_,I){return zc(h,K,_,I,Mu)}(g,e,[],e);return function(h,K,_,I,F,H){let J=0,X=[[0,1,H]],ee=[],Z=!1;for(;X.length!==0;){let[re,ce,ye]=X.pop();if(typeof ye=="string")ee.push(ye),J+=ye.length;else switch(ye.kind){case 3:for(let Re=ye.parts.length-1;Re>=0;Re--)X.push([re,ce,ye.parts[Re]]);break;case 4:X.push([re+1,ce,ye.contents]);break;case 5:switch(ce){case 2:if(!Z){X.push([re,ye.break?1:2,ye.contents]);break}case 1:Z=!1;let Re=[re,2,ye.contents],St=h-J;if(!ye.break&&Bc(Re,X,St))X.push(Re);else if(ye.expandedStates){let At=ye.expandedStates[ye.expandedStates.length-1];if(ye.break){X.push([re,1,At]);break}for(let Qt=1;Qt<ye.expandedStates.length+1;Qt++){if(Qt>=ye.expandedStates.length){X.push([re,1,At]);break}{let Qr=[re,2,ye.expandedStates[Qt]];if(Bc(Qr,X,St)){X.push(Qr);break}}}}else X.push([re,1,ye.contents])}break;case 1:ce===1&&X.push([re,1,ye.contents]);break;case 2:switch(ce){case 2:if(!(4&ye.flags)){2&ye.flags||(ee.push(F),J+=1);break}Z=!0;case 1:if(ee.length>0){for(;ee.length>0&&ee[ee.length-1].match(/^[^\S\n]*$/);)ee.pop();ee.length&&(ee[ee.length-1]=ee[ee.length-1].replace(/[^\S\n]*$/,""))}if(8&ye.flags)ee.push(I),J=0;else{let Re=re*K,St=_?"	".repeat(re)+"":F.repeat(Re)+"";ee.push(I+St),J=Re+0}}}}return ee.join("")}(o,p,l,c,d,f?b(["/**",Le," * @kataw",Le," */",Le,Le,S]):S)}function T(e,r,a,o){return Bu(e,r,a,o,Uu)}function Uu(e,r,a,o){if(r.flags&t.NodeFlags.IgnoreNextNode)return e.source.slice(r.start,r.end);let l=ju[r.kind];return l?l(e,r,a,o):""}function qc(e,r,a,o,l){if(r.kind===t.SyntaxKind.BinaryExpression){let d=Uc(r)?qc(e,r.left,a,r,l):[T(e,r.left,a,r)],c=b([z(e,r.operatorToken,r,!1),r.transformFlags&n.ArrayOrObjectLiteral?"":1024&e.flags&&r.operatorToken.kind===t.SyntaxKind.InKeyword&&r.right.kind===t.SyntaxKind.Identifier?" ":ze,T(e,r.right,a,r)]);return d.push(" ",l&&r.kind===t.SyntaxKind.BinaryExpression||o.kind===r.kind||r.left.kind===r.kind||r.right.kind===r.kind?c:ie(c,{})),d}let p=1024&e.flags&&r.operatorToken.kind===t.SyntaxKind.InKeyword&&(r.left.kind===t.SyntaxKind.RegularExpression||r.left.kind===t.SyntaxKind.Identifier||r.left.kind===t.SyntaxKind.NumericLiteral);return b([T(e,r.left,a,r),p?" ":e.space,z(e,r.operatorToken,r,!1),1024&e.flags&&r.operatorToken.kind===t.SyntaxKind.InKeyword&&r.right.kind===t.SyntaxKind.Identifier?" ":e.space,T(e,r.right,a,r)])}function Mu(e,r,a,o){let{directives:l,statements:p}=r,d=[],c,f,g=-1;if(l&&l.length>0){g=l.length-1;for(let S=0;S<l.length;S++)S===g&&(e.flags|=128),d.push(b([Le,T(e,l[S],a,o),++S<l.length?";":""]));d.push(128&e.flags&&p.length===0?"":";",Le)}g=d.length-1;for(let S=0;S<p.length;S++)S===g&&(e.flags|=128),f=p[S],f.kind!==t.SyntaxKind.EmptyStatement&&(d.push(c&&c.end!==Se(e.source,f.start)?b([Le,T(e,f,a,o),Le]):T(e,f,a,r)),c=f);return b(d)}function Gc(e,r,a,o){if(r.statements.length===0)return b(["{",Pe(e,r.start),nt(e,r.end),"}"]);let{statements:l}=r,p=[],d,c;for(let f=0;f<l.length;f++)c=l[f],p.push(d&&d.end!==Se(e.source,c.start)?b([Le,T(e,c,a,o)]):T(e,c,a,r)),d=c;return b(["{",he(b([Le,b(p)])),Le,"}"])}function zu(e,r,a,o){if(r.parameters.length===0)return b(["<",Pe(e,r.start),nt(e,r.end),">"]);let l=r.parameters,p=[],d,c;for(let f=0;f<l.length;f++)c=l[f],d&&p.push(b([",",e.space,le])),p.push(Pe(e,c.start),T(e,c,a,o)),d=c;return ie(b(["<",he(b([le,b(p)])),Bt(r.trailingComma?",":""),le,">"]),{shouldBreak:!1})}function il(e,r,a,o){let l=r.elements,p=[],d,c;for(let f=0;f<l.length;f++)c=l[f],d&&p.push(b([",",e.space,le])),p.push(Pe(e,c.start),T(e,c,a,o)),d=c;return ie(b(p),{})}function Jc(e,r,a){return b([z(e,r.declareKeyword,r,!0),z(e,r.asyncKeyword,r,!0),z(e,r.functionKeyword,r,!0),z(e,r.asteriskToken,r,!1),r.name?T(e,r.name,a,r):"",r.typeParameters?T(e,r.typeParameters,a,r):"",ie(b([tp(e,r.formalParameterList,a,r),r.returnType?b([oe(":",e,r.formalParameterList.end,r),e.space,T(e,r.returnType,a,r)]):""]),{shouldBreak:!1}),r.contents?b([e.space,sl(e,r.contents,a,r)]):"",r.declareKeyword?128&e.flags?"":pt(e):""])}function sl(e,r,a,o){return T(e,r.functionStatementList,a,o)}function qu(e,r,a,o){let{directives:l,statements:p}=r,d=[],c,f,g=p.length-1;if(l&&l.length>0){g=l.length-1;for(let S=0;S<l.length;S++)S===g&&(e.flags|=128),d.push(b([Le,T(e,l[S],a,o),++S<l.length?";":""]));d.push(128&e.flags&&p.length===0?"":";",Le)}g=d.length-1;for(let S=0;S<p.length;S++)S===g&&(e.flags|=128),f=p[S],d.push(c&&c.end!==Se(e.source,f.start)?b([Le,T(e,f,a,o)]):T(e,f,a,r)),c=f;return d.length>0&&(e.flags=128^(128|e.flags)),b(d)}function Gu(e,r,a,o){return b([" ","="," ",T(e,r,a,o)])}function ol(e,r,a,o){if(r.elements.length===0)return b(["(",Pe(e,r.start),nt(e,r.end),")"]);if(r.elements.length===1){e.flags&=-513;let f=r.elements[0];if(f.transformFlags&n.ArrayOrObjectLiteral||f.kind===t.SyntaxKind.FunctionDeclaration||f.kind===t.SyntaxKind.FunctionExpression||f.kind===t.SyntaxKind.ArrowFunction||f.kind===t.SyntaxKind.Identifier)return 512&e.flags?T(e,f,a,o):b(["(",T(e,f,a,o),")"])}let l=r.elements,p=[],d,c;for(let f=0;f<l.length;f++)c=l[f],d&&p.push(b([",",e.space,le])),p.push(Pe(e,c.start),T(e,c,a,o)),d=c;return ie(b(["(",he(b([le,b(p)])),Bt(r.trailingComma?",":""),le,")"]),{shouldBreak:!1})}function Wc(e,r,a,o){return b([z(e,r.ellipsisToken,r,!1),T(e,r.argument,a,r)])}function Qc(e,r,a,o){return b([r.decorators?b([o.kind===t.SyntaxKind.ExportDeclaration||o.kind===t.SyntaxKind.ExportDeclaration?ze:"",il(e,r.decorators,a,r),ze]):"",z(e,r.declareKeyword,r,!0),z(e,r.classKeyword,r,!0),r.name?b([T(e,r.name,a,r),e.space]):"",r.typeParameters?b([T(e,r.typeParameters,a,r),r.tail.classHeritage?e.space:""]):"",T(e,r.tail,a,r)])}function Ju(e,r,a,o){if(r.elements.length===0)return b(["{",Pe(e,r.start),nt(e,r.end),"}"]);e.flags=128^(128|e.flags);let l=[],p,d,c=r.elements;for(let f=0;f<c.length;f++)d=c[f],l.push(p&&p.end!==Se(e.source,d.start)?b([Le,T(e,d,a,o)]):T(e,d,a,r)),p=d;return ie(b(["{",he(b([Le,b(l)])),Bt(r.trailingComma?",":""),Le,"}"]),{shouldBreak:!!(r.flags&t.NodeFlags.NewLine)})}function Yc(e,r,a,o){if(r.properties.length===0)return b(["{",Pe(e,r.start),nt(e,r.end),"}"]);let l=r.properties,p=[],d,c;for(let f=0;f<l.length;f++)c=l[f],d&&p.push(b([",",e.space,le])),p.push(Pe(e,c.start),T(e,c,a,o)),d=c;return ie(b(["{",he(b([2&e.flags?ze:le,b(p)])),Bt(pt),2&e.flags?ze:le,"}"]),{shouldBreak:!1})}function Xc(e,r,a,o){if(r.parameters.length===0)return b(["(",Pe(e,r.start),nt(e,r.end),")"]);let l=r.parameters,p=[],d,c;for(let f=0;f<l.length;f++)c=l[f],d&&p.push(b([",",e.space,le])),p.push(Pe(e,c.start),T(e,c,a,o)),d=c;return b(["(",b(p),")"])}function $c(e,r,a,o){let l=r.declarations;e.flags=128^(128|e.flags);let p=[],d;for(let c=0;c<l.length;c++)d=l[c],p.push(T(e,d,a,o));return p}function Zc(e,r,a,o,l){let p=function(d,c,f,g){let S=c.bindingList;d.flags=128^(128|d.flags);let h=[],K,_;for(let I=0;I<S.length;I++)_=S[I],K&&h.push(b([",",d.space,le])),h.push(Pe(d,_.start),T(d,_,f,g)),K=_;return b(h)}(e,r.binding,a,r);return ie(b([u(r.lexicalKeyword.kind)," ",he(p),l?"":pt(e)]),{shouldBreak:!1})}function ep(e,r,a){if(r.initializer){let{initializer:o}=r;return ie(b([T(e,r.binding,a,r),r.type?b([oe(":",e,r.binding.end,r),e.space,T(e,r.type,a,r)]):"",e.space,oe("=",e,r.type?r.type.end:r.binding.end,r),o.kind===t.SyntaxKind.ClassExpression&&o.decorators||o.kind===t.SyntaxKind.ConditionalExpression&&o.shortCircuit.kind===t.SyntaxKind.BinaryExpression&&!(o.shortCircuit.right.transformFlags&n.ArrayOrObjectLiteral)?ie(he(b([ze,T(e,o,a,r)])),{shouldBreak:!1}):b([e.space,T(e,o,a,r)])]),{shouldBreak:!1})}return b([T(e,r.binding,a,r),r.type?b([":",e.space,T(e,r.type,a,r)]):""])}function tp(e,r,a,o){if(r.formalParameters.length===0)return b(["(",Pe(e,r.start),nt(e,r.end),")"]);let l=r.formalParameters,p=[],d,c;for(let f=0;f<l.length;f++)c=l[f],d&&p.push(b([",",e.space,le])),p.push(Pe(e,c.start),T(e,c,a,o)),d=c;return r.formalParameters.length===1?b(["(",b(p),")"]):b(["(",he(b([le,b(p)])),Bt(r.trailingComma&&d&&!d.ellipsisToken?",":""),le,")"])}function rp(e,r,a,o){return r?b([" ",z(e,r.fromKeyword,o,!0),T(e,r.from,a,o),pt(e)]):""}function ap(e,r,a,o){if(r.specifiers.length===0)return b(["{",Pe(e,r.start),nt(e,r.end),"}"]);let l=r.specifiers,p=[],d,c;for(let f=0;f<l.length;f++)c=l[f],d&&p.push(b([",",e.space,le])),p.push(Pe(e,c.start),T(e,c,a,o)),d=c;return ie(b(["{",he(b([2&e.flags?ze:le,b(p),""])),Bt(r.trailingComma?",":""),2&e.flags?ze:le,"}"]),{shouldBreak:!1})}function Wu(e,r,a,o){return e.flags=128^(128|e.flags),r.catchParameter?b([je(0,r.catchKeyword),e.space,oe("(",e,r.block.end,r),T(e,r.catchParameter,a,r),oe(")",e,r.catchParameter.end,r),e.space,T(e,r.block,a,r)]):b([z(e,r.catchKeyword,r,!0),T(e,r.block,a,o)])}function Qu(e,r,a,o){if(r.clauses.length===0)return b([oe("{",e,r.start,r),Pe(e,r.start),nt(e,r.end),oe("}",e,r.clauses.length?al(r.clauses).end:r.end,r)]);let l=r.clauses,p=[],d,c;for(let f=0;f<l.length;f++)c=l[f],p.push(d&&d.end!==Se(e.source,c.start)?b([Le,T(e,c,a,o)]):T(e,c,a,o)),d=c;return b(["{",he(b([Le,b(p)])),Le,"}"])}function np(e,r,a,o){let l=[],p,d;for(let c=0;c<r.length;c++)d=r[c],l.push(p&&p.end!==Se(e.source,d.start)?b([Le,T(e,d,a,o)]):T(e,d,a,o)),p=d;return b(l)}function xr(e,r,a,o){return r.flags=128^(128|r.flags),e.kind===t.SyntaxKind.EmptyStatement?128&r.flags?"":";":e.kind===t.SyntaxKind.Block||o?b([" ",a]):he(b([ze,a]))}function ll(e,r,a,o){if(r){if(r.kind===t.SyntaxKind.ForBinding){let l=$c(e,r.declarationList,a,r),p;return l.length===1?p=l[0]:l.length>1&&(p=he(l[0])),ie(b([z(e,r.declareKeyword,r,!0),"var",p?b([" ",p]):"",he(b(l.slice(1).map(d=>b([",",ze,d]))))]),{shouldBreak:!1})}return r.kind===t.SyntaxKind.LexicalDeclaration?Zc(e,r,a,0,!0):T(e,r,a,o)}}function Ja(e,r){return 9088&r.flags?r.rawText:r.rawText.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(\d)/,"$1$2$3").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e|$)/,"")}function dl(e,r){if(e){if(!r)return e.length>0;for(let a of e)if(r(a))return!0}return!1}function ip(e){e.lexicalEnvironmentVariableDeclarationsStack[e.lexicalEnvironmentStackOffset]=e.lexicalEnvironmentVariableDeclarations,e.lexicalEnvironmentFunctionDeclarationsStack[e.lexicalEnvironmentStackOffset]=e.lexicalEnvironmentFunctionDeclarations,e.lexicalEnvironmentStackOffset++,e.lexicalEnvironmentVariableDeclarations=void 0,e.lexicalEnvironmentFunctionDeclarations=void 0,e.lexicalEnvironmentStatements=void 0,e.lexicalEnvironmentFlags=0}function sp(e){let r;if(e.lexicalEnvironmentVariableDeclarations||e.lexicalEnvironmentFunctionDeclarations||e.lexicalEnvironmentStatements){if(e.lexicalEnvironmentFunctionDeclarations&&(r=[...e.lexicalEnvironmentFunctionDeclarations]),e.lexicalEnvironmentVariableDeclarations){let a=Ho(null,x(t.SyntaxKind.VarKeyword,t.NodeFlags.IsStatement|t.NodeFlags.NoChildren,-1,-1),Do(e.lexicalEnvironmentVariableDeclarations,-1,-1),t.NodeFlags.IsStatement,-1,-1);r?r.push(a):r=[a]}e.lexicalEnvironmentStatements&&(r=r?[...r,...e.lexicalEnvironmentStatements]:[...e.lexicalEnvironmentStatements])}return e.lexicalEnvironmentStackOffset--,e.lexicalEnvironmentVariableDeclarations=e.lexicalEnvironmentVariableDeclarationsStack[e.lexicalEnvironmentStackOffset],e.lexicalEnvironmentFunctionDeclarations=e.lexicalEnvironmentFunctionDeclarationsStack[e.lexicalEnvironmentStackOffset],e.lexicalEnvironmentStatements=e.lexicalEnvironmentStatementsStack[e.lexicalEnvironmentStackOffset],e.lexicalEnvironmentFlags=e.lexicalEnvironmentFlagsStack[e.lexicalEnvironmentStackOffset],e.lexicalEnvironmentStackOffset===0&&(e.lexicalEnvironmentVariableDeclarationsStack=[],e.lexicalEnvironmentFunctionDeclarationsStack=[],e.lexicalEnvironmentStatementsStack=[],e.lexicalEnvironmentFlagsStack=[]),r}function w(e,r){e!=null&&r(e)}function qe(e,r){if(e!=null)for(let a of e)w(a,r)}function Ei(e,r,a){r!=null&&(e.lexicalEnvironmentSuspended=!0,a(r),dl(sp(e))&&console.log("Naa declarations"))}var cl;function tt(e){return e[Fr(e.length)]}function op(){return Math.random()<.5}function Fr(e){return Math.random()*e|0}function Wr(e,r,a,o){let l=[],p=Math.floor(Fr(a)*a+1);for(let d=0;d<p;++d)l.push(o(e,r));return l}function lp(){let e=12,r="";for(;e--;){let a=62*Math.random()|0,o=a+=a>9?a<36?55:61:48;r+=String.fromCharCode(o)}return r}function dp(){let e=Fr(7),r=[];do r.push(tt(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","$","_","0","1","2","3","4","5","6","7","8","9"]));while(e-- >0);return tt(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","$_"])+r.join("")}function Wt(e,r){return e>=4?yl():tt([Yu,yl,ty,Xu,ay,ny,iy,ly,sy,ry])(e,r)}function wt(e,r){return e>=4?Cr():(e++,tt([Cr,cp,pp,pl,dy,ul,$u,yp,mp])(e,r))}function cp(){return x(t.SyntaxKind.FalseKeyword,t.NodeFlags.None,-1,-1)}function pp(){return x(t.SyntaxKind.TrueKeyword,t.NodeFlags.None,-1,-1)}function pl(){return x(t.SyntaxKind.NullKeyword,t.NodeFlags.None,-1,-1)}function ul(){return x(t.SyntaxKind.ThisKeyword,t.NodeFlags.None,-1,-1)}function yl(){return uo(-1,-1)}function Cr(){return Rt(dp(),dp(),t.NodeFlags.None,-1,-1)}function Yu(){return lo(x(t.SyntaxKind.DebuggerKeyword,t.NodeFlags.None,-1,-1),-1,-1)}function Xu(e,r){return e--,Ko(tt([up,wt])(e,r),-1,-1)}function up(e,r){return sa(Wr(e,r,2,wt),-1,-1)}function Fi(e,r){return Br(tt([wt,up])(e,r),t.NodeFlags.None,-1,-1)}function $u(e,r){return Co(x(tt([t.SyntaxKind.Add,t.SyntaxKind.Subtract,t.SyntaxKind.TypeofKeyword,t.SyntaxKind.VoidKeyword,t.SyntaxKind.DeleteKeyword]),t.NodeFlags.None,-1,-1),tt([Cr,Wa,Ci,Fi,gp,yp,mp,ey,Sp,ul,pl])(e,r),-1,-1)}function yp(e,r){return Ao(x(tt([t.SyntaxKind.Increment,t.SyntaxKind.Decrement]),t.NodeFlags.None,-1,-1),tt([Cr,Fi])(e,r),-1,-1)}function mp(e,r){return Io(x(tt([t.SyntaxKind.Increment,t.SyntaxKind.Decrement]),t.NodeFlags.None,-1,-1),tt([Cr,Fi])(e,r),-1,-1)}function Wa(e,r){return jr(wt(++e,r),fp(e,r),t.NodeFlags.None,-1,-1)}function Ci(e,r){return e++,bo(x(t.SyntaxKind.NewKeyword,t.NodeFlags.None,-1,-1),wt(e,r),fp(e,r),t.NodeFlags.None,-1,-1)}function fp(e,r){return Hr(Wr(e,r,1,tt([wt,Ci,Wa,xp])),!1,t.NodeFlags.None,-1,-1)}function Zu(){return yi(-1,-1)}function xp(e,r){return e--,va(x(t.SyntaxKind.Ellipsis,t.NodeFlags.None,-1,-1),tt([wt,Ci,Wa])(e,r),-1,-1)}function gp(e,r){return xi(function(a,o){a++;let l=Fr(5),p=[];for(;l-- >0;)p.push(tt([wt,Zu,Ci,Wa,xp])(a,o));return mi(p,!1,t.NodeFlags.None,-1,-1)}(e,r),t.NodeFlags.None,-1,-1)}function Sp(){let e=lp();return Si(e,e,t.NodeFlags.None,-1,-1)}function ey(){let e=Fr(1e4);return vo(e,'"'+e+'"',t.NodeFlags.None,-1,-1)}function ty(e,r){return Ca(function(a,o){return a++,oi(Wr(a,o,3,tt([Wt])),t.NodeFlags.None,-1,-1)}(++e,r),t.NodeFlags.None,-1,-1)}function ry(e,r){return e--,mo(x(t.SyntaxKind.ThrowKeyword,t.NodeFlags.None,-1,-1),wt(e,r),t.NodeFlags.None,-1,-1)}function ay(e,r){return e--,Fr(6)>3?li(x(t.SyntaxKind.IfKeyword,t.NodeFlags.None,-1,-1),wt(e,r),Wt(e,r),x(t.SyntaxKind.ElseKeyword,t.NodeFlags.None,-1,-1),Wt(e,r),t.NodeFlags.None,-1,-1):li(x(t.SyntaxKind.IfKeyword,t.NodeFlags.None,-1,-1),wt(e,r),Wt(e,r),null,null,t.NodeFlags.None,-1,-1)}function ny(e,r){return fo(x(t.SyntaxKind.WhileKeyword,t.NodeFlags.None,-1,-1),wt(e,r),tt([Wt,hp,Kp])(e,r),t.NodeFlags.None,-1,-1)}function hp(){return no(x(t.SyntaxKind.BreakKeyword,t.NodeFlags.None,-1,-1),null,-1,-1)}function Kp(){return io(x(t.SyntaxKind.ContinueKeyword,t.NodeFlags.None,-1,-1),null,-1,-1)}function iy(e,r){return po(x(t.SyntaxKind.DoKeyword,t.NodeFlags.None,-1,-1),wt(e,r),x(t.SyntaxKind.WhileKeyword,t.NodeFlags.None,-1,-1),tt([Wt,hp,Kp])(e,r),t.NodeFlags.None,-1,-1)}function sy(e,r){return e>=3?yl():yo(x(t.SyntaxKind.SwitchKeyword,t.NodeFlags.None,-1,-1),wt(e,r),function(a,o){return so(function(l,p){let d=[],c=Fr(6);l++;let f=!1;for(;c-- >0;)f||(f=!0,d.push(oy(l,p))),d.push(kp(l,p));return d.length===0&&d.push(kp(l,p)),d}(a,o),-1,-1)}(e,r),t.NodeFlags.None,-1,-1)}function kp(e,r){return oo(x(t.SyntaxKind.CaseKeyword,t.NodeFlags.None,-1,-1),wt(e,r),x(t.SyntaxKind.Colon,t.NodeFlags.None,-1,-1),Wr(e,r,3,Wt),-1,-1)}function oy(e,r){return co(x(t.SyntaxKind.DefaultKeyword,t.NodeFlags.None,-1,-1),x(t.SyntaxKind.Colon,t.NodeFlags.None,-1,-1),Wr(e,r,3,Wt),-1,.1)}function ly(e,r){return e++,ao(Cr(),x(t.SyntaxKind.CaseKeyword,t.NodeFlags.None,-1,-1),Wt(e,r),t.NodeFlags.None,-1,-1)}function bp(e){let r=op(),a=e&&r?"use strict":lp();return e&&!r&&(a="use strict"),Si(a,a,t.NodeFlags.None,-1,-1)}function dy(e,r){return gi(tt([Sp,cp,pp,pl,ul,gp,Wa,Fi,Cr])(e,r),Cr(),t.NodeFlags.None,-1,-1)}function ml(e,r,a){let o=e.lastIndexOf(`
`,r)+1;return{pos:r-o,end:a-o}}function fl(e,r){let a=1,o=0;for(;;){let l=e.indexOf(`
`,o+1);if(l===-1)return a+1;if(r>=o&&r<=l)return a;a++,o=l}}function xl(e){return e===C.Error?"\x1B[31mError\x1B[0m":e===C.Lint?"\x1B[32mLint\x1B[0m":"\x1B[33mWarning\x1B[0m"}function wp(e,r,a){return Ki(e,"__root__",8,!1,a||function(){},r)}function Np(e,r,a){return Ki(e,"__root__",35127304,!0,a||function(){},r)}(function(e){e[e.None=0]="None",e[e.Auto=1]="Auto",e[e.Loop=2]="Loop",e[e.Unique=3]="Unique",e[e.Node=4]="Node",e[e.KindMask=7]="KindMask",e[e.ReservedInNestedScopes=8]="ReservedInNestedScopes",e[e.Optimistic=16]="Optimistic"})(cl||(cl={})),t.aladdin=function(e,r,a,o,l,p){let d=function(_){switch(_){case C.Hint:case C.Lint:return"\x1B[32m";case C.Error:case C.Message:return"\x1B[31m";case C.Warning:return"\x1B[33m"}}(r),c=fl(p,o).toString(),f=" ".repeat(c.length),g=function(_,I,F){let H=_.lastIndexOf(`
`,I)+1,J=_.indexOf(`
`,F);return _.slice(H,J)}(p,o,l),S=ml(p,o,l),h=S.end-S.pos,K=d+"^"+"\x1B[0m".repeat(h);h<=2&&(K+=d+"--\x1B[0m"),process.stdout.write(`${f}\x1B[33m-->\x1B[0m in \x1B[36mfoo.js\x1B[0m

`),process.stdout.write(`${d+c+"\x1B[0m\x1B[37m |\x1B[0m"} ${g}
`),process.stdout.write(`${f} \x1B[37m|\x1B[0m`),process.stdout.write(`${" ".repeat(S.pos+1)}${K}

`),process.stdout.write(d+a+`\x1B[0m

`)},t.compact=function(e,r,a,o,l,p){let d="",c=ml(p,o,l);d+="line "+fl(p,o).toString(),d+=", col "+c.pos,d+=", "+xl(r),d+=" - "+a,d+=`
`,console.log(d)},t.containsInvalidEscape=function(e){return(e.flags&t.NodeFlags.ContainsInvalidEscape)===t.NodeFlags.ContainsInvalidEscape},t.containsSeparator=function(e){return(e.flags&t.NodeFlags.ContainsSeparator)===t.NodeFlags.ContainsSeparator},t.createArgumentList=Hr,t.createArrayBindingPattern=To,t.createArrayLiteral=xi,t.createArrayType=Yd,t.createArrowFunction=_d,t.createArrowFunctionType=Ot,t.createAssignmentExpression=Va,t.createAwaitExpression=kd,t.createBigIntLiteral=Gd,t.createBinaryExpression=kr,t.createBindingElement=Be,t.createBindingElementList=Ud,t.createBindingList=dc,t.createBindingProperty=_o,t.createBindingPropertyList=Eo,t.createBlock=oi,t.createBlockStatement=Ca,t.createBreakStatement=no,t.createCallChain=Aa,t.createCallExpression=jr,t.createCallSignature=rc,t.createCaseBlock=so,t.createCaseClause=oo,t.createCatch=td,t.createClassBody=So,t.createClassDeclaration=pc,t.createClassElement=go,t.createClassExpression=xd,t.createClassHeritage=Sd,t.createClassTail=ci,t.createCommaOperator=sa,t.createComputedPropertyName=Md,t.createConditionalExpression=tr,t.createContinueStatement=io,t.createCoverInitializedName=Nd,t.createDebuggerStatement=lo,t.createDecorator=dd,t.createDecoratorList=ld,t.createDefaultClause=co,t.createDoWhileStatement=po,t.createDummyIdentifier=Mr,t.createElementList=mi,t.createElison=yi,t.createEmptyStatement=uo,t.createExportDeclaration=Ad,t.createExportDefault=Id,t.createExportFromClause=vd,t.createExportSpecifier=Pd,t.createExportsList=Vd,t.createExpressionStatement=Ko,t.createFieldDefinition=gd,t.createForBinding=ed,t.createForInStatement=ad,t.createForOfStatement=nd,t.createForStatement=id,t.createFormalParameterList=Pa,t.createFromClause=Cd,t.createFunctionBody=wo,t.createFunctionDeclaration=fc,t.createFunctionExpression=jd,t.createFunctionStatementList=No,t.createFunctionType=Lo,t.createFunctionTypeParameterList=lc,t.createFunctionTypeParameters=Oo,t.createIdentifier=Rt,t.createIfStatement=li,t.createImportCall=ud,t.createImportClause=Ld,t.createImportDeclaration=ko,t.createImportMeta=yd,t.createImportSpecifier=ui,t.createImportsList=Rd,t.createIndexExpression=gi,t.createIndexExpressionChain=di,t.createIndexSignatureDeclaration=ac,t.createIndexedAccessType=Wd,t.createInternalSlot=Po,t.createIntersectionType=Vo,t.createLabelledStatement=ao,t.createLexicalBinding=uc,t.createLexicalDeclaration=Ra,t.createMemberAccessChain=xo,t.createMemberAccessExpression=qd,t.createMethodDefinition=Td,t.createNameSpaceImport=Fd,t.createNamedExports=Od,t.createNamedImports=Dd,t.createNewExpression=bo,t.createNewTarget=Hd,t.createNullableType=$d,t.createNumberType=tc,t.createNumericLiteral=vo,t.createObjectBindingPattern=Fo,t.createObjectLiteral=ho,t.createObjectType=Zd,t.createOpaqueType=mc,t.createOptionalChain=pd,t.createOptionalExpression=cd,t.createParenthesizedExpression=Br,t.createParenthesizedType=La,t.createPostfixUpdateExpression=Ao,t.createPrefixUpdateExpression=Io,t.createPrivateIdentifier=zd,t.createPropertyDefinition=bd,t.createPropertyDefinitionList=xc,t.createPropertyMethod=ia,t.createQualifiedType=sc,t.createRegularExpressionLiteral=Ed,t.createReturnStatement=sd,t.createRootNode=fi,t.createSpreadElement=va,t.createSpreadProperty=wd,t.createStaticBlock=fd,t.createStringLiteral=Si,t.createStringType=ec,t.createSubtractionType=Jd,t.createSwitchStatement=yo,t.createTaggedTemplate=pi,t.createTemplateExpression=md,t.createTemplateSpan=hd,t.createTemplateTail=Kd,t.createThrowStatement=mo,t.createToken=x,t.createTransform=function(){return{nextAutoGenerateId:0,lexicalEnvironmentVariableDeclarationsStack:[],lexicalEnvironmentFunctionDeclarationsStack:[],lexicalEnvironmentStatementsStack:[],lexicalEnvironmentStatements:void 0,lexicalEnvironmentFunctionDeclarations:void 0,lexicalEnvironmentVariableDeclarations:void 0,lexicalEnvironmentFlags:0,lexicalEnvironmentFlagsStack:[],lexicalEnvironmentStackOffset:0,lexicalEnvironmentSuspended:!1}},t.createTryStatement=rd,t.createTupleType=oc,t.createTypeAlias=yc,t.createTypeAnnotation=ic,t.createTypeParameter=br,t.createTypeParameterDeclaration=wr,t.createTypeProperty=Ur,t.createTypeReference=hi,t.createTypeSpreadProperty=Qd,t.createTypeofType=Xd,t.createUnaryExpression=Co,t.createUnionType=nc,t.createUniqueIdentifier=function(e,r,a){return{kind:t.SyntaxKind.UniqueIdentifier,uniqueFlags:a?e|cl.ReservedInNestedScopes:e,uniqueId:r,flags:t.NodeFlags.NoChildren,transformFlags:n.None,start:-1,end:-1}},t.createVariableDeclaration=cc,t.createVariableDeclarationList=Do,t.createVariableStatement=Ho,t.createWhileStatement=fo,t.createWithStatement=od,t.createYieldExpression=Bd,t.eslint=function(e,r,a,o,l,p){let d="_".repeat(90);process.stdout.write(`${d}

`),process.stdout.write(`${"\x1B[36m"+o}:${l+"\x1B[0m"}${xl(r)}${"\x1B[37m"+a+"\x1B[0m"}
`)},t.fuzzModule=function(){return fi([],Wr(3,3,5,tt([Wt])),!0,"fuzz","fuzzing.js")},t.fuzzScript=function(){let{directives:e,hasStrictDirective:r}=function(){let a=op(),o=Fr(3),l=[];for(;o-- >0;)l.push(bp(a));return o===0&&l.push(bp(a)),{directives:l,hasStrictDirective:a}}();return fi(e,Wr(3,r?1:0,5,tt([Wt])),!1,"fuzz","fuzzing.js")},t.getLeadingComments=function(e,r){return si(e,r,!1)},t.getTrailingComments=function(e,r){return si(e,r,!0)},t.hasExtendedUnicodeEscape=function(e){return(e.flags&t.NodeFlags.ExtendedUnicodeEscape)===t.NodeFlags.ExtendedUnicodeEscape},t.hasNewLine=function(e){return(e.flags&t.NodeFlags.NewLine)===t.NodeFlags.NewLine},t.hasNoChildren=function(e){return(e.flags&t.NodeFlags.NoChildren)===t.NodeFlags.NoChildren},t.hasUnicodeEscape=function(e){return!!(e.flags&(t.NodeFlags.ExtendedUnicodeEscape|t.NodeFlags.UnicodeEscape))},t.hexIntegerLiteral=function(e){return(e.flags&t.NodeFlags.HexIntegerLiteral)===t.NodeFlags.HexIntegerLiteral},t.isAssignOp=function(e){return(e.kind&t.SyntaxKind.IsAssignOp)===t.SyntaxKind.IsAssignOp},t.isAsync=function(e){return(e.flags&t.NodeFlags.Async)===t.NodeFlags.Async},t.isBinaryIntegerLiteral=function(e){return(e.flags&t.NodeFlags.BinaryIntegerLiteral)===t.NodeFlags.BinaryIntegerLiteral},t.isBinaryOp=function(e){return(e.kind&t.SyntaxKind.IsBinaryOp)===t.SyntaxKind.IsBinaryOp},t.isConstructor=function(e){return(e.flags&t.NodeFlags.Constructor)===t.NodeFlags.Constructor},t.isDeclared=function(e){return(e.flags&t.NodeFlags.Declared)===t.NodeFlags.Declared},t.isEllipsis=function(e){return(e.kind&t.SyntaxKind.IsEllipsis)===t.SyntaxKind.IsEllipsis},t.isExpressionNode=function(e){return(e.flags&t.NodeFlags.ExpressionNode)===t.NodeFlags.ExpressionNode},t.isExpressionStart=function(e){return(e.kind&t.SyntaxKind.IsExpressionStart)===t.SyntaxKind.IsExpressionStart},t.isFutureReserved=function(e){return(e.kind&t.SyntaxKind.IsFutureReserved)===t.SyntaxKind.IsFutureReserved},t.isGenerator=function(e){return(e.flags&t.NodeFlags.Generator)===t.NodeFlags.Generator},t.isIdentifier=function(e){return(e.kind&t.SyntaxKind.IsIdentifier)===t.SyntaxKind.IsIdentifier},t.isImplicitOctal=function(e){return(e.flags&t.NodeFlags.LegacyOctal)===t.NodeFlags.LegacyOctal},t.isInOrOf=function(e){return(e.kind&t.SyntaxKind.IsInOrOf)===t.SyntaxKind.IsInOrOf},t.isKeyword=function(e){return(e.kind&t.SyntaxKind.IsKeyword)===t.SyntaxKind.IsKeyword},t.isLexical=function(e){return(e.flags&t.NodeFlags.Lexical)===t.NodeFlags.Lexical},t.isNoneSimpleParamList=function(e){return(e.flags&t.NodeFlags.NoneSimpleParamList)===t.NodeFlags.NoneSimpleParamList},t.isOctalIntegerLiteral=function(e){return(e.flags&t.NodeFlags.OctalIntegerLiteral)===t.NodeFlags.OctalIntegerLiteral},t.isPropertyOrCall=function(e){return(e.kind&t.SyntaxKind.IsPropertyOrCall)===t.SyntaxKind.IsPropertyOrCall},t.isSemicolon=function(e){return(e.kind&t.SyntaxKind.IsSemicolon)===t.SyntaxKind.IsSemicolon},t.isSingleQuote=function(e){return(e.flags&t.NodeFlags.SingleQuote)===t.NodeFlags.SingleQuote},t.isStartOfType=function(e){return(e.kind&t.SyntaxKind.IsStartOfType)===t.SyntaxKind.IsStartOfType},t.isStatementNode=function(e){return(e.flags&t.NodeFlags.IsStatement)===t.NodeFlags.IsStatement},t.isStatementStart=function(e){return(e.kind&t.SyntaxKind.IsStatementStart)===t.SyntaxKind.IsStatementStart},t.isTemplateLiteral=function(e){return(e.flags&t.NodeFlags.TemplateLiteral)===t.NodeFlags.TemplateLiteral},t.isTypeNode=function(e){return(e.flags&t.NodeFlags.IsTypeNode)===t.NodeFlags.IsTypeNode},t.lintModule=function(e,r,a){return Ki(e,"__root__",35127304|(r.fix?536870912:0),!0,function(o,l,p,d,c){r.reporter(o,l,p,d,c,e)},{lint:a})},t.lintScript=function(e,r,a){return Ki(e,"__root__",8|(r.fix?536870912:0),!1,function(o,l,p,d,c){r.reporter(o,l,p,d,c,e)},{lint:a})},t.parseModule=Np,t.parseScript=wp,t.print=function(e,r){return nl(e,r)},t.printModule=function(e,r){return nl(Np(e,{next:!0},function(a,o,l,p,d){throw l+"("+p+", "+d+")"}),r)},t.printScript=function(e,r){return nl(wp(e,{next:!0},function(a,o,l,p,d){throw l+"("+p+", "+d+")"}),r)},t.shouldIgnoreNextNode=function(e){return(e.flags&t.NodeFlags.IgnoreNextNode)===t.NodeFlags.IgnoreNextNode},t.tokenToString=u,t.unix=function(e,r,a,o,l,p){let d="",c=ml(p,o,l);d+=fl(p,o).toString()+":",d+=c.pos+":",d+=" "+a+" ",d+="["+xl(r)+"]",d+=`
`,console.log(d)},t.visitEachChild=function(e,r,a){if(!r||r.flags&t.NodeFlags.NoChildren)return;let o=r.kind;switch(o){case t.SyntaxKind.RootNode:return void function(l,p,d){if(ip(l),p!=null)for(let S of p)d(S);let c=sp(l);return function(S){if(S){if(S.length!==0)return S}else S=[];return S}((f=c,g=p,dl(g)?dl(f)?[...f,...g]:g:f));var f,g}(e,r.statements,a);case t.SyntaxKind.AssignmentExpression:return w(r.left,a),w(r.operatorToken,a),void w(r.right,a);case t.SyntaxKind.ExpressionStatement:return void w(r.expression,a);case t.SyntaxKind.ElementList:return void qe(r.elements,a);case t.SyntaxKind.ArrayLiteral:return void w(r.elementList,a);case t.SyntaxKind.ParenthesizedExpression:return void w(r.expression,a);case t.SyntaxKind.BinaryExpression:return w(r.left,a),w(r.operatorToken,a),void w(r.right,a);case t.SyntaxKind.ObjectLiteral:return void w(r.propertyList,a);case t.SyntaxKind.PropertyDefinitionList:return void qe(r.properties,a);case t.SyntaxKind.PropertyDefinition:return w(r.asteriskToken,a),w(r.left,a),void w(r.right,a);case t.SyntaxKind.ArgumentList:return void qe(r.elements,a);case t.SyntaxKind.Block:return void qe(r.statements,a);case t.SyntaxKind.ObjectBindingPattern:return void w(r.propertyList,a);case t.SyntaxKind.CallExpression:return w(r.expression,a),void w(r.argumentList,a);case t.SyntaxKind.BindingElementList:return void qe(r.elements,a);case t.SyntaxKind.VariableStatement:return w(r.declareKeyword,a),w(r.varKeyword,a),void w(r.declarationList,a);case t.SyntaxKind.VariableDeclaration:return w(r.binding,a),w(r.type,a),void w(r.initializer,a);case t.SyntaxKind.VariableDeclarationList:return void qe(r.declarations,a);case t.SyntaxKind.PropertyMethod:return w(r.asteriskToken,a),w(r.asyncKeyword,a),w(r.getKeyword,a),w(r.setKeyword,a),void w(r.method,a);case t.SyntaxKind.LexicalDeclaration:return w(r.lexicalKeyword,a),void w(r.binding,a);case t.SyntaxKind.ArrayBindingPattern:return void w(r.elementList,a);case t.SyntaxKind.LexicalBinding:return w(r.binding,a),w(r.type,a),void w(r.initializer,a);case t.SyntaxKind.BindingList:return void qe(r.bindingList,a);case t.SyntaxKind.BindingPropertyList:return void qe(r.properties,a);case t.SyntaxKind.BlockStatement:return void w(r.block,a);case t.SyntaxKind.ArrowParameterList:return void qe(r.parameters,a);case t.SyntaxKind.ArrowFunction:return w(r.arrowToken,a),w(r.typeParameters,a),w(r.arrowParameterList,a),w(r.asyncKeyword,a),w(r.returnType,a),void Ei(e,r.contents,a);case t.SyntaxKind.AwaitExpression:return w(r.awaitKeyword,a),void w(r.expression,a);case t.SyntaxKind.ForBinding:return w(r.varKeyword,a),void w(r.declarationList,a);case t.SyntaxKind.BindingElement:return w(r.ellipsisToken,a),w(r.left,a),w(r.optionalToken,a),w(r.type,a),void w(r.right,a);case t.SyntaxKind.BindingProperty:return w(r.key,a),w(r.value,a),void w(r.initializer,a);case t.SyntaxKind.OptionalExpression:return w(r.chainToken,a),w(r.member,a),void w(r.chain,a);case t.SyntaxKind.OptionalChain:return void w(r.chain,a);case t.SyntaxKind.ClassHeritage:return w(r.extendsKeyword,a),w(r.expression,a),void w(r.typeParameter,a);case t.SyntaxKind.ClassBody:return void qe(r.elements,a);case t.SyntaxKind.ClassTail:return w(r.classHeritage,a),void w(r.body,a);case t.SyntaxKind.ClassDeclaration:return w(r.declareKeyword,a),w(r.decorators,a),w(r.classKeyword,a),w(r.name,a),w(r.typeParameters,a),void w(r.tail,a);case t.SyntaxKind.CommaOperator:return void qe(r.expressions,a);case t.SyntaxKind.ComputedPropertyName:return void w(r.expression,a);case t.SyntaxKind.ConditionalExpression:return w(r.shortCircuit,a),w(r.questionToken,a),w(r.consequent,a),w(r.colonToken,a),void w(r.alternate,a);case t.SyntaxKind.CoverInitializedName:return w(r.left,a),void w(r.right,a);case t.SyntaxKind.ReturnStatement:return w(r.returnKeyword,a),void w(r.expression,a);case t.SyntaxKind.UnaryExpression:case t.SyntaxKind.PostfixUpdateExpression:case t.SyntaxKind.PrefixUpdateExpression:return w(r.operandToken,a),void w(r.operand,a);case t.SyntaxKind.NewExpression:return w(r.newKeyword,a),w(r.expression,a),void w(r.argumentList,a);case t.SyntaxKind.SpreadProperty:return w(r.ellipsisToken,a),void w(r.argument,a);case t.SyntaxKind.ForInStatement:return w(r.forKeyword,a),w(r.inKeyword,a),w(r.initializer,a),w(r.expression,a),void w(r.statement,a);case t.SyntaxKind.ForOfStatement:return w(r.forKeyword,a),w(r.ofKeyword,a),w(r.initializer,a),w(r.expression,a),w(r.statement,a),void w(r.awaitKeyword,a);case t.SyntaxKind.ForStatement:return w(r.forKeyword,a),w(r.initializer,a),w(r.condition,a),w(r.incrementor,a),void w(r.statement,a);case t.SyntaxKind.TaggedTemplate:return w(r.member,a),void w(r.template,a);case t.SyntaxKind.SpreadElement:return w(r.ellipsisToken,a),void w(r.argument,a);case t.SyntaxKind.TemplateExpression:return qe(r.spans,a),void w(r.tail,a);case t.SyntaxKind.TemplateSpan:return void w(r.expression,a);case t.SyntaxKind.ClassElement:return w(r.declareToken,a),w(r.decorators,a),w(r.asteriskToken,a),w(r.staticKeyword,a),w(r.asyncKeyword,a),w(r.setKeyword,a),w(r.getKeyword,a),void w(r.method,a);case t.SyntaxKind.ClassExpression:return w(r.decorators,a),w(r.classKeyword,a),w(r.name,a),w(r.typeParameters,a),void w(r.tail,a);case t.SyntaxKind.BreakStatement:return w(r.breakKeyword,a),void w(r.label,a);case t.SyntaxKind.ContinueStatement:return w(r.continueKeyword,a),void w(r.label,a);case t.SyntaxKind.CaseClause:return w(r.caseKeyword,a),w(r.expression,a),void qe(r.statements,a);case t.SyntaxKind.DefaultClause:return w(r.defaultKeyword,a),void qe(r.statements,a);case t.SyntaxKind.Catch:return w(r.catchKeyword,a),w(r.catchParameter,a),void w(r.block,a);case t.SyntaxKind.DoWhileStatement:return w(r.doKeyword,a),w(r.expression,a),w(r.whileKeyword,a),w(r.statement,a),void w(r.statement,a);case t.SyntaxKind.IfStatement:return w(r.ifKeyword,a),w(r.expression,a),w(r.consequent,a),w(r.elseKeyword,a),void w(r.alternate,a);case t.SyntaxKind.LabelledStatement:return w(r.label,a),w(r.colonToken,a),void w(r.statement,a);case t.SyntaxKind.SwitchStatement:return w(r.switchKeyword,a),w(r.expression,a),void w(r.caseBlock,a);case t.SyntaxKind.ThrowStatement:return w(r.throwKeyword,a),void w(r.expression,a);case t.SyntaxKind.CaseBlock:return void qe(r.clauses,a);case t.SyntaxKind.IndexExpression:return w(r.member,a),void w(r.expression,a);case t.SyntaxKind.IndexExpressionChain:case t.SyntaxKind.MemberAccessChain:return w(r.chain,a),void w(r.expression,a);case t.SyntaxKind.MemberAccessExpression:return w(r.member,a),void w(r.expression,a);case t.SyntaxKind.StaticBlock:return w(r.decorators,a),w(r.declaredKeyword,a),void w(r.block,a);case t.SyntaxKind.YieldExpression:return w(r.yieldKeyword,a),w(r.asteriskToken,a),void w(r.expression,a);case t.SyntaxKind.TryStatement:return w(r.tryKeyword,a),w(r.block,a),w(r.catchClause,a),w(r.finallyKeyword,a),void w(r.finallyBlock,a);case t.SyntaxKind.WhileStatement:return w(r.whileKeyword,a),w(r.expression,a),void w(r.statement,a);case t.SyntaxKind.WithStatement:return w(r.withKeyword,a),w(r.expression,a),void w(r.statement,a);case t.SyntaxKind.FunctionDeclaration:return w(r.declareKeyword,a),w(r.asyncKeyword,a),w(r.asteriskToken,a),w(r.name,a),w(r.formalParameterList,a),Ei(e,r.contents,a),w(r.typeParameters,a),void w(r.returnType,a);case t.SyntaxKind.FunctionExpression:return w(r.asyncKeyword,a),w(r.functionKeyword,a),w(r.asteriskToken,a),w(r.name,a),w(r.formalParameterList,a),Ei(e,r.contents,a),w(r.typeParameters,a),void w(r.returnType,a);case t.SyntaxKind.DecoratorList:return void qe(r.elements,a);case t.SyntaxKind.Decorator:return w(r.decoratorToken,a),void w(r.expression,a);case t.SyntaxKind.FormalParameterList:return ip(e),qe(r.formalParameters,a),void(e.lexicalEnvironmentSuspended=!0);case t.SyntaxKind.ImportClause:return w(r.defaultBinding,a),w(r.nameSpaceImport,a),void w(r.namedImports,a);case t.SyntaxKind.ExportDefault:return w(r.exportKeyword,a),w(r.defaultKeyword,a),void w(r.declaration,a);case t.SyntaxKind.NamespaceExportDeclaration:return void w(r.name,a);case t.SyntaxKind.NameSpaceImport:return w(r.asteriskToken,a),w(r.asKeyword,a),void w(r.binding,a);case t.SyntaxKind.ExportDeclaration:return w(r.exportKeyword,a),w(r.declaration,a),w(r.namedExports,a),w(r.fromClause,a),void w(r.exportFromClause,a);case t.SyntaxKind.ExportFromClause:return w(r.asteriskToken,a),w(r.asKeyword,a),w(r.namedBinding,a),void w(r.moduleExportName,a);case t.SyntaxKind.ExportSpecifier:return w(r.moduleExportName,a),w(r.name,a),void w(r.binding,a);case t.SyntaxKind.ExportsList:return void qe(r.specifiers,a);case t.SyntaxKind.ImportDeclaration:return w(r.importKeyword,a),w(r.typeKeyword,a),w(r.fromClause,a),w(r.moduleSpecifier,a),void w(r.importClause,a);case t.SyntaxKind.ImportSpecifier:return w(r.typeKeyword,a),w(r.moduleExportName,a),w(r.name,a),w(r.asKeyword,a),void w(r.binding,a);case t.SyntaxKind.ImportsList:return void qe(r.specifiers,a);case t.SyntaxKind.NamedExports:return void w(r.exportsList,a);case t.SyntaxKind.NamedImports:return void w(r.importsList,a);case t.SyntaxKind.CallChain:return w(r.chain,a),w(r.typeArguments,a),void w(r.argumentList,a);case t.SyntaxKind.FieldDefinition:return w(r.decorators,a),w(r.declaredToken,a),w(r.staticKeyword,a),w(r.asyncKeyword,a),w(r.key,a),w(r.optionalToken,a),w(r.type,a),void w(r.initializer,a);case t.SyntaxKind.FunctionStatementList:return qe(r.directives,a),void qe(r.statements,a);case t.SyntaxKind.FunctionBody:return void w(r.functionStatementList,a);case t.SyntaxKind.ImportCall:return w(r.importKeyword,a),void w(r.expression,a);case t.SyntaxKind.MethodDefinition:return w(r.name,a),w(r.typeParameters,a),w(r.formalParameterList,a),w(r.returnType,a),void Ei(e,r.contents,a)}if(r.flags&t.NodeFlags.IsTypeNode)switch(o){case t.SyntaxKind.ArrayType:return void w(r.type,a);case t.SyntaxKind.TypeReference:return w(r.typeName,a),void w(r.typeParameters,a);case t.SyntaxKind.FunctionType:return w(r.functionTypeParameterList,a),w(r.returnType,a),void w(r.typeParameters,a);case t.SyntaxKind.IndexedAccessType:return w(r.objectType,a),void w(r.indexType,a);case t.SyntaxKind.IntersectionType:return void qe(r.types,a);case t.SyntaxKind.OptionalType:return w(r.optionalToken,a),void w(r.type,a);case t.SyntaxKind.ParenthesizedType:return void w(r.type,a);case t.SyntaxKind.RestType:return w(r.ellipsisToken,a),void w(r.type,a);case t.SyntaxKind.TupleType:return void qe(r.elementTypes,a);case t.SyntaxKind.TypeParameter:return w(r.name,a),w(r.type,a),w(r.assignToken,a),void w(r.defaultType,a);case t.SyntaxKind.UnionType:return void qe(r.types,a);case t.SyntaxKind.ArrowFunctionType:return w(r.arrowTypeParameterList,a),w(r.arrowToken,a),w(r.returnType,a),void w(r.typeParameters,a);case t.SyntaxKind.ArrowTypeParameter:return w(r.ellipsisToken,a),w(r.name,a),w(r.optionalToken,a),void w(r.types,a);case t.SyntaxKind.ArrowTypeParameterList:case t.SyntaxKind.FunctionTypeParameterList:return void qe(r.parameters,a);case t.SyntaxKind.FunctionTypeParameter:return w(r.ellipsisToken,a),w(r.name,a),w(r.optionalToken,a),void w(r.types,a);case t.SyntaxKind.NullableType:return w(r.nullableToken,a),void w(r.type,a);case t.SyntaxKind.CallSignature:return w(r.protoKeyword,a),w(r.typeParameter,a),w(r.value,a),w(r.staticKeyword,a),void w(r.returnType,a);case t.SyntaxKind.IndexSignatureDeclaration:return w(r.protoKeyword,a),w(r.value,a),w(r.key,a),w(r.staticKeyword,a),void w(r.type,a);case t.SyntaxKind.InternalSlot:return w(r.protoKeyword,a),w(r.optionalToken,a),w(r.staticKeyword,a),void w(r.type,a);case t.SyntaxKind.TypeProperty:return w(r.getKeyword,a),w(r.setKeyword,a),w(r.key,a),w(r.type,a),w(r.optionalToken,a),w(r.staticKeyword,a),void w(r.protoKeyword,a);case t.SyntaxKind.OpaqueType:return w(r.declareToken,a),w(r.opaqueToken,a),w(r.typeToken,a),w(r.name,a),w(r.typeParameters,a),w(r.superType,a),void w(r.impltype,a);case t.SyntaxKind.QualifiedType:return w(r.qualification,a),void w(r.name,a);case t.SyntaxKind.TypeAnnotation:return w(r.bitwiseOrToken,a),w(r.bitwiseAndToken,a),void w(r.type,a);case t.SyntaxKind.TypeParameterDeclaration:return void qe(r.declarations,a);case t.SyntaxKind.TypeParameterInstantiation:return void qe(r.types,a);case t.SyntaxKind.TypeofType:return w(r.typeOfKeyword,a),void w(r.type,a)}},Object.defineProperty(t,"__esModule",{value:!0})})});var Cy={};fy(Cy,{transpile:()=>Fy});var Fp=Ae(Ce());function Ii(t,s,n){let i=[];var u=(0,Fp.parseModule)(s,{impliedStrict:!0,allowTypes:n.allowTypes??!1},(m,x,k,y,N)=>{let E=gy(s,t,x,k,y,N,n?.useColors);x===16?(console.error(E),i.push(E)):console.warn(E)});return u.fileName=t,{rootNode:u,fatalErrors:i}}function gy(t,s,n,i,u,m,x){let k=Sy(t,u,m),y=s+":";return y+=hy(t,u).toString()+":",y+=k.pos+":",x?y+=n===16?" \x1B[31merror:\x1B[0m":" warning:":y+=n===16?" error:":" warning:",y+=" "+i,y}function Sy(t,s,n){let i=t.lastIndexOf(`
`,s)+1;return{pos:s-i,end:n-i}}function hy(t,s){let n=1,i=0;for(;;){let u=t.indexOf(`
`,i+1);if(u===-1)return n+1;if(s>=i&&s<=u)return n;n++,i=u}}var as=Ae(Ce());var W="struct js_var",Ir="void",Ke="void *",Y="const char *",Cp="char",B="int16_t",_e="uint8_t",Yt="struct regex_struct_t";function gr(t){return typeof t=="string"?t:t.getBodyText()}function Ar(t){return typeof t=="string"?t:t.getText()}var D=class t{constructor(s,n,i){this.elementType=s;this.capacity=n;this.isDynamicArray=i}static getArrayStructName(s){for(;s.indexOf(B)>-1;)s=s.replace(B,"number");for(;s.indexOf(Y)>-1;)s=s.replace(Y,"string");for(;s.indexOf(Ke)>-1;)s=s.replace(Ke,"pointer");for(;s.indexOf(_e)>-1;)s=s.replace(_e,"bool");return s=s.replace(/^struct ([a-z0-9_]+)_t \*$/,(n,i)=>i).replace(/^struct js_var/,"js_var"),"array_"+s.replace(/^static /,"").replace("{var}","").replace(/[\[\]]/g,"").replace(/ /g,"_").replace(/const char \*/g,"string").replace(/\*/g,"p")+"_t"}getText(){let s=this.elementType,n;typeof s=="string"?n=s:n=s.getText();let i=t.getArrayStructName(n);return this.isDynamicArray?"struct "+i+" *":n.indexOf("{var}")>-1?n+"["+this.capacity+"]":"static "+n+" {var}["+this.capacity+"]"}getBodyText(){return gr(this.elementType)+"["+(this.isDynamicArray?"":this.capacity)+"]"}},me=class{constructor(s){this.propertyDefs=s}getText(){return this.forcedType||"struct "+this.structName+" *"}get properties(){return Object.keys(this.propertyDefs).sort((s,n)=>this.propertyDefs[s].order-this.propertyDefs[n].order).reduce((s,n)=>(s[n]=this.propertyDefs[n].type,s),{})}getBodyText(){return"{"+Object.keys(this.propertyDefs).sort().map(s=>s+": "+gr(this.properties[s])).join("; ")+"}"}},ae=class{constructor(s){this.elementType=s}getText(){return this.elementType==W?"struct dict_js_var_t *":"DICT("+(typeof this.elementType=="string"?this.elementType:this.elementType.getText())+")"}getBodyText(){return"{"+gr(this.elementType)+"}"}},xe=class t{static getReturnType(s,n){let i=s.getCType(n);return i&&i instanceof t?i.returnType:null}static getInstanceType(s,n){let i=s.getCType(n);return i&&i instanceof t?i.instanceType:null}getText(s=!1){if(this.closureParams.length&&!s)return"struct "+this.structName+" *";let n=Ar(this.returnType).replace(/ \{var\}\[\d+\]/g,"* {var}").replace(/^static /,"");return n.indexOf("{var}")==-1&&(n+=" {var}"),n.replace("{var}","(*{var}")+")("+this.parameterTypes.map(i=>Ar(i).replace(/ \{var\}/,"").replace(/^static /,"")).concat(this.closureParams.length?["struct "+this.structName+" *"]:[]).join(", ")+")"}getPointerToTypeText(){if(this.closureParams.length)return"struct "+this.structName+" *";let s=this.returnType instanceof t?this.returnType.getPointerToTypeText():Ar(this.returnType).replace(/ \{var\}\[\d+\]/g,"* {var}").replace(/^static /,"");return s.indexOf("{var}")==-1&&(s+=" {var}"),s.replace("{var}","(*{var}")+"("+this.parameterTypes.map(n=>Ar(n).replace(/ \{var\}/,"").replace(/^static /,"")).concat(this.closureParams.length?["struct "+this.structName+" *"]:[]).join(", ")+"))"}getBodyText(){let s=[].concat(this.parameterTypes);return this.instanceType&&s.unshift(this.instanceType),(this.returnTypeIsCircular?Ke:gr(this.returnType))+"("+s.map(i=>i?gr(i):Ke).join(", ")+(s.length>0&&this.argumentsType?", ":"")+(this.argumentsType?gr(this.argumentsType):"")+")"+(this.scopeType?" scope="+gr(this.scopeType):"")+(this.closureParams.length?" closure":"")+(this.needsClosureStruct?"_struct":"")+(this.closureParams.length?"={"+this.closureParams.map(i=>(i.assigned?"*":"")+i.node.text+"("+i.refs.map(u=>u.start).join(",")+")").join(", ")+"}":"")}constructor(s){this.returnType=s.returnType||Ir,this.returnTypeIsCircular=s.returnTypeIsCircular||!1,this.parameterTypes=s.parameterTypes||[],this.instanceType=s.instanceType||null,this.closureParams=s.closureParams||[],this.needsClosureStruct=s.needsClosureStruct||!1,this.scopeType=s.scopeType||null,this.structName=s.structName||null,this.argumentsType=s.argumentsType||null}};var M=Ae(Ce());var ht={},Ky=[];function ke(...t){return function(s){let n=new s;Ky.push(n);for(let i of t)Array.isArray(ht[i])||(ht[i]=[]),ht[i].push(n)}}var Ap=[];function lr(t){Ap.push(new t)}var vi=class{constructor(s){this.typeHelper=s}isStandardCall(s){let n=this.typeHelper.getCType(s.expression.member);for(let i of ht[s.expression.expression.text])if(i.matchesNode(n))return!0;return!1}matchStringPropName(s,n){if(ht[n]===void 0)return!1;let i=this.typeHelper.getCType(s);return Pi(i,n)}createTemplate(s,n){let i=this.typeHelper.getCType(n.expression.member);for(let u of ht[n.expression.expression.text])if(u.matchesNode(i))return u.createTemplate(s,n);return null}getObjectType(s){let n=this.typeHelper.getCType(s.expression.member);for(let i of ht[s.expression.expression.text])if(i.objectType&&i.matchesNode(n,{determineObjectType:!0}))return i.objectType(this.typeHelper,s);return null}getArgumentTypes(s){let n=s.argumentList.elements.map(u=>null),i=this.typeHelper.getCType(s.expression.member);for(let u of ht[s.expression.expression.text])if(u.argumentTypes&&u.matchesNode(i,{determineObjectType:!0}))return u.argumentTypes(this.typeHelper,s);return n}getReturnType(s){let n=this.typeHelper.getCType(s.expression.member);for(let i of ht[s.expression.expression.text])if(i.matchesNode(n))return i.returnType(this.typeHelper,s);return null}needsDisposal(s){let n=this.typeHelper.getCType(s.expression.member);for(let i of ht[s.expression.expression.text])if(i.matchesNode(n))return i.needsDisposal(this.typeHelper,s);return!1}getTempVarName(s){let n=this.typeHelper.getCType(s.expression.member);for(let i of ht[s.expression.expression.text])if(i.matchesNode(n))return i.getTempVarName(this.typeHelper,s);return console.warn("Internal error: cannot find matching resolver for node '"+te(s)+"' in StandardCallHelper.getTempVarName"),"tmp"}getEscapeNode(s){let n=this.typeHelper.getCType(s.expression.member);for(let i of ht[s.expression.expression.text])if(i.matchesNode(n))return i.getEscapeNode(this.typeHelper,s);return null}};function Pi(t,s){if(ht[s]===void 0)return!1;for(let n of ht[s])if(n.matchesNode(t))return!0;return!1}function Sl(t,s){for(var n of Ap)n.addSymbols(t,s)}function Xr(t){return t&&t.kind!==void 0&&t.flags!==void 0&&t.start!==void 0&&t.end!==void 0}function Oe(t){return t.kind===M.SyntaxKind.StringLiteral}function Xt(t){return t.kind===M.SyntaxKind.ObjectLiteral}function Sr(t){return t.kind===M.SyntaxKind.ArrayLiteral}function Ye(t){return t.kind===M.SyntaxKind.NumericLiteral}function Ip(t){return Ye(t)||Oe(t)||t.kind===M.SyntaxKind.RegularExpressionLiteral||t.kind==M.SyntaxKind.TrueKeyword||t.kind==M.SyntaxKind.FalseKeyword}function vp(t){return t.parent&&t.parent.kind===M.SyntaxKind.ElementList}function yt(t){return t&&t.kind==M.SyntaxKind.BinaryExpression||t.kind===M.SyntaxKind.AssignmentExpression}function lt(t){return t&&yt(t)&&t.operatorToken.kind==M.SyntaxKind.Assign}function Pp(t){return t&&lt(t)&&(ft(t.left)||Ge(t.left))}function mt(t){return t&&t.kind===M.SyntaxKind.CallExpression}function ma(t){return t&&t.parent&&t.parent.kind===M.SyntaxKind.ArgumentList&&t.parent.parent.kind===M.SyntaxKind.CallExpression}function Ut(t){return mt(t)&&Ge(t.expression)&&M.isIdentifier(t.expression.expression)&&ht[t.expression.expression.text]!==void 0}function Nt(t){return t.kind===M.SyntaxKind.FunctionDeclaration||t.kind===M.SyntaxKind.FunctionExpression}function dt(t){return t.kind===M.SyntaxKind.FunctionDeclaration}function Xa(t){return t.kind===M.SyntaxKind.FunctionExpression}function Vp(t){return t.parent&&t.parent.kind===M.SyntaxKind.FormalParameterList}function Vi(t){return t.kind===M.SyntaxKind.BindingElement}function vr(t){return t.kind===M.SyntaxKind.ReturnStatement}function it(t){return t.kind===M.SyntaxKind.VariableDeclaration||t.kind===M.SyntaxKind.LexicalBinding}function Lp(t){return t.kind===M.SyntaxKind.ForBinding}function ky(t){return t.kind===M.SyntaxKind.LexicalDeclaration}function Rp(t){return t.kind===M.SyntaxKind.VariableDeclarationList}function rt(t){return t.kind===M.SyntaxKind.PropertyDefinition}function $a(t){return t.kind===M.SyntaxKind.MemberAccessExpression&&(!mt(t.parent)||t.parent.expression!==t)}function Op(t){return t.kind===M.SyntaxKind.IndexExpression&&(!mt(t.parent)||t.parent.expression!==t)}function ft(t){return t.kind===M.SyntaxKind.MemberAccessExpression}function Ge(t){return t.kind===M.SyntaxKind.IndexExpression}function $t(t){return t.kind===M.SyntaxKind.MemberAccessExpression||t.kind===M.SyntaxKind.IndexExpression}function hl(t){return t.kind===M.SyntaxKind.ExpressionStatement}function Dp(t){return t.kind===M.SyntaxKind.WithStatement}function Kl(t){return Li(t)&&Za(t.initializer)}function kl(t){return Li(t)&&M.isIdentifier(t.initializer)}function Hp(t){return fa(t)&&Za(t.initializer)}function Za(t){return Lp(t)&&t.declarationList.declarations.length===1||ky(t)&&t.binding.bindingList.length===1}function $r(t){return Lp(t)?t.declarationList.declarations[0]:t.binding.bindingList[0]}function Bp(t){return fa(t)&&M.isIdentifier(t.initializer)}function by(t){return t.kind===M.SyntaxKind.IfStatement}function bl(t){return t.kind===M.SyntaxKind.WhileStatement}function wl(t){return t.kind===M.SyntaxKind.DoWhileStatement}function Nl(t){return t.kind===M.SyntaxKind.ForStatement}function Li(t){return t.kind===M.SyntaxKind.ForOfStatement}function fa(t){return t.kind===M.SyntaxKind.ForInStatement}function en(t){return t.kind===M.SyntaxKind.CaseClause}function Ri(t){return t.kind===M.SyntaxKind.Catch}function jp(t){return t.kind===M.SyntaxKind.BreakStatement}function Up(t){return t.kind===M.SyntaxKind.ContinueStatement}function jt(t){return t.kind===M.SyntaxKind.UnaryExpression||t.kind===M.SyntaxKind.PrefixUpdateExpression||t.kind===M.SyntaxKind.PostfixUpdateExpression}function tn(t){return t.kind===M.SyntaxKind.ParenthesizedExpression}function Tl(t){return t.kind===M.SyntaxKind.ConditionalExpression}var Zr=16636;function Mp(t){return t.kind===M.SyntaxKind.NullKeyword||t.kind===M.SyntaxKind.UndefinedKeyword}function zp(t){return jt(t)&&t.operandToken.kind===M.SyntaxKind.DeleteKeyword&&(Ge(t.operand)||ft(t.operand))}function qp(t){return jt(t)&&t.operandToken.kind===M.SyntaxKind.VoidKeyword}function _l(t){return t.kind===M.SyntaxKind.ThisKeyword}function El(t){return M.isIdentifier(t)&&t.text==="arguments"&&Me(t)!==void 0}function Pr(t){return yt(t)?M.isAssignOp(t.operatorToken):M.isAssignOp(t)}function Oi(t){return t===M.SyntaxKind.Subtract||t===M.SyntaxKind.SubtractAssign||t===M.SyntaxKind.Multiply||t===M.SyntaxKind.MultiplyAssign||t===M.SyntaxKind.Divide||t===M.SyntaxKind.DivideAssign||t===M.SyntaxKind.Modulo||t===M.SyntaxKind.ModuloAssign}function Di(t){return t===M.SyntaxKind.ShiftLeft||t===M.SyntaxKind.ShiftLeftAssign||t===M.SyntaxKind.ShiftRight||t===M.SyntaxKind.ShiftRightAssign||t===M.SyntaxKind.LogicalShiftRight||t===M.SyntaxKind.LogicalShiftRightAssign||t===M.SyntaxKind.BitwiseOr||t===M.SyntaxKind.BitwiseOrAssign||t===M.SyntaxKind.BitwiseAnd||t===M.SyntaxKind.BitwiseAndAssign}function Hi(t){return t===M.SyntaxKind.LessThan||t===M.SyntaxKind.LessThanOrEqual||t===M.SyntaxKind.GreaterThan||t===M.SyntaxKind.GreaterThanOrEqual}function Fl(t){return t===M.SyntaxKind.LooseEqual||t===M.SyntaxKind.StrictEqual||t===M.SyntaxKind.LooseNotEqual||t===M.SyntaxKind.StrictNotEqual}function xa(t){return t===M.SyntaxKind.LogicalOr||t===M.SyntaxKind.LogicalAnd}function Cl(t){return t==M.SyntaxKind.Add||t==M.SyntaxKind.AddAssign}function ea(t){return Oe(t)&&/^[A-Za-z_][A-Za-z_0-9]*$/.test(t.text)}function Bi(t){for(;yt(t.parent)&&xa(t.parent.operatorToken.kind);)t=t.parent;return jt(t.parent)&&t.parent.operandToken.kind===M.SyntaxKind.Negate||by(t.parent)&&t.parent.expression===t||bl(t.parent)&&t.parent.expression===t||wl(t.parent)&&t.parent.expression===t||Nl(t.parent)&&t.parent.condition===t}function Al(t){return Oe(t)||Ye(t)||M.isIdentifier(t)}function Gp(t){return lt(t)||Pr(t)||jt(t)&&t.operandToken.kind===M.SyntaxKind.Increment||jt(t)&&t.operandToken.kind===M.SyntaxKind.Decrement||mt(t)||ji(t)}function ji(t){return t.kind===M.SyntaxKind.NewExpression}function Jp(t){return t.parent&&t.parent.kind===M.SyntaxKind.ArgumentList&&t.parent.parent.kind===M.SyntaxKind.NewExpression}function Il(t,s,n){return Oi(s)||Di(s)||s==M.SyntaxKind.Add&&!ut(t)&&!ut(n)||Hi(s)&&(t!==Y||n!==Y)}function Wp(t){return t.kind===M.SyntaxKind.TypeAnnotation}function Qp(t,s,n,i){return n===M.SyntaxKind.Assign?i:Hi(n)||Fl(n)||n===M.SyntaxKind.InKeyword||n===M.SyntaxKind.InstanceofKeyword?_e:s==null||i==null?null:xa(n)?t(s,i).type:Oi(n)||Di(n)?ut(s)||ut(i)?W:B:n===M.SyntaxKind.Add||n===M.SyntaxKind.AddAssign?s===W||i===W?W:Yr(s)===Y||Yr(i)===Y?Y:Yr(s)===B&&Yr(i)==B?B:null:(console.log("WARNING: unexpected binary expression!"),null)}function Yp(t,s){return t===M.SyntaxKind.Negate?_e:t===M.SyntaxKind.Complement?B:t===M.SyntaxKind.DeleteKeyword?_e:t===M.SyntaxKind.VoidKeyword?W:t===M.SyntaxKind.TypeofKeyword?Y:ut(s)?W:B}function ut(t){return t!==null&&t!==Ke&&t!==B&&t!==_e&&!(t instanceof D&&!t.isDynamicArray&&t.capacity==1&&!ut(t.elementType))}function Yr(t){return t===null||t===Ke?t:t===B||t===_e?B:Y}function Me(t){let s=t;for(;s&&!Nt(s);)s=s.parent;return s}function Vr(t){let s=t;for(;s.kind!==M.SyntaxKind.RootNode;)s=s.parent;return s}function Xp(t){let s=[...Ya(t)],n=[],i;for(;i=s.shift();)Nt(i)?n.push(i):s.push.apply(s,Ya(i));return n}function Ui(t){let s=0,n=[...Ya(t)];for(;s<n.length;)Nt(n[s])?s++:n.push.apply(n,Ya(n[s++]));return n}var wy=M.createTransform();function Ya(t){let s=[];return M.visitEachChild(wy,t,n=>s.push(n)),s}function hr(t){let s=0,n=[t];for(;s<n.length;)n.push.apply(n,Ya(n[s++]));return n}function vl(t,s){let n=s;for(;n&&n!==t;)n=n.parent;return n}function te(t){if(t.start===-1)return"(synthesized node "+M.SyntaxKind[t.kind]+")";if(M.isIdentifier(t))return t.text;let s=t;for(;s.parent;)s=s.parent;return s.source.substring(t.start,t.end)}var j=class{new(s,n){}resolve(){return""}},Mi={},U=class{static createForNode(s,n){return Mi[n.kind]?new Mi[n.kind](s,n):"/* Unsupported node: "+te(n).replace(/[\n\s]+/g," ")+` */;
`}static templateToString(s){return typeof s=="string"?s:s.resolve()}};function O(t,s){return function(n){let i=function(u,m){let x=Reflect.construct(n,arguments),[k,y]=zi(t,x);return y&&u.statements.push(y),x.resolve=function(){return k},x};if(s)if(typeof s=="number")Mi[s]=i;else for(let u of s)Mi[u]=i;return i}}function zi(t,s){let n="";if(t.indexOf("{#statements}")>-1){let x=t.indexOf("{#statements}"),k=x+13,y=t.indexOf("{/statements}"),N=y+13;for(;x>0&&(t[x-1]==" "||t[x-1]==`
`);)x--;y>0&&t[y-1]==`
`&&y--;let E=t.slice(k,y).replace(/\n    /g,`
`),[P,R]=zi(E,s);n+=R+P,t=t.slice(0,x)+t.slice(N)}if(typeof s=="string")return[t.replace(/{this}/g,()=>s),n];let i;for(;(i=t.indexOf("{#if "))>-1;){let x=i;for(;x>0&&t[x-1]==" ";)x--;i+=5;let k=i;for(;t[i]!="}";)i++;let y=t.indexOf("{/if}",i),N=t.indexOf("{#elseif ",i),E=t.indexOf("{#else}",i);N!==-1&&N>y&&(N=-1),E!==-1&&E>y&&(E=-1);let P=y;N!=-1&&N<P&&(P=N),E!=-1&&E<P&&(P=E),P>0&&t[P-1]==`
`&&P--;let R=y+5;y>0&&t[y-1]==`
`&&y--;let L=t.slice(k,i);for(let de in s)L=L.replace(new RegExp("\\b"+de+"\\b","g"),function(ge){return"args."+ge});new Function("args","return "+L)(s)?t=t.slice(0,x)+t.slice(i+1,P).replace(/\n    /g,`
`).replace(/^\n+/,"")+t.slice(R):N>-1?t=t.slice(0,x)+"{#"+t.slice(N+6):E>-1?t=t.slice(0,x)+t.slice(E+7,y).replace(/\n    /g,`
`).replace(/^\n+/,"")+t.slice(R):t=t.slice(0,x)+t.slice(R)}let u=!1;for(var m in s)if(m!="resolve")if(s[m]&&s[m].push){let x={template:t};for(;Ny(x,m,s[m],n);)u=!0;t=x.template}else{let x=-1;for(;(x=t.indexOf("{"+m+"}"))>-1;){let k="";for(;t.length>x&&t[x-1]==" ";)x--,k+=" ";let y=s[m];y&&y.resolve&&(y=y.resolve()),y&&typeof y=="string"&&(y=y.replace(/\n/g,`
`+k)),t=t.replace("{"+m+"}",()=>y),u=!0}}return s.resolve&&!u&&t.indexOf("{this}")>-1&&(t=t.replace("{this}",()=>s.resolve())),t=t.replace(/^[\n]*/,"").replace(/\n\s*[\n\s]*\n/g,`

`).replace(/\{\n\s*\n/g,`{
`).replace(/\n\s*\n(\s*)\}/g,`
$1}`),[t,n]}function Ny(t,s,n,i){let u=t.template.indexOf("{"+s+"}");if(u!=-1){let P="";for(let R of n){let[L,se]=zi("{this}",R);i+=se,P+=L}return t.template=t.template.slice(0,u)+P+t.template.slice(u+s.length+2),!0}if(u==-1&&(u=t.template.indexOf("{"+s+" ")),u==-1&&(u=t.template.indexOf("{"+s+"=")),u==-1&&(u=t.template.indexOf("{"+s+"{")),u==-1)return!1;let m=u;for(u+=s.length+1;t.template[u]==" ";)u++;let x="";if(t.template[u]=="{"){for(u++;t.template[u]!="}"&&u<t.template.length;)x+=t.template[u],u++;u++}if(u>=t.template.length-2||t.template[u]!=="="||t.template[u+1]!==">")throw new Error("Internal error: incorrect template format for array "+s+".");u+=2,t.template[u]==" "&&t.template[u+1]!=" "&&u++;let k=1,y=u;for(;k>0;){if(u==t.template.length)throw new Error("Internal error: incorrect template format for array "+s+".");t.template[u]=="{"&&k++,t.template[u]=="}"&&k--,u++}let N=t.template.slice(y,u-1),E="";for(let P of n){let[R,L]=zi(N,P);if(i+=L,s=="statements")if(R=R.replace(/[;\n]+;([\s\r\n])/g,";$1"),R.search(/\n/)>-1)for(let se of R.split(`
`))se!=""&&(E!=""&&(E+=x),E+=se+`
`);else E!=""&&R!=""&&(E+=x),R.search(/^[\n\s]*$/)==-1&&(E+=R+`
`);else E!=""&&(E+=x),E+=R}if(n.length==0){for(;u<t.template.length&&t.template[u]==" ";)u++;for(u<t.template.length&&t.template[u]==`
`&&u++;m>0&&t.template[m-1]==" ";)m--;m>0&&t.template[m-1]==`
`&&m--,t.template[m]==`
`&&m++}return t.template=t.template.slice(0,m)+E.replace(/[\n\s]+$/,"")+t.template.slice(u),!0}var Kr=Ae(Ce());var Ka=Ae(Ce());var Rr=Ae(Ce());var xt=Ae(Ce());var ta={nothing:!0},qi={fixedStart:!0},Gi={fixedEnd:!0};Array.prototype.removeDuplicates=function(){return this.filter(function(t,s,n){return n.indexOf(t)==s})};function Pl(t){return t&&!!t.startGroup||!1}function Vl(t){return t&&!!t.endGroup||!1}function Rl(t){return t&&!!t.fromChar&&!!t.toChar||!1}var Ll=class{static parseEscaped(s){return s=="d"?["0","1","2","3","4","5","6","7","8","9"]:s=="w"?["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","W","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","w","z","0","1","2","3","4","5","6","7","8","9","_"]:s=="n"?[`
`]:s=="s"?["	"," "]:[s]}static parseChars(s,n,i){let u={tokens:[]};for(u[i]=!0;s[n]!="]";){if(s[n]=="\\")n++&&(u.tokens=u.tokens.concat(this.parseEscaped(s[n])));else if(s[n+1]=="-"&&s[n+2]!="]"){let m=s[n];for(n++,n++;m.charCodeAt(0)<=s[n].charCodeAt(0);)u.tokens.push(m),m=String.fromCharCode(m.charCodeAt(0)+1)}else u.tokens.push(s[n]);n++}return[u.tokens.length?u:null,n]}static parse(s,n=!1,i=0){let u={tokens:[]},m=[],x=()=>m.slice(-1)[0],k=null,y=0;for(;y<s.length;){let N=x();if(s[y]=="^"&&m.length==0)m.push(qi);else if(s[y]=="$"&&y==s.length-1||s.slice(y,y+2)=="$)"||s.slice(y,y+2)=="$|")m.push(Gi);else if(s[y]=="\\")y++,m.push({anyOf:!0,tokens:this.parseEscaped(s[y])});else if(s[y]==".")m.push({anyCharExcept:!0,tokens:[]});else if(s[y]=="*")m.pop(),typeof N=="string"?m.push({anyOf:!0,tokens:[ta,{tokens:[N],oneOrMore:!0}]}):m.push({anyOf:!0,tokens:[ta,{...N,oneOrMore:!0}]});else if(s[y]=="?")m.push({anyOf:!0,tokens:[ta,m.pop()]});else if(s[y]=="+")typeof N=="string"?m.push({oneOrMore:!0,tokens:[m.pop()]}):N.oneOrMore=!0;else if(s[y]=="|")u.tokens.push(m.length?{tokens:m}:ta),u.anyOf=!0,m=[];else if(s.slice(y,y+3)=="(?:")y+=3,({group:i,tokenTree:k}=this.parse(s.slice(y),!0,i))&&k&&m.push(k)&&(y+=k.template.length);else if(s[y]=="("){let E;y++,i++,{group:E,tokenTree:k}=this.parse(s.slice(y),!0,i),k&&m.push({tokens:[{startGroup:i},k,{endGroup:i}]})&&(y+=k.template.length),i=E}else{if(s[y]==")"&&n)break;s.slice(y,y+2)=="[^"?(y+=2,([k,y]=this.parseChars(s,y,"anyCharExcept"))&&k&&m.push(k)):s[y]=="["?(y++,([k,y]=this.parseChars(s,y,"anyOf"))&&k&&m.push(k)):m.push(s[y])}y++}return u.anyOf?u.tokens.push(m.length?{tokens:m}:ta):u.tokens=m,u.template=s.slice(0,y),{group:i,tokenTree:n&&u.tokens.length==0?null:u}}},Ji=class{static convert(s,n=[],i=0,u=0){let m=[i];if(typeof s=="string"||s.anyCharExcept)n.push({token:s,fromState:i,toState:++u}),m=[u];else if(s.anyOf){let k=[];s.tokens.indexOf(ta)>-1?m=[i]:m=[];for(let y of s.tokens.filter(N=>N!=ta&&N!=qi&&N!=Gi&&!Pl(N)&&!Vl(N))){let N=n.length,E=this.convert(y,n,i,u);u=E.finalState,E.nextFromState.length>1&&(m=m.concat(E.nextFromState.filter(P=>P!=u))),k=k.concat(n.slice(N).filter(P=>P.toState==u))}m=m.concat(u).removeDuplicates(),k.forEach(y=>y.toState=u)}else for(let k of s.tokens.filter(y=>y!=qi&&y!=Gi&&!Pl(y)&&!Vl(y))){let y=[],N=[];for(let E of m){let P=n.length,R=this.convert(k,n,E,u);N=N.concat(n.slice(P).filter(L=>L.toState==R.finalState)),y.push(R)}m=[].concat.apply([],y.map(E=>E.nextFromState)).removeDuplicates(),u=y.map(E=>E.finalState).reduce((E,P)=>Math.max(E,P),0)}if(typeof s!="string"&&s.oneOrMore)for(let k of n.filter(y=>y.toState==u))n.push({...k,toState:i});typeof s!="string"&&s.tokens[0]==qi&&n.filter(k=>k.fromState==i).forEach(k=>k.fixedStart=!0),typeof s!="string"&&s.tokens[s.tokens.length-1]==Gi&&n.filter(k=>k.toState==u).forEach(k=>k.fixedEnd=!0);let x;return typeof s!="string"&&Pl(x=s.tokens[0])&&n.filter(k=>k.fromState==i).forEach(k=>{k.startGroup=k.startGroup||[],k.startGroup.indexOf(x.startGroup)==-1&&k.startGroup.push(x.startGroup)}),typeof s!="string"&&Vl(x=s.tokens[s.tokens.length-1])&&n.filter(k=>k.toState==u).forEach(k=>{k.endGroup=k.endGroup||[],k.endGroup.indexOf(x.endGroup)==-1&&k.endGroup.push(x.endGroup)}),{transitions:n,nextFromState:m,finalState:u}}static normalize(s,n){if(!s.length)return[];let i=[];for(let P of n)s.map(R=>R.fromState).indexOf(P)==-1?s.push({fromState:P,final:!0}):s.filter(R=>R.fromState==P).forEach(R=>R.final=!0);var u=[],m=s.filter(P=>typeof P.token=="string"),x=s.filter(P=>typeof P.token!="string"&&P.token!=null);for(let P of x)for(let R of m){let L=P.token;R.fromState==P.fromState&&P.toState!=R.toState&&L.tokens.indexOf(R.token)==-1&&s.filter(se=>se.fromState==P.fromState&&se.toState==P.toState&&se.token==R.token).length==0&&u.push({fromState:P.fromState,toState:P.toState,token:R.token,startGroup:P.startGroup,endGroup:P.endGroup})}s=s.concat(u);let k={},y={},N=P=>{let R=P.map(L=>L.fromState).removeDuplicates().sort().join(",");return k[R]==null&&(k[R]=Object.keys(k).length),k[R]},E=[s.filter(P=>P.fromState==0)];for(;E.length;){let P=E.pop(),R=N(P);if(y[R])continue;i.push({transitions:[]}),P.filter(se=>se.final).length>0&&(i[i.length-1].final=!0),y[R]=!0;let L=[];for(let se of P.filter(de=>!!de.token)){let de=P.filter(G=>JSON.stringify(se.token)===JSON.stringify(G.token)&&L.indexOf(G)==-1);if(!de.length)continue;de.forEach(G=>L.push(G));let ge=de.map(G=>G.toState),be=s.filter(G=>ge.indexOf(G.fromState)>-1),Se=N(be),v=P.filter(G=>JSON.stringify(se.token)===JSON.stringify(G.token)),C=v.map(G=>G.startGroup).reduce((G,Ee)=>Ee==null?G:G.concat(Ee),[]).reduce((G,Ee)=>(G.indexOf(Ee)==-1&&G.push(Ee),G),[]),Xe=v.map(G=>G.endGroup).reduce((G,Ee)=>Ee==null?G:G.concat(Ee),[]).reduce((G,Ee)=>(G.indexOf(Ee)==-1&&G.push(Ee),G),[]);i[R].transitions.push({condition:se.token,next:Se,fixedStart:se.fixedStart,fixedEnd:se.fixedEnd,startGroup:C,endGroup:Xe}),E.unshift(be)}}for(let P of i){let R=P.transitions.filter(L=>typeof L.condition=="string").sort((L,se)=>L.condition>se.condition?1:-1);if(R.length>1){let L=[],se={fromChar:R[0].condition,toChar:R[0].condition};for(let de=1;de<=R.length;de++)de<R.length&&R[de].condition.charCodeAt(0)==R[de-1].condition.charCodeAt(0)+1&&R[de].next==R[de-1].next&&R[de].fixedStart==R[de-1].fixedStart&&R[de].fixedEnd==R[de-1].fixedEnd&&R[de].final==R[de-1].final&&JSON.stringify(R[de].startGroup)==JSON.stringify(R[de-1].startGroup)&&JSON.stringify(R[de].endGroup)==JSON.stringify(R[de-1].endGroup)?se.toChar=R[de].condition:(se.fromChar==se.toChar?L.push(R[de-1]):L.push({...R[de-1],condition:se}),de<R.length&&(se={fromChar:R[de].condition,toChar:R[de].condition}));P.transitions=L.concat(P.transitions.filter(de=>typeof de.condition!="string"))}}return i}static build(s){let{tokenTree:n}=Ll.parse(s),{transitions:i,nextFromState:u}=this.convert(n);return{states:this.normalize(i,u)}}};var ga=class extends j{constructor(n,i,u,m=null){super();this.regexName=u;this.stateBlocks=[];this.groupNumber=0;if(this.templateString=new Lt(n,i.replace(/\\/g,"\\\\").replace(/"/g,'\\"')),/\/[a-z]+$/.test(i))throw new Error("Flags not supported in regex literals yet ("+i+").");m=m||Ji.build(i.slice(1,-1));let x=(k,y)=>k&&k.reduce((N,E)=>Math.max(N,y(E),0),0)||0;this.groupNumber=x(m.states,k=>x(k.transitions,y=>x(y.startGroup,N=>N))),this.hasChars=m.states.filter(k=>k&&k.transitions.filter(y=>typeof y.condition=="string"||Rl(y.condition)||y.condition.tokens.length>0)).length>0;for(let k=0;k<m.states.length;k++)m.states[k]==null||m.states[k].transitions.length==0||this.stateBlocks.push(new rn(n,k+"",m.states[k],this.groupNumber));this.finals=m.states.length>0?m.states.map((k,y)=>k.final?y:-1).filter(k=>k>-1).map(k=>k+""):["-1"],this.groupNumber>0&&(n.root.headerFlags.malloc=!0),n.root.headerFlags.strings=!0,n.root.headerFlags.bool=!0}};ga=V([O(`
struct regex_match_struct_t {regexName}_search(const char *str, int16_t capture) {
    int16_t state = 0, next = -1, iterator, len = strlen(str), index = 0, end = -1;
    struct regex_match_struct_t result;
    {#if hasChars}
        char ch;
    {/if}
    {#if groupNumber}
        int16_t started[{groupNumber}];
        if (capture) {
            result.matches = malloc({groupNumber} * sizeof(*result.matches));
            assert(result.matches != NULL);
            regex_clear_matches(&result, {groupNumber});
            memset(started, 0, sizeof started);
        }
    {/if}
    for (iterator = 0; iterator < len; iterator++) {
        {#if hasChars}
            ch = str[iterator];
        {/if}

{stateBlocks}

        if (next == -1) {
            if ({finals { || }=> state == {this}})
                break;
            iterator = index;
            index++;
            state = 0;
            end = -1;
            {#if groupNumber}
                if (capture) {
                    regex_clear_matches(&result, {groupNumber});
                    memset(started, 0, sizeof started);
                }
            {/if}
        } else {
            state = next;
            next = -1;
        }

        if (iterator == len-1 && index < len-1 && {finals { && }=> state != {this}}) {
            if (end > -1)
                break;
            iterator = index;
            index++;
            state = 0;
            {#if groupNumber}
                if (capture) {
                    regex_clear_matches(&result, {groupNumber});
                    memset(started, 0, sizeof started);
                }
            {/if}
        }
    }
    if (end == -1 && {finals { && }=> state != {this}})
        index = -1;
    result.index = index;
    result.end = end == -1 ? iterator : end;
    result.matches_count = {groupNumber};
    return result;
}
struct regex_struct_t {regexName} = { {templateString}, {regexName}_search };
`)],ga);var rn=class extends j{constructor(n,i,u,m){super();this.stateNumber=i;this.groupNumber=m;this.conditions=[];this.groupsToReset=[];this.final=u.final;let x=[];u.transitions.forEach(y=>x=x.concat(y.startGroup||[]).concat(y.endGroup||[]));for(var k=0;k<m;k++)x.indexOf(k+1)==-1&&this.groupsToReset.push(k+"");for(let y of u.transitions)this.conditions.push(new an(y,m))}};rn=V([O(`
        if (state == {stateNumber}) {
            {#if final}
                end = iterator;
            {/if}
            {conditions {
            }=> {this}}
            {#if groupNumber && groupsToReset.length}
                if (capture && next == -1) {
                    {groupsToReset {
                    }=> started[{this}] = 0;}
                }
            {/if}
        }
`)],rn);var an=class extends j{constructor(n,i){super();this.anyCharExcept=!1;this.anyChar=!1;this.charClass=!1;this.fixedConditions="";n.fixedStart?this.fixedConditions=" && iterator == 0":n.fixedEnd&&(this.fixedConditions=" && iterator == len - 1"),typeof n.condition=="string"?this.ch=n.condition.replace("\\","\\\\").replace("'","\\'"):Rl(n.condition)?(this.charClass=!0,this.chFrom=n.condition.fromChar,this.ch=n.condition.toChar):n.condition.tokens.length?(this.anyCharExcept=!0,this.except=n.condition.tokens.map(x=>x.replace("\\","\\\\").replace("'","\\'"))):this.anyChar=!0;let u="";for(var m of n.startGroup||[])u+=" if (capture && (!started["+(m-1)+"] || iterator > result.matches["+(m-1)+"].end)) { started["+(m-1)+"] = 1; result.matches["+(m-1)+"].index = iterator; }";for(var m of n.endGroup||[])u+=" if (capture && started["+(m-1)+"]) result.matches["+(m-1)+"].end = iterator + 1;";this.nextCode="next = "+n.next+";",u&&(this.nextCode="{ "+this.nextCode+u+" }")}};an=V([O(`
{#if anyCharExcept}
    if (next == -1 && {except { && }=> ch != '{this}'}{fixedConditions}) {nextCode}
{#elseif anyChar}
    if (next == -1{fixedConditions}) {nextCode}
{#elseif charClass}
    if (ch >= '{chFrom}' && ch <= '{ch}'{fixedConditions}) {nextCode}
{#else}
    if (ch == '{ch}'{fixedConditions}) {nextCode}
{/if}`)],an);var ra=class extends j{constructor(n){super();this.expression=n}};ra=V([O("{expression}.str")],ra);var Ve=class extends j{constructor(s,n,i){super(),this.expression=Xr(n)?U.createForNode(s,n):n,i=i||Xr(n)&&s.root.typeHelper.getCType(n),this.isUniversalVar=i===W,this.isString=i===Y,this.isNumber=i===B,this.isBoolean=i===_e,this.isArray=i instanceof D,this.isDict=i instanceof me||i instanceof ae,i===Y&&(s.root.headerFlags.js_var_from_str=!0),i===B&&(s.root.headerFlags.js_var_from_int16_t=!0),i===_e&&(s.root.headerFlags.js_var_from_uint8_t=!0),i instanceof D&&(s.root.headerFlags.js_var_array=!0),(i instanceof me||i instanceof ae)&&(s.root.headerFlags.js_var_dict=!0),s.root.headerFlags.js_var=!0}};Ve=V([O(`
{#if isUniversalVar}
    {expression}
{#elseif isString}
    js_var_from_str({expression})
{#elseif isNumber}
    js_var_from_int16_t({expression})
{#elseif isBoolean}
    js_var_from_uint8_t({expression})
{#elseif isArray}
    js_var_from_array({expression})
{#elseif isDict}
    js_var_from_dict({expression})
{#else}
    /** converting {expression} to js_var is not supported yet */
{/if}`)],Ve);var Kt=class extends j{constructor(n,i,u){super();this.type=u;this.isSingleElementStaticArray=!1;this.expression=Xr(i)?U.createForNode(n,i):i,u=u||Xr(i)&&n.root.typeHelper.getCType(i),this.isNumber=u===B,this.isString=u===Y,this.isBoolean=u===_e,this.isUniversalVar=u===W,u instanceof D&&!u.isDynamicArray&&u.capacity===1&&(this.isSingleElementStaticArray=!0,this.arrayFirstElementAsNumber=new Kt(n,new st(n,u,this.expression,"0"),u.elementType)),this.isString&&(n.root.headerFlags.str_to_int16_t=!0),this.isUniversalVar&&(n.root.headerFlags.js_var_to_number=!0),!this.isNumber&&!this.isBoolean&&!this.isString&&!this.isUniversalVar&&!this.isSingleElementStaticArray&&(n.root.headerFlags.js_var_from=!0)}};Kt=V([O(`
{#if isNumber || isBoolean}
    {expression}
{#elseif isString}
    str_to_int16_t({expression})
{#elseif isUniversalVar}
    js_var_to_number({expression})
{#elseif isSingleElementStaticArray}
    {arrayFirstElementAsNumber}
{#else}
    js_var_from(JS_VAR_NAN)
{/if}`)],Kt);var dr=class extends j{constructor(n,i){super();this.gcVarName="";let u=n.root.typeHelper.getCType(i);if(this.arg=U.createForNode(n,i),this.isNumberLiteral=Ye(i),this.isNumber=!this.isNumberLiteral&&u===B,this.isString=u===Y,this.isBoolean=u===_e,this.isUniversalVar=u===W,this.isArray=u instanceof D,(this.isNumber||this.isArray||this.isUniversalVar)&&(this.tmpVarName=n.root.memoryManager.getReservedTemporaryVarName(i),n.variables.push(new q(n,this.tmpVarName,"char *")),this.gcVarName=n.root.memoryManager.getGCVariableForNode(i),this.gcVarName&&(n.root.headerFlags.gc_iterator=!0)),this.isNumber&&(n.root.headerFlags.str_int16_t_buflen=!0),u instanceof D){this.iteratorVarName=n.root.symbolsHelper.addIterator(i),n.variables.push(new q(n,this.iteratorVarName,B));let m=new st(n,u,this.arg,this.iteratorVarName);this.arrayElementCat=new cr(n,i,this.tmpVarName,m,u.elementType),this.arraySize=new Tt(n,this.arg,u),this.arrayStrLen=new Lr(n,i,this.arg,u)}}};dr=V([O(`
{#statements}
    {#if isNumber}
        {tmpVarName} = malloc(STR_INT16_T_BUFLEN);
        assert({tmpVarName} != NULL);
        sprintf({tmpVarName}, "%d", {arg});
    {#elseif isUniversalVar}
        {tmpVarName} = js_var_to_str({arg}, &{needDisposeVarName});
        if ({needDisposeVarName})
            ARRAY_PUSH(gc_main, (void *){tmpVarName});
    {#elseif isArray}
        {tmpVarName} = malloc({arrayStrLen});
        assert({tmpVarName} != NULL);
        {tmpVarName}[0] = '\\0';
        for ({iteratorVarName} = 0; {iteratorVarName} < {arraySize}; {iteratorVarName}++) {
            if ({iteratorVarName} != 0)
                strcat({tmpVarName}, ",");
            {arrayElementCat}
        }
    {/if}
    {#if gcVarName}
        ARRAY_PUSH({gcVarName}, (void *){tmpVarName});
    {/if}
{/statements}
{#if isNumberLiteral}
    "{arg}"
{#elseif isString}
    {arg}
{#elseif isBoolean}
    ({arg} ? "true" : "false")
{#elseif isUniversalVar || isArray || isNumber}
    {tmpVarName}
{#else}
    "[object Object]"
{/if}`)],dr);var Lr=class extends j{constructor(n,i,u,m){super();this.arg=u;this.type=m;this.isNumber=m===B,this.isString=m===Y,this.isBoolean=m===_e,this.isArrayOfString=m instanceof D&&m.elementType===Y,this.isArrayOfNumber=m instanceof D&&m.elementType===B,this.isArrayOfBoolean=m instanceof D&&m.elementType===_e,this.isArrayOfUniversalVar=m instanceof D&&m.elementType===W,this.isArrayOfArray=m instanceof D&&m.elementType instanceof Array,this.isArrayOfObj=m instanceof D&&(m.elementType instanceof ae||m.elementType instanceof me),this.arraySize=m instanceof D&&new Tt(n,u,m),(this.isArrayOfString||this.isArrayOfUniversalVar)&&(this.iteratorVarName=n.root.symbolsHelper.addIterator(i),n.variables.push(new q(n,this.iteratorVarName,B)),this.arrayElement=new st(n,m,u,this.iteratorVarName),this.lengthVarName=n.root.symbolsHelper.addTemp(i,"len"),n.variables.push(new q(n,this.lengthVarName,B)),n.root.headerFlags.strings=!0),this.isArrayOfUniversalVar&&(this.tmpVarName=n.root.symbolsHelper.addTemp(i,"tmp",!1),this.needDisposeVarName=n.root.symbolsHelper.addTemp(i,"need_dispose",!1),n.variables.some(x=>x.name==this.tmpVarName)||n.variables.push(new q(n,this.tmpVarName,Y)),n.variables.some(x=>x.name==this.needDisposeVarName)||n.variables.push(new q(n,this.needDisposeVarName,_e)),n.root.headerFlags.js_var_to_str=!0)}};Lr=V([O(`
{#statements}
    {#if isArrayOfString}
        {lengthVarName} = {arraySize};
        for ({iteratorVarName} = 0; {iteratorVarName} < {arraySize}; {iteratorVarName}++)
            {lengthVarName} += strlen({arrayElement});
    {#elseif isArrayOfUniversalVar}
        {lengthVarName} = {arraySize};
        for ({iteratorVarName} = 0; {iteratorVarName} < {arraySize}; {iteratorVarName}++) {
            {lengthVarName} += strlen({tmpVarName} = js_var_to_str({arrayElement}, &{needDisposeVarName}));
            if ({needDisposeVarName})
                free((void *){tmpVarName});
        }
    {/if}
{/statements}
{#if isNumber}
    STR_INT16_T_BUFLEN
{#elseif isString}
    strlen({arg})
{#elseif isBoolean}
    (5-{arg})
{#elseif isArrayOfNumber}
    (STR_INT16_T_BUFLEN + 1) * {arraySize}
{#elseif isArrayOfBoolean}
    6 * {arraySize}
{#elseif isArrayOfObj}
    16 * {arraySize}
{#elseif isArrayOfString || isArrayOfUniversalVar}
    {lengthVarName}
{#elseif isArrayOfArray}
    /* determining string length of array {arg} is not supported yet */
{#else}
    15
{/if}`)],Lr);var cr=class extends j{constructor(n,i,u,m,x){super();this.buf=u;this.arg=m;this.type=x;this.isArray=!1;if(this.isNumber=x===B,this.isString=x===Y,this.isBoolean=x===_e,this.isUniversalVar=x===W,this.isNumber&&(n.root.headerFlags.str_int16_t_cat=!0),this.isUniversalVar&&(this.tmpVarName=n.root.symbolsHelper.addTemp(i,"tmp",!1),this.needDisposeVarName=n.root.symbolsHelper.addTemp(i,"need_dispose",!1),n.variables.some(k=>k.name==this.tmpVarName)||n.variables.push(new q(n,this.tmpVarName,Y)),n.variables.some(k=>k.name==this.needDisposeVarName)||n.variables.push(new q(n,this.needDisposeVarName,_e)),n.root.headerFlags.js_var_to_str=!0),x instanceof D){this.isArray=!0,this.iteratorVarName=n.root.symbolsHelper.addIterator(i),n.variables.push(new q(n,this.iteratorVarName,B));let k=new st(n,x,m,this.iteratorVarName);this.arrayElementCat=new cr(n,i,u,k,x.elementType),this.arraySize=new Tt(n,m,x)}}};cr=V([O(`
{#if isNumber}
    str_int16_t_cat({buf}, {arg});
{#elseif isString}
    strcat({buf}, {arg});
{#elseif isBoolean}
    strcat({buf}, {arg} ? "true" : "false");
{#elseif isUniversalVar}
    strcat({buf}, ({tmpVarName} = js_var_to_str({arg}, &{needDisposeVarName})));
    if ({needDisposeVarName})
        free((void *){tmpVarName});
{#elseif isArray}
    for ({iteratorVarName} = 0; {iteratorVarName} < {arraySize}; {iteratorVarName}++) {
        if ({iteratorVarName} != 0)
            strcat({buf}, ",");
        {arrayElementCat}
    }
{#else}
    strcat({buf}, "[object Object]");
{/if}
`)],cr);var Wi=class extends j{constructor(n,i){super();this.universalWrapper=!1;let u=i.elementList.elements.length,m=n.root.typeHelper.getCType(i);if(m===W&&(m=new D(W,0,!0),this.universalWrapper=!0,n.root.headerFlags.js_var_array=!0),m instanceof D){let x,k=i.elementList.elements.every(y=>Ye(y)||Oe(y));if(!m.isDynamicArray&&k){x=n.root.symbolsHelper.addTemp(i,"tmp_array");let y="{ ";for(let N=0;N<u;N++){N!=0&&(y+=", ");let E=U.createForNode(n,i.elementList.elements[N]);y+=typeof E=="string"?E:E.resolve()}y+=" }",n.variables.push(new q(n,x,m,{initializer:y}))}else{if(m.isDynamicArray){x=n.root.memoryManager.getReservedTemporaryVarName(i),n.root.memoryManager.variableWasReused(i)||n.func.variables.push(new q(n,x,m,{initializer:"NULL"})),n.root.headerFlags.array=!0,n.statements.push("ARRAY_CREATE("+x+", "+Math.max(u,2)+", "+u+`);
`);let y=n.root.memoryManager.getGCVariableForNode(i);y&&(n.statements.push("ARRAY_PUSH("+y+", (void *)"+x+`);
`),n.root.headerFlags.gc_iterator=!0,n.root.headerFlags.array=!0)}else x=n.root.symbolsHelper.addTemp(i,"tmp_array"),n.variables.push(new q(n,x,m));for(let y=0;y<u;y++){let N=new kt(n,x,y+"",m,i.elementList.elements[y]);n.statements.push(N)}}this.expression=x}else if(m instanceof ae){let x=n.root.memoryManager.getReservedTemporaryVarName(i);n.root.memoryManager.variableWasReused(i)||n.func.variables.push(new q(n,x,m,{initializer:"NULL"})),n.root.headerFlags.dict=!0,n.statements.push("DICT_CREATE("+x+", "+Math.max(u,2)+`);
`);let k=n.root.memoryManager.getGCVariableForNode(i);k&&(n.statements.push("ARRAY_PUSH("+k+", (void *)"+x+`);
`),n.root.headerFlags.gc_iterator=!0,n.root.headerFlags.array=!0);for(let y=0;y<u;y++){let N=new kt(n,x,'"'+y+'"',m,i.elementList.elements[y]);n.statements.push(N)}this.expression=x}else this.expression="/* Unsupported use of array literal expression */"}};Wi=V([O(`
{#if universalWrapper}
    js_var_from_array({expression})
{#else}
    {expression}
{/if}`,xt.SyntaxKind.ArrayLiteral)],Wi);var Sa=class extends j{constructor(n,i){super();this.expression="";this.universalWrapper=!1;let u=n.root.typeHelper.getCType(i);if(u===W&&(u=new ae(W),this.universalWrapper=!0,n.root.headerFlags.js_var_dict=!0),this.isStruct=u instanceof me,this.isDict=u instanceof ae,this.isStruct||this.isDict){let m=n.root.memoryManager.getReservedTemporaryVarName(i);n.root.memoryManager.variableWasReused(i)||n.func.variables.push(new q(n,m,u,{initializer:"NULL"})),this.allocator=new Mt(n,m,u,i),this.initializers=i.propertyList.properties.filter(x=>rt(x)).map(x=>{let k=(xt.isIdentifier(x.left)||Oe(x.left))&&x.left.text;return new kt(n,m,this.isDict?'"'+k+'"':k,u,x.right)}),this.expression=m}else this.expression="/* Unsupported use of object literal expression */"}};Sa=V([O(`
{#statements}
    {#if isStruct || isDict}
        {allocator}
        {initializers}
    {/if}
{/statements}
{#if universalWrapper}
    js_var_from_dict({expression})
{#else}
    {expression}
{/if}`,xt.SyntaxKind.ObjectLiteral)],Sa);var Qi={},Yi=class extends j{constructor(n,i){super();this.expression="";let u=i.text;Qi[u]||(Qi[u]=n.root.symbolsHelper.addTemp(Vr(i),"regex"),n.root.functions.splice(n.parent?-2:-1,0,new ga(n,u,Qi[u]))),this.expression=Qi[u],n.root.headerFlags.regex=!0}};Yi=V([O("{expression}",xt.SyntaxKind.RegularExpressionLiteral)],Yi);var Lt=class extends j{constructor(n,i){super();this.universalWrapper=!1;let u=typeof i=="string"?'"'+i+'"':i.rawText.trim();u=u.replace(/\\u([A-Fa-f0-9]{4})/g,(m,x)=>String.fromCharCode(parseInt(x,16))),u.indexOf("'")==0?this.value='"'+u.replace(/"/g,'\\"').replace(/([^\\])\\'/g,"$1'").slice(1,-1)+'"':this.value=u,typeof i!="string"&&n.root.typeHelper.getCType(i)==W&&(this.value=new Ve(n,this.value,Y))}};Lt=V([O("{value}",xt.SyntaxKind.StringLiteral)],Lt);var Xi=class{constructor(s,n){this.universalWrapper=!1;xt.hexIntegerLiteral(n)||xt.isOctalIntegerLiteral(n)?this.value=n.rawText:this.value=""+n.text,s.root.typeHelper.getCType(n)==W&&(this.value=new Ve(s,this.value,B))}};Xi=V([O("{value}",xt.SyntaxKind.NumericLiteral)],Xi);var $i=class extends j{constructor(s,n){super(),this.value=n.kind==xt.SyntaxKind.TrueKeyword?"TRUE":"FALSE",s.root.headerFlags.bool=!0,s.root.typeHelper.getCType(n)==W&&(this.value=new Ve(s,this.value,_e))}};$i=V([O("{value}",[xt.SyntaxKind.TrueKeyword,xt.SyntaxKind.FalseKeyword])],$i);var Zi=class extends j{constructor(s){super(),s.root.headerFlags.js_var_from=!0}};Zi=V([O("js_var_from(JS_VAR_NULL)",xt.SyntaxKind.NullKeyword)],Zi);var ha=class extends j{constructor(s){super(),s.root.headerFlags.js_var_from=!0}};ha=V([O("js_var_from(JS_VAR_UNDEFINED)",xt.SyntaxKind.UndefinedKeyword)],ha);var es=class extends j{constructor(s){super(),s.root.headerFlags.js_var_from=!0}};es=V([O("js_var_from(JS_VAR_NAN)",Zr)],es);var pe=class extends j{constructor(s,n){super();let i=null,u=null,m=null,x=!1;if(Rr.isIdentifier(n)){if(i=s.root.typeHelper.getCType(n),x=s.root.typeHelper.isScopeVariable(n),u=n.text,Bi(n)&&i instanceof D&&!i.isDynamicArray)m="0";else if(i instanceof xe&&i.needsClosureStruct){let N=s.root.typeHelper.getDeclaration(n);u=N&&s.root.memoryManager.getReservedTemporaryVarName(N.parent)||u}}else if(Ge(n))i=s.root.typeHelper.getCType(n.member),Rr.isIdentifier(n.member)?(u=n.member.text,x=s.root.typeHelper.isScopeVariable(n.member)):u=new pe(s,n.member),i===W?(m='js_var_from_str("'+n.expression.text+'")',s.root.headerFlags.js_var_from_str=!0):i instanceof ae?m='"'+n.expression.text+'"':m=n.expression.text;else if(ft(n))if(i=s.root.typeHelper.getCType(n.member),Rr.isIdentifier(n.member)?(u=n.member.text,x=s.root.typeHelper.isScopeVariable(n.member)):u=new pe(s,n.member),i instanceof ae)m=new dr(s,n.expression);else if(i===W)m=new Ve(s,n.expression);else if(i instanceof me&&Oe(n.expression)){let N=n.expression.text;N.search(/^[_A-Za-z][_A-Za-z0-9]*$/)>-1?m=N:m=U.createForNode(s,n.expression)}else m=U.createForNode(s,n.expression);else i=s.root.typeHelper.getCType(n),u=U.createForNode(s,n);let k=Me(n),y=s.root.typeHelper.getCType(k);y&&y.needsClosureStruct&&y.closureParams.some(N=>N.refs.some(E=>E.start===n.start))?u=s.root.symbolsHelper.getClosureVarName(k)+"->scope->"+U.templateToString(u):y&&y.closureParams.some(N=>N.refs.some(E=>E.start===n.start)&&N.assigned)?u="*"+U.templateToString(u):x&&(u=s.root.symbolsHelper.getScopeVarName(k)+"->"+U.templateToString(u)),this.simpleAccessor=new st(s,i,u,m)}};pe=V([O("{simpleAccessor}",[Rr.SyntaxKind.MemberAccessExpression,Rr.SyntaxKind.IndexExpression,Rr.SyntaxKind.Identifier])],pe);var st=class extends j{constructor(n,i,u,m){super();this.elementAccess=u;this.argumentExpression=m;this.isDynamicArray=!1;this.isStaticArray=!1;this.isStruct=!1;this.isDict=!1;this.isString=!1;this.nullValue="0";this.isUniversalAccess=!1;this.isSimpleVar=typeof i=="string"&&i!=W&&i!=Ke,this.isDynamicArray=i instanceof D&&i.isDynamicArray,this.isStaticArray=i instanceof D&&!i.isDynamicArray,this.arrayCapacity=i instanceof D&&!i.isDynamicArray&&i.capacity+"",this.isDict=i instanceof ae,this.isStruct=i instanceof me,i===W&&m!=null&&(this.isUniversalAccess=!0,n.root.headerFlags.js_var_get=!0),this.isString=i===Y,m!=null&&i instanceof ae&&i.elementType===W&&(this.nullValue=new ha(n)),this.isString&&this.argumentExpression=="length"&&(n.root.headerFlags.str_len=!0)}};st=V([O(`
{#if isString && argumentExpression == 'length'}
    str_len({elementAccess})
{#elseif isSimpleVar || argumentExpression == null}
    {elementAccess}
{#elseif isDynamicArray && argumentExpression == 'length'}
    {elementAccess}->size
{#elseif isDynamicArray}
    {elementAccess}->data[{argumentExpression}]
{#elseif isStaticArray && elementAccess == 'arguments' && argumentExpression == 'length'}
    arguments_n
{#elseif isStaticArray && argumentExpression == 'length'}
    {arrayCapacity}
{#elseif isStaticArray}
    {elementAccess}[{argumentExpression}]
{#elseif isStruct}
    {elementAccess}->{argumentExpression}
{#elseif isDict}
    DICT_GET({elementAccess}, {argumentExpression}, {nullValue})
{#elseif isUniversalAccess}
    js_var_get({elementAccess}, {argumentExpression})
{#else}
    /* Unsupported element access scenario: {elementAccess} {argumentExpression} */
{/if}`)],st);var Tt=class extends j{constructor(n,i,u){super();this.varAccess=i;this.type=u;this.arrayCapacity=u.capacity+""}};Tt=V([O(`
{#if type.isDynamicArray}
    {varAccess}->size
{#else}
    {arrayCapacity}
{/if}`)],Tt);var pr=class{static create(s,n,i,u=!1){let m,x,k;if(ft(n))if(x=s.root.typeHelper.getCType(n.member),Ka.isIdentifier(n.member)?m=n.member.text:m=new pe(s,n.member),x instanceof me&&Oe(n.expression)){let y=n.expression.text;y.search(/^[_A-Za-z][_A-Za-z0-9]*$/)>-1?k=y:k=U.createForNode(s,n.expression)}else x instanceof ae?k=new dr(s,n.expression):k=U.createForNode(s,n.expression);else Ge(n)?(x=s.root.typeHelper.getCType(n.member),x instanceof ae||x===W?(Ka.isIdentifier(n.member)?m=n.member.text:m=new pe(s,n.member),k='"'+n.expression.text+'"'):(x=s.root.typeHelper.getCType(n),m=new pe(s,n),k=null)):(x=s.root.typeHelper.getCType(n),m=new pe(s,n),k=null);return new kt(s,m,k,x,i,u)}},kt=class extends j{constructor(n,i,u,m,x,k=!1){super();this.accessor=i;this.argumentExpression=u;this.isObjLiteralAssignment=!1;this.isArrayLiteralAssignment=!1;this.isDynamicArray=!1;this.isStaticArray=!1;this.isStruct=!1;this.isDict=!1;this.isNewExpression=!1;this.isUniversalVar=!1;this.assignmentRemoved=!1;this.CR=k?"":`;
`,this.isNewExpression=x.kind===Ka.SyntaxKind.NewExpression,this.isDynamicArray=m instanceof D&&m.isDynamicArray,this.isStaticArray=m instanceof D&&!m.isDynamicArray,this.isDict=m instanceof ae,this.isStruct=m instanceof me,this.isUniversalVar=m===W,this.nodeText=te(x);let y=m,N=i;u&&(m instanceof me&&typeof u=="string"?y=m.properties[u]:(m instanceof D||m instanceof ae)&&(y=m.elementType),N=new st(n,m,i,u));let E=!!n.root.memoryManager.getReservedTemporaryVarName(x);if(Xt(x)&&!E){this.isObjLiteralAssignment=!0;let P=x;this.objInitializers=P.propertyList.properties.filter(rt).map(R=>{let L=(Ka.isIdentifier(R.left)||Oe(R.left))&&R.left.text;return new kt(n,N,this.isDict?'"'+L+'"':L,y,R.right)})}else Sr(x)&&!E?(this.isArrayLiteralAssignment=!0,this.arrayLiteralSize=x.elementList.elements.length,this.arrInitializers=x.elementList.elements.map((P,R)=>new kt(n,N,""+R,y,P))):!this.isUniversalVar&&y==W?this.expression=new Ve(n,x):this.expression=U.createForNode(n,x);if(this.argumentExpression==null){let P=typeof this.expression=="string"?this.expression:this.expression&&this.expression.resolve&&this.expression.resolve(),R=typeof this.accessor=="string"?this.accessor:this.accessor&&this.accessor.resolve&&this.accessor.resolve();(P==""||R==P||"((void *)"+R+")"==P)&&(this.assignmentRemoved=!0)}}};kt=V([O(`
{#if assignmentRemoved}
{#elseif isNewExpression}
    {expression}{CR}
{#elseif isObjLiteralAssignment}
    {objInitializers}
{#elseif isArrayLiteralAssignment}
    {arrInitializers}
{#elseif isDynamicArray && argumentExpression == null}
    {accessor} = ((void *){expression}){CR}
{#elseif argumentExpression == null}
    {accessor} = {expression}{CR}
{#elseif isStruct}
    {accessor}->{argumentExpression} = {expression}{CR}
{#elseif isDict}
    DICT_SET({accessor}, {argumentExpression}, {expression}){CR}
{#elseif isDynamicArray}
    {accessor}->data[{argumentExpression}] = {expression}{CR}
{#elseif isStaticArray}
    {accessor}[{argumentExpression}] = {expression}{CR}
{#elseif isUniversalVar}
    if ({accessor}.type == JS_VAR_DICT)
        DICT_SET(((struct dict_js_var_t *){accessor}.data), {argumentExpression}, {expression})
{#else}
    /* Unsupported assignment {accessor}[{argumentExpression}] = {nodeText} */{CR}
{/if}`)],kt);var ts=class extends j{constructor(s,n){super(),this.declarations=n.declarationList.declarations.map(i=>U.createForNode(s,i))}};ts=V([O("{declarations}",Kr.SyntaxKind.VariableStatement)],ts);var rs=class extends j{constructor(s,n){super(),Rp(n)?this.declarations=n.declarations.map(i=>U.createForNode(s,i)):this.declarations=n.binding.bindingList.map(i=>U.createForNode(s,i))}};rs=V([O("{declarations}",[Kr.SyntaxKind.VariableDeclarationList,Kr.SyntaxKind.LexicalDeclaration])],rs);var ka=class extends j{constructor(n,i){super();this.initializer="";if(!Kr.isIdentifier(i.binding)){this.initializer="/* Unsupported variable declaration binding '"+te(i.binding)+"' */";return}let u=i.binding.text,m=n.root.typeHelper.getCType(i.binding),x=n.root.symbolsHelper.getSymbolAtLocation(i.binding),k=Kr.isIdentifier(i.binding)?n.root.typeHelper.isScopeVariableDeclaration(i.binding):!1;if(m instanceof D&&!m.isDynamicArray&&m.elementType!==W&&Sr(i.initializer)&&!k&&i.initializer.elementList.elements.every(N=>Ye(N)||Oe(N))){let N="{ ";for(let E=0;E<m.capacity;E++){E!=0&&(N+=", ");let P=U.createForNode(n,i.initializer.elementList.elements[E]);N+=typeof P=="string"?P:P.resolve()}N+=" }",n.variables.push(new q(n,u,m,{initializer:N,removeStorageSpecifier:x.exported}));return}!n.variables.some(y=>y.name===u)&&!k&&n.variables.push(new q(n,u,m,{removeStorageSpecifier:x.exported})),i.initializer&&(this.initializer=pr.create(n,i.binding,i.initializer))}};ka=V([O("{initializer}",[Kr.SyntaxKind.VariableDeclaration,Kr.SyntaxKind.LexicalBinding])],ka);var Mt=class extends j{constructor(n,i,u,m){super();this.varName=i;this.needAllocateArray=u instanceof D&&u.isDynamicArray,this.needAllocateStruct=u instanceof me||u instanceof xe&&u.needsClosureStruct,this.needAllocateDict=u instanceof ae,this.initialCapacity=4,this.gcVarName=n.root.memoryManager.getGCVariableForNode(m),u instanceof D&&(this.initialCapacity=Math.max(u.capacity*2,4),this.size=u.capacity),(this.needAllocateStruct||this.needAllocateArray||this.needAllocateDict)&&(n.root.headerFlags.malloc=!0),(this.gcVarName||this.needAllocateArray)&&(n.root.headerFlags.array=!0),u instanceof D&&u.elementType==W&&(n.root.headerFlags.js_var_array=!0),u instanceof ae&&u.elementType==W?n.root.headerFlags.js_var_dict=!0:this.needAllocateDict&&(n.root.headerFlags.dict=!0),this.gcVarName&&(n.root.headerFlags.gc_iterator=!0)}};Mt=V([O(`
{#if needAllocateArray}
    ARRAY_CREATE({varName}, {initialCapacity}, {size});
{#elseif needAllocateDict}
    DICT_CREATE({varName}, {initialCapacity});
{#elseif needAllocateStruct}
    {varName} = malloc(sizeof(*{varName}));
    assert({varName} != NULL);
{/if}
{#if gcVarName && (needAllocateStruct || needAllocateArray || needAllocateDict)}
    ARRAY_PUSH({gcVarName}, (void *){varName});
{/if}
`)],Mt);var ur=class extends j{constructor(n,i){super();this.gcVarName=null;this.gcArraysVarName=null;this.gcArraysCVarName=null;this.gcDictsVarName=null;this.arrayDestructors=[];let u=n.root.memoryManager.getGCVariablesForScope(i);for(let m of u)m.indexOf("_arrays_c")>-1?this.gcArraysCVarName=m:m.indexOf("_dicts")>-1?this.gcDictsVarName=m:m.indexOf("_arrays")>-1?this.gcArraysVarName=m:this.gcVarName=m;this.destructors=[],n.root.memoryManager.getDestructorsForScope(i).forEach(m=>{m.array?(this.destructors.push(m.varName+"->data"),this.destructors.push(m.varName)):m.arrayWithContents?(n.root.headerFlags.gc_iterator2=!0,this.arrayDestructors.push(m.varName),this.destructors.push(m.varName+" ? "+m.varName+"->data : NULL"),this.destructors.push(m.varName)):m.dict?(this.destructors.push(m.varName+"->index->data"),this.destructors.push(m.varName+"->index"),this.destructors.push(m.varName+"->values->data"),this.destructors.push(m.varName+"->values"),this.destructors.push(m.varName)):m.string?this.destructors.push("(char *)"+m.varName):this.destructors.push(m.varName)})}};ur=V([O(`
{arrayDestructors => for (gc_i = 0; gc_i < ({this} ? {this}->size : 0); gc_i++) free((void*){this}->data[gc_i]);
}
{destructors => free({this});
}
{#if gcArraysCVarName}
    for (gc_i = 0; gc_i < {gcArraysCVarName}->size; gc_i++) {
        for (gc_j = 0; gc_j < ({gcArraysCVarName}->data[gc_i] ? {gcArraysCVarName}->data[gc_i]->size : 0); gc_j++)
            free((void*){gcArraysCVarName}->data[gc_i]->data[gc_j]);

        free({gcArraysCVarName}->data[gc_i] ? {gcArraysCVarName}->data[gc_i]->data : NULL);
        free({gcArraysCVarName}->data[gc_i]);
    }
    free({gcArraysCVarName}->data);
    free({gcArraysCVarName});
{/if}
{#if gcArraysVarName}
    for (gc_i = 0; gc_i < {gcArraysVarName}->size; gc_i++) {
        free({gcArraysVarName}->data[gc_i]->data);
        free({gcArraysVarName}->data[gc_i]);
    }
    free({gcArraysVarName}->data);
    free({gcArraysVarName});
{/if}
{#if gcDictsVarName}
    for (gc_i = 0; gc_i < {gcDictsVarName}->size; gc_i++) {
        free({gcDictsVarName}->data[gc_i]->index->data);
        free({gcDictsVarName}->data[gc_i]->index);
        free({gcDictsVarName}->data[gc_i]->values->data);
        free({gcDictsVarName}->data[gc_i]->values);
        free({gcDictsVarName}->data[gc_i]);
    }
    free({gcDictsVarName}->data);
    free({gcDictsVarName});
{/if}
{#if gcVarName}
    for (gc_i = 0; gc_i < {gcVarName}->size; gc_i++)
        free({gcVarName}->data[gc_i]);
    free({gcVarName}->data);
    free({gcVarName});
{/if}`)],ur);var q=class extends j{constructor(n,i,u,m){super();this.name=i;let x=Xr(u)?n.root.typeHelper.getCType(u):u;x instanceof me?n.root.symbolsHelper.ensureStruct(x,i):x instanceof D&&x.isDynamicArray&&n.root.symbolsHelper.ensureArrayStruct(n.root.typeHelper,x.elementType),this.typeHasNumber(x)&&(n.root.headerFlags.int16_t=!0),x==_e&&(n.root.headerFlags.bool=!0),x instanceof D&&x.elementType==W&&(n.root.headerFlags.js_var_dict=!0),x instanceof ae&&x.elementType==W&&(n.root.headerFlags.js_var_dict=!0),n.parent==null&&(this.static=!0),m&&m.removeStorageSpecifier&&(this.static=!1),this.arraysToPointers=m&&m.arraysToPointers,m&&m.initializer&&(this.initializer=m.initializer),this.funcDecl=m&&m.funcDecl,this.type=x,this.typeHelper=n.root.typeHelper}typeHasNumber(n){return n==B||n instanceof D&&this.typeHasNumber(n.elementType)||n instanceof D&&n.isDynamicArray||n instanceof me&&Object.keys(n.properties).some(i=>this.typeHasNumber(n.properties[i]))||n instanceof ae}resolve(){let n;return this.funcDecl&&this.type instanceof xe?n=this.type.getPointerToTypeText():n=this.typeHelper.getTypeString(this.type),this.arraysToPointers&&(n=n.replace(/ \{var\}\[\d+\]/g,"* {var}")),n.indexOf("{var}")>-1?n=n.replace("{var}",this.name):n=n+" "+this.name,this.static&&n.indexOf("static")!=0?n="static "+n:this.static||(n=n.replace(/^static /,"")),this.initializer&&(n+=" = "+this.initializer),n}};var Or=class{constructor(s,n=!1){this.headerFlags=s;this.emitIncludeGuard=n}};Or=V([O(`
{#if emitIncludeGuard}
    #ifndef TS2C_COMMON_H
    #define TS2C_COMMON_H
{/if}

{#if headerFlags.strings || headerFlags.str_int16_t_cmp || headerFlags.str_int16_t_cat
    || headerFlags.str_pos || headerFlags.str_rpos || headerFlags.array_str_cmp
    || headerFlags.str_substring || headerFlags.dict_find_pos
    || headerFlags.array_insert || headerFlags.array_remove || headerFlags.dict || headerFlags.js_var_dict
    || headerFlags.js_var_from_str || headerFlags.js_var_to_str || headerFlags.js_var_eq || headerFlags.js_var_plus
    || headerFlags.js_var_lessthan || headerFlags.dict_find_pos}
    #include <string.h>
{/if}
{#if headerFlags.malloc || headerFlags.array || headerFlags.dict || headerFlags.str_substring || headerFlags.str_slice
    || headerFlags.str_to_int16_t || headerFlags.js_var_to_number || headerFlags.js_var_plus
    || headerFlags.js_var_from_str || headerFlags.js_var_get || headerFlags.try_catch
    || headerFlags.js_var_dict_inc}
    #include <stdlib.h>
{/if}
{#if headerFlags.malloc || headerFlags.array || headerFlags.dict || headerFlags.str_substring || headerFlags.str_slice
    || headerFlags.str_to_int16_t || headerFlags.js_var_to_number || headerFlags.js_var_plus 
    || headerFlags.js_var_from_str || headerFlags.js_var_get || headerFlags.try_catch
    || headerFlags.js_var_dict_inc}
    #include <assert.h>
{/if}
{#if headerFlags.printf || headerFlags.parse_int16_t || headerFlags.str_int16_t_cat}
    #include <stdio.h>
{/if}
{#if headerFlags.str_int16_t_buflen || headerFlags.str_int16_t_cmp || headerFlags.str_int16_t_cat || headerFlags.js_var_to_str || headerFlags.js_var_plus || headerFlags.js_var_lessthan}
    #include <limits.h>
{/if}
{#if headerFlags.str_to_int16_t || headerFlags.js_var_get || headerFlags.js_var_plus || headerFlags.js_var_compute || headerFlags.js_var_lessthan || headerFlags.js_var_to_number}
    #include <ctype.h>
{/if}
{#if headerFlags.try_catch || headerFlags.js_var_get}
    #include <setjmp.h>
{/if}

{#if headerFlags.bool || headerFlags.js_var_to_bool || headerFlags.js_var_eq || headerFlags.dict_remove || headerFlags.js_var_dict_inc }
    #define TRUE 1
    #define FALSE 0
{/if}
{#if headerFlags.bool || headerFlags.js_var || headerFlags.str_to_int16_t || headerFlags.js_var_isnan || headerFlags.js_var_dict_inc}
    typedef unsigned char uint8_t;
{/if}
{#if headerFlags.int16_t || headerFlags.js_var || headerFlags.array ||
     headerFlags.str_int16_t_cmp || headerFlags.str_pos || headerFlags.str_len ||
     headerFlags.str_char_code_at || headerFlags.str_substring || headerFlags.str_slice ||
     headerFlags.regex || headerFlags.str_to_int16_t || headerFlags.array_string_t ||
     headerFlags.try_catch || headerFlags.parse_int16_t || headerFlags.js_var_from  ||
     headerFlags.str_int16_t_cat || headerFlags.js_var_isnan}
    typedef short int16_t;
{/if}
{#if headerFlags.uint16_t || headerFlags.js_var_compute}
    typedef unsigned short uint16_t;
{/if}
{#if headerFlags.regex}
    struct regex_indices_struct_t {
        int16_t index;
        int16_t end;
    };
    struct regex_match_struct_t {
        int16_t index;
        int16_t end;
        struct regex_indices_struct_t *matches;
        int16_t matches_count;
    };
    typedef struct regex_match_struct_t regex_func_t(const char*, int16_t);
    struct regex_struct_t {
        const char * str;
        regex_func_t * func;
    };
{/if}

{#if headerFlags.gc_array || headerFlags.dict || headerFlags.js_var_get}
    #define ARRAY(T) struct {\\
        int16_t size;\\
        int16_t capacity;\\
        T *data;\\
    } *
{/if}
{#if headerFlags.array || headerFlags.dict || headerFlags.js_var_dict || headerFlags.js_var_plus || headerFlags.try_catch || headerFlags.js_var_get}
    #define ARRAY_CREATE(array, init_capacity, init_size) {\\
        array = malloc(sizeof(*array)); \\
        array->data = malloc((init_capacity) * sizeof(*array->data)); \\
        assert(array->data != NULL); \\
        array->capacity = init_capacity; \\
        array->size = init_size; \\
    }
    #define ARRAY_PUSH(array, item) {\\
        if (array->size == array->capacity) {  \\
            array->capacity *= 2;  \\
            array->data = realloc(array->data, array->capacity * sizeof(*array->data)); \\
            assert(array->data != NULL); \\
        }  \\
        array->data[array->size++] = item; \\
    }
{/if}
{#if headerFlags.array_pop}
    #define ARRAY_POP(a) (a->size != 0 ? a->data[--a->size] : 0)
{/if}
{#if headerFlags.array_insert || headerFlags.dict || headerFlags.js_var_dict}
    #define ARRAY_INSERT(array, pos, item) {\\
        ARRAY_PUSH(array, item); \\
        if (pos < array->size - 1) {\\
            memmove(&(array->data[(pos) + 1]), &(array->data[pos]), (array->size - (pos) - 1) * sizeof(*array->data)); \\
            array->data[pos] = item; \\
        } \\
    }
{/if}
{#if headerFlags.array_remove}
    #define ARRAY_REMOVE(array, pos, num) {\\
        memmove(&(array->data[pos]), &(array->data[(pos) + num]), (array->size - (pos) - num) * sizeof(*array->data)); \\
        array->size -= num; \\
    }
{/if}

{#if headerFlags.dict}
    #define DICT(T) struct { \\
        ARRAY(const char *) index; \\
        ARRAY(T) values; \\
    } *
{/if}

{#if headerFlags.dict || headerFlags.js_var_dict || headerFlags.dict_find_pos}
    int16_t dict_find_pos(const char ** keys, int16_t keys_size, const char * key) {
        int16_t low = 0;
        int16_t high = keys_size - 1;

        if (keys_size == 0 || key == NULL)
            return -1;

        while (low <= high)
        {
            int mid = (low + high) / 2;
            int res = strcmp(keys[mid], key);

            if (res == 0)
                return mid;
            else if (res < 0)
                low = mid + 1;
            else
                high = mid - 1;
        }

        return -1 - low;
    }
{/if}

{#if headerFlags.dict || headerFlags.js_var_dict}
    #define DICT_CREATE(dict, init_capacity) { \\
        dict = malloc(sizeof(*dict)); \\
        ARRAY_CREATE(dict->index, init_capacity, 0); \\
        ARRAY_CREATE(dict->values, init_capacity, 0); \\
    }
    
    int16_t tmp_dict_pos;
    #define DICT_GET(dict, prop, default) ((tmp_dict_pos = dict_find_pos(dict->index->data, dict->index->size, prop)) < 0 ? default : dict->values->data[tmp_dict_pos])

    int16_t tmp_dict_pos2;
    #define DICT_SET(dict, prop, value) { \\
        tmp_dict_pos2 = dict_find_pos(dict->index->data, dict->index->size, prop); \\
        if (tmp_dict_pos2 < 0) { \\
            tmp_dict_pos2 = -tmp_dict_pos2 - 1; \\
            ARRAY_INSERT(dict->index, tmp_dict_pos2, prop); \\
            ARRAY_INSERT(dict->values, tmp_dict_pos2, value); \\
        } else \\
            dict->values->data[tmp_dict_pos2] = value; \\
    }
{/if}

{#if headerFlags.str_int16_t_buflen || headerFlags.str_int16_t_cmp || headerFlags.str_int16_t_cat || headerFlags.js_var_plus || headerFlags.js_var_compute || headerFlags.js_var_to_str || headerFlags.js_var_lessthan}
    #define STR_INT16_T_BUFLEN ((CHAR_BIT * sizeof(int16_t) - 1) / 3 + 2)
{/if}
{#if headerFlags.str_int16_t_cmp}
    int str_int16_t_cmp(const char * str, int16_t num) {
        char numstr[STR_INT16_T_BUFLEN];
        sprintf(numstr, "%d", num);
        return strcmp(str, numstr);
    }
{/if}
{#if headerFlags.str_pos}
    int16_t str_pos(const char * str, const char *search) {
        int16_t i;
        const char * found = strstr(str, search);
        int16_t pos = 0;
        if (found == 0)
            return -1;
        while (*str && str < found) {
            i = 1;
            if ((*str & 0xE0) == 0xC0) i=2;
            else if ((*str & 0xF0) == 0xE0) i=3;
            else if ((*str & 0xF8) == 0xF0) i=4;
            str += i;
            pos += i == 4 ? 2 : 1;
        }
        return pos;
    }
{/if}
{#if headerFlags.str_rpos}
    int16_t str_rpos(const char * str, const char *search) {
        int16_t i;
        const char * found = strstr(str, search);
        int16_t pos = 0;
        const char * end = str + (strlen(str) - strlen(search));
        if (found == 0)
            return -1;
        found = 0;
        while (end > str && found == 0)
            found = strstr(end--, search);
        while (*str && str < found) {
            i = 1;
            if ((*str & 0xE0) == 0xC0) i=2;
            else if ((*str & 0xF0) == 0xE0) i=3;
            else if ((*str & 0xF8) == 0xF0) i=4;
            str += i;
            pos += i == 4 ? 2 : 1;
        }
        return pos;
    }
{/if}
{#if headerFlags.str_len || headerFlags.str_substring || headerFlags.str_slice}
    int16_t str_len(const char * str) {
        int16_t len = 0;
        int16_t i = 0;
        while (*str) {
            i = 1;
            if ((*str & 0xE0) == 0xC0) i=2;
            else if ((*str & 0xF0) == 0xE0) i=3;
            else if ((*str & 0xF8) == 0xF0) i=4;
            str += i;
            len += i == 4 ? 2 : 1;
        }
        return len;
    }
{/if}
{#if headerFlags.str_char_code_at}
    int16_t str_char_code_at(const char * str, int16_t pos) {
        int16_t i, res = 0;
        while (*str) {
            i = 1;
            if ((*str & 0xE0) == 0xC0) i=2;
            else if ((*str & 0xF0) == 0xE0) i=3;
            else if ((*str & 0xF8) == 0xF0) i=4;
            if (pos == 0) {
                res += (unsigned char)*str++;
                if (i > 1) {
                    res <<= 6; res -= 0x3080;
                    res += (unsigned char)*str++;
                }
                return res;
            }
            str += i;
            pos -= i == 4 ? 2 : 1;
        }
        return -1;
    }
{/if}
{#if headerFlags.str_substring || headerFlags.str_slice}
    const char * str_substring(const char * str, int16_t start, int16_t end) {
        int16_t i, tmp, pos, len = str_len(str), byte_start = -1;
        char *p, *buf;
        start = start < 0 ? 0 : (start > len ? len : start);
        end = end < 0 ? 0 : (end > len ? len : end);
        if (end < start) {
            tmp = start;
            start = end;
            end = tmp;
        }
        i = 0;
        pos = 0;
        p = (char *)str;
        while (*p) {
            if (start == pos)
                byte_start = p - str;
            if (end == pos)
                break;
            i = 1;
            if ((*p & 0xE0) == 0xC0) i=2;
            else if ((*p & 0xF0) == 0xE0) i=3;
            else if ((*p & 0xF8) == 0xF0) i=4;
            p += i;
            pos += i == 4 ? 2 : 1;
        }
        len = byte_start == -1 ? 0 : p - str - byte_start;
        buf = malloc(len + 1);
        assert(buf != NULL);
        memcpy(buf, str + byte_start, len);
        buf[len] = '\\0';
        return buf;
    }
{/if}
{#if headerFlags.str_slice}
    const char * str_slice(const char * str, int16_t start, int16_t end) {
        int16_t len = str_len(str);
        start = start < 0 ? len + start : start;
        end = end < 0 ? len + end : end;
        if (end - start < 0)
            end = start;
        return str_substring(str, start, end);
    }
{/if}
{#if headerFlags.str_int16_t_cat}
    void str_int16_t_cat(char *str, int16_t num) {
        char numstr[STR_INT16_T_BUFLEN];
        sprintf(numstr, "%d", num);
        strcat(str, numstr);
    }
{/if}

{#if headerFlags.array_int16_t_cmp}
    int array_int16_t_cmp(const void* a, const void* b) {
        return ( *(int16_t*)a - *(int16_t*)b );
    }
{/if}
{#if headerFlags.array_str_cmp}
    int array_str_cmp(const void* a, const void* b) { 
        return strcmp(*(const char **)a, *(const char **)b);
    }
{/if}

{#if headerFlags.parse_int16_t}
    int16_t parse_int16_t(const char * str) {
        int r;
        sscanf(str, "%d", &r);
        return (int16_t) r;
    }
{/if}

{#if headerFlags.js_var || headerFlags.str_to_int16_t || headerFlags.js_var_from || headerFlags.js_var_isnan || headerFlags.js_var_dict_inc}
    enum js_var_type {JS_VAR_NULL, JS_VAR_UNDEFINED, JS_VAR_NAN, JS_VAR_BOOL, JS_VAR_INT16, JS_VAR_STRING, JS_VAR_ARRAY, JS_VAR_DICT};
    struct js_var {
        enum js_var_type type;
        int16_t number;
        void *data;
    };
{/if}

{#if headerFlags.js_var_array || headerFlags.js_var_dict || headerFlags.js_var_dict_inc || headerFlags.js_var_to_str || headerFlags.js_var_plus || headerFlags.js_var_lessthan || headerFlags.js_var_to_number}
    struct array_js_var_t {
        int16_t size;
        int16_t capacity;
        struct js_var *data;
    };
{/if}

{#if headerFlags.array_string_t || headerFlags.js_var_dict || headerFlags.js_var_dict_inc || headerFlags.js_var_get || headerFlags.try_catch}
    struct array_string_t {
        int16_t size;
        int16_t capacity;
        const char ** data;
    };
{/if}

{#if headerFlags.array_pointer_t || headerFlags.gc_main || headerFlags.js_var_plus}
    struct array_pointer_t {
        int16_t size;
        int16_t capacity;
        void ** data;
    };
{/if}

{#if headerFlags.js_var_dict || headerFlags.js_var_dict_inc}
    struct dict_js_var_t {
        struct array_string_t *index;
        struct array_js_var_t *values;
    };
{/if}

{#if headerFlags.js_var_from || headerFlags.js_var_get || headerFlags.js_var_dict_inc}
    struct js_var js_var_from(enum js_var_type type) {
        struct js_var v;
        v.type = type;
        v.data = NULL;
        return v;
    }
{/if}

{#if headerFlags.js_var_from_uint8_t}
    struct js_var js_var_from_uint8_t(uint8_t b) {
        struct js_var v;
        v.type = JS_VAR_BOOL;
        v.number = b;
        v.data = NULL;
        return v;
    }
{/if}

{#if headerFlags.js_var_from_int16_t || headerFlags.js_var_dict_inc}
    struct js_var js_var_from_int16_t(int16_t n) {
        struct js_var v;
        v.type = JS_VAR_INT16;
        v.number = n;
        v.data = NULL;
        return v;
    }
{/if}

{#if headerFlags.js_var_from_str}
    struct js_var js_var_from_str(const char *s) {
        struct js_var v;
        v.type = JS_VAR_STRING;
        v.data = (void *)s;
        return v;
    }
{/if}

{#if headerFlags.js_var_array}
    struct js_var js_var_from_array(struct array_js_var_t *arr) {
        struct js_var v;
        v.type = JS_VAR_ARRAY;
        v.data = (void *)arr;
        return v;
    }
{/if}

{#if headerFlags.js_var_dict}
    struct js_var js_var_from_dict(struct dict_js_var_t *dict) {
        struct js_var v;
        v.type = JS_VAR_DICT;
        v.data = (void *)dict;
        return v;
    }
{/if}

{#if headerFlags.str_to_int16_t || headerFlags.js_var_to_number || headerFlags.js_var_get || headerFlags.js_var_eq || headerFlags.js_var_plus || headerFlags.js_var_compute || headerFlags.js_var_lessthan || headerFlags.js_var_dict_inc}
    struct js_var str_to_int16_t(const char * str) {
        struct js_var v;
        const char *p = str;
        int r;

        v.data = NULL;

        while (*p && isspace(*p))
            p++;

        if (*p == 0)
            str = "0";

        if (*p == '-' && *(p+1))
            p++;

        while (*p) {
            if (!isdigit(*p)) {
                v.type = JS_VAR_NAN;
                return v;
            }
            p++;
        }

        sscanf(str, "%d", &r);
        v.type = JS_VAR_INT16;
        v.number = (int16_t)r;
        return v;
    }
{/if}

{#if headerFlags.js_var_to_str || headerFlags.js_var_plus || headerFlags.js_var_lessthan}
    const char * js_var_to_str(struct js_var v, uint8_t *need_dispose)
    {
        char *buf;
        int16_t i;
        *need_dispose = 0;

        if (v.type == JS_VAR_INT16) {
            buf = malloc(STR_INT16_T_BUFLEN);
            assert(buf != NULL);
            *need_dispose = 1;
            sprintf(buf, "%d", v.number);
            return buf;
        } else if (v.type == JS_VAR_BOOL)
            return v.number ? "true" : "false";
        else if (v.type == JS_VAR_STRING)
            return (const char *)v.data;
        else if (v.type == JS_VAR_ARRAY) {
            struct array_js_var_t * arr = (struct array_js_var_t *)v.data;
            uint8_t dispose_elem = 0;
            buf = malloc(1);
            assert(buf != NULL);
            *need_dispose = 1;
            buf[0] = 0;
            for (i = 0; i < arr->size; i++) {
                const char * elem = js_var_to_str(arr->data[i], &dispose_elem);
                buf = realloc(buf, strlen(buf) + strlen(elem) + 1 + (i != 0 ? 1 : 0));
                assert(buf != NULL);
                if (i != 0)
                    strcat(buf, ",");
                strcat(buf, elem);
                if (dispose_elem)
                    free((void *)elem);
            }
            return buf;
        }
        else if (v.type == JS_VAR_DICT)
            return "[object Object]";
        else if (v.type == JS_VAR_NAN)
            return "NaN";
        else if (v.type == JS_VAR_NULL)
            return "null";
        else if (v.type == JS_VAR_UNDEFINED)
            return "undefined";

        return NULL;
    }
{/if}

{#if headerFlags.js_var_to_number || headerFlags.js_var_get || headerFlags.js_var_eq || headerFlags.js_var_plus || headerFlags.js_var_compute || headerFlags.js_var_lessthan || headerFlags.js_var_dict_inc}

    struct js_var js_var_to_number(struct js_var v)
    {
        struct js_var result;
        result.type = JS_VAR_INT16;
        result.number = 0;

        if (v.type == JS_VAR_INT16)
            result.number = v.number;
        else if (v.type == JS_VAR_BOOL)
            result.number = v.number;
        else if (v.type == JS_VAR_STRING)
            return str_to_int16_t((const char *)v.data);
        else if (v.type == JS_VAR_ARRAY) {
            struct array_js_var_t * arr = (struct array_js_var_t *)v.data;
            if (arr->size == 0)
                result.number = 0;
            else if (arr->size > 1)
                result.type = JS_VAR_NAN;
            else
                result = js_var_to_number(arr->data[0]);
        } else if (v.type != JS_VAR_NULL)
            result.type = JS_VAR_NAN;

        return result;
    }

{/if}

{#if headerFlags.js_var_to_bool}

    uint8_t js_var_to_bool(struct js_var v)
    {
        if (v.type == JS_VAR_INT16)
            return v.number != 0;
        else if (v.type == JS_VAR_BOOL)
            return v.number;
        else if (v.type == JS_VAR_STRING)
            return *((const char *)v.data) != 0;
        else if (v.type == JS_VAR_NULL || v.type == JS_VAR_UNDEFINED || v.type == JS_VAR_NAN)
            return FALSE;
        else
            return TRUE;
    }

{/if}

{#if headerFlags.js_var_to_undefined}
    struct js_var js_var_to_undefined(void *value) {
        struct js_var v;
        v.type = JS_VAR_UNDEFINED;
        v.data = NULL;
        return v;
    }
{/if}

{#if headerFlags.js_var_typeof}

    const char * js_var_typeof(struct js_var v)
    {
        if (v.type == JS_VAR_INT16 || v.type == JS_VAR_NAN)
            return "number";
        else if (v.type == JS_VAR_BOOL)
            return "boolean";
        else if (v.type == JS_VAR_STRING)
            return "string";
        else if (v.type == JS_VAR_UNDEFINED)
            return "undefined";
        else
            return "object";
    }

{/if}

{#if headerFlags.try_catch || headerFlags.js_var_get}
    int err_i = 0;
    jmp_buf err_jmp[10];
    #define TRY { int err_val = setjmp(err_jmp[err_i++]); if (!err_val) {
    #define CATCH } else {
    #define THROW(x) longjmp(err_jmp[--err_i], x)
    struct array_string_t * err_defs;
    #define END_TRY err_defs->size--; } }
{/if}

{#if headerFlags.js_var_dict_inc}
    struct js_var js_var_dict_inc(struct dict_js_var_t * dict, const char * key, int16_t by, uint8_t is_postfix) {
        struct js_var value;
        int16_t pos;

        pos = dict_find_pos(dict->index->data, dict->index->size, key);
        if (pos < 0) {
            pos = -pos - 1;
            ARRAY_INSERT(dict->index, pos, key);
            ARRAY_INSERT(dict->values, pos, js_var_from(JS_VAR_NAN));
            return js_var_from(JS_VAR_NAN);
        } else {
            value = js_var_to_number(dict->values->data[pos]);
            if (value.type == JS_VAR_NAN) {
                dict->values->data[pos] = value;
                return value;
            } else {
                value.number += by;
                dict->values->data[pos] = value;
                if (is_postfix)
                    value.number -= by;
                return value;
            }
        }
    }
{/if}

{#if headerFlags.js_var_inc}
    struct js_var js_var_inc(struct js_var * v, int16_t by) {
        struct js_var result;

        result = js_var_to_number(*v);
        if (result.type == JS_VAR_INT16) {
            (*v).type = JS_VAR_INT16;
            (*v).number = result.number + by;
            (*v).data = NULL;
        } else
            (*v).type = JS_VAR_NAN;
        return result;
    }
{/if}

{#if headerFlags.js_var_get}
    struct js_var js_var_get(struct js_var v, struct js_var arg) {
        struct js_var tmp;
        const char *key;
        uint8_t need_dispose = 0;

        if (v.type == JS_VAR_ARRAY) {
            tmp = js_var_to_number(arg);
            if (tmp.type == JS_VAR_NAN)
                return js_var_from(JS_VAR_UNDEFINED);
            else
                return ((struct array_js_var_t *)v.data)->data[tmp.number];
        } else if (v.type == JS_VAR_DICT) {
            key = js_var_to_str(arg, &need_dispose);
            tmp = DICT_GET(((struct dict_js_var_t *)v.data), key, js_var_from(JS_VAR_UNDEFINED));
            if (need_dispose)
                free((void *)key);
            return tmp;
        } else if (v.type == JS_VAR_NULL || v.type == JS_VAR_UNDEFINED) {
            ARRAY_PUSH(err_defs, "TypeError: Cannot read property of null or undefined.");
            THROW(err_defs->size);
        } else
            return js_var_from(JS_VAR_UNDEFINED);
    }
{/if}

{#if headerFlags.js_var_eq}
    uint8_t js_var_eq(struct js_var left, struct js_var right, uint8_t strict)
    {
        if (left.type == right.type) {
            if (left.type == JS_VAR_NULL || left.type == JS_VAR_UNDEFINED)
                return TRUE;
            else if (left.type == JS_VAR_NAN)
                return FALSE;
            else if (left.type == JS_VAR_INT16 || left.type == JS_VAR_BOOL)
                return left.number == right.number ? TRUE : FALSE;
            else if (left.type == JS_VAR_STRING)
                return !strcmp((const char *)left.data, (const char *)right.data) ? TRUE : FALSE;
            else
                return left.data == right.data;
        } else if (!strict) {
            if ((left.type == JS_VAR_NULL && right.type == JS_VAR_UNDEFINED) || (left.type == JS_VAR_UNDEFINED && right.type == JS_VAR_NULL))
                return TRUE;
            else if ((left.type == JS_VAR_INT16 && right.type == JS_VAR_STRING) || (left.type == JS_VAR_STRING && right.type == JS_VAR_INT16))
                return js_var_eq(js_var_to_number(left), js_var_to_number(right), strict);
            else if (left.type == JS_VAR_BOOL)
                return js_var_eq(js_var_to_number(left), right, strict);
            else if (right.type == JS_VAR_BOOL)
                return js_var_eq(left, js_var_to_number(right), strict);
            else
                return FALSE;
        } else
            return FALSE;
    }
{/if}

{#if headerFlags.js_var_lessthan}
    int16_t js_var_lessthan(struct js_var left, struct js_var right)
    {
        struct js_var left_to_number, right_to_number;
        const char *left_as_string, *right_as_string;
        uint8_t need_dispose_left, need_dispose_right;
        int16_t result;

        if ((left.type == JS_VAR_STRING || left.type == JS_VAR_ARRAY || left.type == JS_VAR_DICT)
            && (right.type == JS_VAR_STRING || right.type == JS_VAR_ARRAY || right.type == JS_VAR_DICT))
        {
            left_as_string = js_var_to_str(left, &need_dispose_left);
            right_as_string = js_var_to_str(right, &need_dispose_right);
            
            result = strcmp(left_as_string, right_as_string) < 0 ? 1 : -1;

            if (need_dispose_left)
                free((void *)left_as_string);
            if (need_dispose_right)
                free((void *)right_as_string);
            return result;
        } else {
            left_to_number = js_var_to_number(left);
            right_to_number = js_var_to_number(right);

            if (left_to_number.type == JS_VAR_NAN || right_to_number.type == JS_VAR_NAN)
                return 0;
            if (left_to_number.number == 0 && right_to_number.number == 0)
                return -1;
            return left_to_number.number < right_to_number.number ? 1 : -1;
        }
    }
{/if}

{#if headerFlags.js_var_plus}

    struct js_var js_var_plus(struct js_var left, struct js_var right, struct array_pointer_t *gc_main)
    {
        struct js_var result, left_to_number, right_to_number;
        const char *left_as_string, *right_as_string;
        uint8_t need_dispose_left, need_dispose_right;
        result.data = NULL;

        if (left.type == JS_VAR_STRING || right.type == JS_VAR_STRING 
            || left.type == JS_VAR_ARRAY || right.type == JS_VAR_ARRAY
            || left.type == JS_VAR_DICT || right.type == JS_VAR_DICT)
        {
            left_as_string = js_var_to_str(left, &need_dispose_left);
            right_as_string = js_var_to_str(right, &need_dispose_right);
            
            result.type = JS_VAR_STRING;
            result.data = malloc(strlen(left_as_string) + strlen(right_as_string) + 1);
            assert(result.data != NULL);
            ARRAY_PUSH(gc_main, result.data);

            strcpy(result.data, left_as_string);
            strcat(result.data, right_as_string);

            if (need_dispose_left)
                free((void *)left_as_string);
            if (need_dispose_right)
                free((void *)right_as_string);
            return result;
        }

        left_to_number = js_var_to_number(left);
        right_to_number = js_var_to_number(right);

        if (left_to_number.type == JS_VAR_NAN || right_to_number.type == JS_VAR_NAN) {
            result.type = JS_VAR_NAN;
            return result;
        }

        result.type = JS_VAR_INT16;
        result.number = left_to_number.number + right_to_number.number;
        return result;
    }

{/if}

{#if headerFlags.js_var_compute}

    enum js_var_op {JS_VAR_MINUS, JS_VAR_ASTERISK, JS_VAR_SLASH, JS_VAR_PERCENT, JS_VAR_SHL, JS_VAR_SHR, JS_VAR_USHR, JS_VAR_OR, JS_VAR_AND};
    struct js_var js_var_compute(struct js_var left, enum js_var_op op, struct js_var right)
    {
        struct js_var result, left_to_number, right_to_number;
        result.data = NULL;

        left_to_number = js_var_to_number(left);
        right_to_number = js_var_to_number(right);

        if (left_to_number.type == JS_VAR_NAN || right_to_number.type == JS_VAR_NAN) {
            if (op == JS_VAR_MINUS || op == JS_VAR_ASTERISK || op == JS_VAR_SLASH || op == JS_VAR_PERCENT) {
                result.type = JS_VAR_NAN;
                return result;
            }
        }
        
        result.type = JS_VAR_INT16;
        switch (op) {
            case JS_VAR_MINUS:
                result.number = left_to_number.number - right_to_number.number;
                break;
            case JS_VAR_ASTERISK:
                result.number = left_to_number.number * right_to_number.number;
                break;
            case JS_VAR_SLASH:
                result.number = left_to_number.number / right_to_number.number;
                break;
            case JS_VAR_PERCENT:
                result.number = left_to_number.number % right_to_number.number;
                break;
            case JS_VAR_SHL:
                result.number = left_to_number.number << right_to_number.number;
                break;
            case JS_VAR_SHR:
                result.number = left_to_number.number >> right_to_number.number;
                break;
            case JS_VAR_USHR:
                result.number = ((uint16_t)left_to_number.number) >> right_to_number.number;
                break;
            case JS_VAR_AND:
                result.number = left_to_number.number & right_to_number.number;
                break;
            case JS_VAR_OR:
                result.number = left_to_number.number | right_to_number.number;
                break;
        }
        return result;
    }

{/if}

{#if headerFlags.js_var_isnan}
    uint8_t js_var_isnan(struct js_var v) {
        return js_var_to_number(v).type == JS_VAR_NAN;
    }
{/if}

{#if headerFlags.regex}
    void regex_clear_matches(struct regex_match_struct_t *match_info, int16_t groupN) {
        int16_t i;
        for (i = 0; i < groupN; i++) {
            match_info->matches[i].index = -1;
            match_info->matches[i].end = -1;
        }
    }
{/if}

{#if headerFlags.regex_match}
    struct array_string_t *regex_match(struct regex_struct_t regex, const char * s) {
        struct regex_match_struct_t match_info;
        struct array_string_t *match_array = NULL;
        int16_t i;

        match_info = regex.func(s, TRUE);
        if (match_info.index != -1) {
            ARRAY_CREATE(match_array, match_info.matches_count + 1, match_info.matches_count + 1);
            match_array->data[0] = str_substring(s, match_info.index, match_info.end);
            for (i = 0;i < match_info.matches_count; i++) {
                if (match_info.matches[i].index != -1 && match_info.matches[i].end != -1)
                    match_array->data[i + 1] = str_substring(s, match_info.matches[i].index, match_info.matches[i].end);
                else
                    match_array->data[i + 1] = str_substring(s, 0, 0);
            }
        }
        if (match_info.matches_count)
            free(match_info.matches);

        return match_array;
    }
{/if}

{#if emitIncludeGuard}
#endif
{/if}
`)],Or);var nn=class{constructor(){this.strings=!1;this.printf=!1;this.malloc=!1;this.bool=!1;this.int16_t=!1;this.uint16_t=!1;this.js_var=!1;this.js_var_array=!1;this.js_var_dict=!1;this.js_var_from=!1;this.js_var_from_str=!1;this.js_var_from_int16_t=!1;this.js_var_from_uint8_t=!1;this.js_var_to_str=!1;this.js_var_to_number=!1;this.js_var_to_undefined=!1;this.js_var_to_bool=!1;this.js_var_typeof=!1;this.js_var_eq=!1;this.js_var_lessthan=!1;this.js_var_plus=!1;this.js_var_compute=!1;this.js_var_get=!1;this.js_var_isnan=!1;this.js_var_dict_inc=!1;this.js_var_inc=!1;this.array=!1;this.array_pop=!1;this.array_insert=!1;this.array_remove=!1;this.array_string_t=!1;this.array_int16_t_cmp=!1;this.array_str_cmp=!1;this.array_pointer_t=!1;this.gc_main=!1;this.gc_iterator=!1;this.gc_iterator2=!1;this.gc_array=!1;this.dict=!1;this.dict_find_pos=!1;this.str_int16_t_buflen=!1;this.str_int16_t_cmp=!1;this.str_int16_t_cat=!1;this.str_pos=!1;this.str_rpos=!1;this.str_len=!1;this.str_char_code_at=!1;this.str_substring=!1;this.str_slice=!1;this.str_to_int16_t=!1;this.parse_int16_t=!1;this.regex=!1;this.regex_match=!1;this.try_catch=!1}},Ol=["main","TRUE","FALSE","uint8_t","int16_t","typedef","struct","unsigned","signed","int","double","long","short","char","float","sizeof","goto","volatile","static","extern","auto","register","union","printf","assert","malloc","realloc","memmove","sprintf","strcmp","strstr","isdigit","isspace","CHAR_BIT","regex_indices_struct_t","regex_match_struct_t","regex_func_t","ARRAY","ARRAY_CREATE","ARRAY_PUSH","ARRAY_INSERT","ARRAY_REMOVE","ARRAY_POP","DICT","DICT_CREATE","DICT_SET","DICT_GET","dict_find_pos","tmp_dict_pos","tmp_dict_pos2","STR_INT16_T_BUFLEN","str_int16_t_cmp","str_pos","str_rpos","str_len","str_char_code_at","str_substring","str_slice","str_int16_t_cat","array_int16_t_cmp","array_str_cmp","parse_int16_t","js_var_type","js_var","array_js_var_t","dict_js_var_t","js_var_from","js_var_from_int16_t","js_var_from_uint8_t","js_var_from_str","js_var_from_dict","str_to_int16_t","js_var_to_str","js_var_to_number","js_var_to_bool","js_var_to_undefined","js_var_typeof","js_var_dict_inc","js_var_get","js_var_eq","js_var_op","js_var_compute","regex_clear_matches","regex_match","gc_main","gc_i","gc_j"],ba=class{constructor(s,n,i,u,m,x){this.symbolsHelper=i;this.typeHelper=u;this.standardCallHelper=m;this.memoryManager=x;this.parent=null;this.root=this;this.func=this;this.includes=[];this.variables=[];this.statements=[];this.functions=[];this.functionPrototypes=[];this.headerFlags=new nn;this.runtimeCode="";this.mainFunctionName="main";i.exportedSymbols[s.id]!==void 0&&(this.includes.push('"'+s.fileName.substring(s.fileName.lastIndexOf("/")+1).replace(/(\.js|\.ts)$/,".h")+'"'),this.mainFunctionName="init_"+s.fileName.replace(/^\.\//,"").replace(/(\.js|\.ts)$/,"").replace(/[^A-Za-z0-9]/g,"_"),i.initFunctions[s.id]=this.mainFunctionName),this.gcVarNames=this.memoryManager.getGCVariablesForScope(null);for(let N of this.gcVarNames){if(this.headerFlags.array=!0,this.headerFlags.array_pointer_t=!0,N=="gc_main"){this.headerFlags.gc_main=!0;continue}let E="struct array_pointer_t *",P=E;N.indexOf("_arrays")>-1&&(P="ARRAY(struct array_pointer_t *)"),N.indexOf("_arrays_c")>-1&&(P="ARRAY(ARRAY(struct array_pointer_t *))"),N.indexOf("_dicts")>-1&&(P="ARRAY(DICT(void *))"),P!==E&&(this.headerFlags.gc_array=!0),this.variables.push(new q(this,N,P))}for(let N of s.statements)this.statements.push(U.createForNode(this,N));let[k]=this.symbolsHelper.getStructsAndFunctionPrototypes(this.typeHelper);if(this.headerFlags.array_pointer_t=this.headerFlags.array_pointer_t||k.filter(N=>N.name=="array_pointer_t").length>0,this.headerFlags.array_string_t=this.headerFlags.array_string_t||k.filter(N=>N.name=="array_string_t").length>0,this.headerFlags.js_var_array=this.headerFlags.js_var_array||k.filter(N=>N.name=="array_js_var_t").length>0,this.headerFlags.js_var_dict=this.headerFlags.js_var_dict||k.filter(N=>N.name=="dict_js_var_t").length>0,this.userStructs=k.filter(N=>["array_string_t","array_pointer_t","array_js_var_t","dict_js_var_t"].indexOf(N.name)==-1).map(N=>({name:N.name,properties:N.properties.map(E=>new q(this,E.name,E.type,{removeStorageSpecifier:!0}))})),this.destructors=new ur(this,null),n===null)this.runtimeCode=new Or(this.headerFlags);else{this.runtimeCode='#include "common.h"';for(var y in this.headerFlags)n[y]|=this.headerFlags[y]}}};ba=V([O(`
{runtimeCode}

{#if includes.length}
    {includes => #include {this}
}
{/if}

{userStructs => struct {name} {
    {properties {    }=> {this};
}
};
}
 
{#if headerFlags.gc_main || headerFlags.js_var_plus}
    static struct array_pointer_t *gc_main;
{/if}
{#if headerFlags.gc_iterator || headerFlags.js_var_plus}
    static int16_t gc_i;
{/if}
{#if headerFlags.gc_iterator2}
    static int16_t gc_j;
{/if}

{variables => {this};
}

{functionPrototypes => {this}
}

{functions => {this}
}

int {mainFunctionName}(void) {
    {gcVarNames {    }=> ARRAY_CREATE({this}, 2, 0);
}
    {#if headerFlags.try_catch || headerFlags.js_var_get}
        ARRAY_CREATE(err_defs, 2, 0);
    {/if}

    {statements {    }=> {this}}
    {destructors}

    return 0;
}
`)],ba);var ns=class{constructor(){this.userStructs={};this.arrayStructs=[];this.scopes={};this.exportedSymbols={};this.initFunctions={};this.nextId=1;this.globalSymbolsWithResolvers=[];this.temporaryVariables={main:Ol};this.iteratorVarNames=["i","j","k","l","m","n"];this.closureVarNames=[];this.scopeVarNames=[]}createSymbolScope(s,n,i){let u=this.findSymbolScope({rootId:s,start:n,end:i}),m={symbols:{},parent:u,start:n,end:i};return this.scopes[s]||(this.scopes[s]=[]),this.scopes[s].push(m),m}registerSymbol(s,n){let[i,u]=this.getSymbolPath(s);if(!i)return;let m={id:this.nextId++,parent:u,valueDeclaration:s,references:[s],members:[],conflict:s.text===i&&Ol.indexOf(i)>-1,exported:n===!0};s.symbol=m,this.findSymbolScope(s).symbols[i]=m,n===!0&&(this.exportedSymbols[s.rootId]||(this.exportedSymbols[s.rootId]=[]),this.exportedSymbols[s.rootId].push(m))}registerSyntheticSymbol(s,n,i,u){let m=i;n&&(m=n.id+":"+m);let x={id:this.nextId++,parent:n,valueDeclaration:void 0,references:[],members:[],conflict:!1,resolver:u,exported:!1};return this.scopes[s][0].symbols[m]=x,u&&this.globalSymbolsWithResolvers.push(x),x}addReference(s){let n=this.getSymbolAtLocation(s);n&&n.references.indexOf(s)===-1&&n.references.push(s)}addToExportedSymbols(s){let n=this.getSymbolAtLocation(s);n&&(n.exported=!0,this.exportedSymbols[s.rootId]||(this.exportedSymbols[s.rootId]=[]),this.exportedSymbols[s.rootId].indexOf(n)===-1&&this.exportedSymbols[s.rootId].push(n))}insertExistingSymbolIntoScope(s,n){this.findSymbolScope(s).symbols[s.text]=n,n.references.indexOf(s)===-1&&n.references.push(s),s.symbol=n}getSymbolAtLocation(s){let[n]=this.getSymbolPath(s);if(n)return this.getSymbolByPath(s,n)}getSymbolByPath(s,n){let i=this.findSymbolScope(s),u;for(;i&&!u;)u=i.symbols[n],i=i.parent;return u}getSymbolPath(s){let n=null,i=!1;if(rt(s.parent)&&s.parent.left===s){i=!0;let m=s.parent.parent;if(!Xt(m.parent))return[null,null];let x=m.parent.parent;if(it(x))n=this.getSymbolAtLocation(x.binding);else if(rt(x))n=this.getSymbolAtLocation(x.left);else if(lt(x)&&as.isIdentifier(x.left))n=this.getSymbolAtLocation(x.left);else return[null,null]}else Ge(s.parent)&&s.parent.expression===s?(i=!0,n=as.isIdentifier(s.parent.member)&&this.getSymbolAtLocation(s.parent.member)):Ge(s)&&(i=!0,n=this.getSymbolAtLocation(s.member),s=s.expression);if(i&&!n)return[null,null];let u=null;if(as.isIdentifier(s))u=s.text;else if(Oe(s))u=s.text;else return[null,null];return n&&(u=n.id+":"+u),[u,n]}findSymbolScope(s){if(this.scopes[s.rootId])for(let n=this.scopes[s.rootId].length-1;n>=0;n--){let i=this.scopes[s.rootId][n];if(s.start>=i.start&&s.end<=i.end)return i}}isGlobalSymbol(s){let n=this.getSymbolAtLocation(s);return!n||n.parent?!1:n.valueDeclaration?!this.findSymbolScope(n.valueDeclaration).parent:!0}addStandardSymbols(s){this.registerSyntheticSymbol(s,null,"NaN"),this.registerSyntheticSymbol(s,null,"undefined")}renameConflictingSymbols(){for(let s in this.scopes)for(let n of this.scopes[s])for(let i in n.symbols){let u=n.symbols[i];if(u.conflict){let m=i+"_",x=2;for(;n.symbols[m];)m=i+"_"+x,x++;n.symbols[i]=void 0,n.symbols[m]=u,u.conflict=!1;for(let k of u.references)k.text=m}}}getStructsAndFunctionPrototypes(s){for(let i of this.arrayStructs){let u=s.getTypeString(i),m=D.getArrayStructName(u);this.userStructs[m]=new me({size:{type:B,order:1},capacity:{type:B,order:2},data:{type:u+"*",order:3}}),this.userStructs[m].structName=m}return[Object.keys(this.userStructs).filter(i=>!this.userStructs[i].external).map(i=>({name:i,properties:Object.keys(this.userStructs[i].properties).map(u=>({name:u,type:this.userStructs[i].properties[u]}))}))]}ensureClosureStruct(s,n,i){s.structName||(s.structName=i+"_t");let u={func:{type:s.getText(!0),order:0},scope:{type:n.scopeType||"void *",order:1}},m=new me(u);this.findStructByType(m)||(this.userStructs[s.structName]=m)}ensureStruct(s,n){if(!s.structName){let u=n+"_t";if(this.symbolOrTempVarExists("main",null,u)){let m=2;for(;this.symbolOrTempVarExists("main",null,u+"_"+m);)m++;u=u+"_"+m}s.structName=u,this.temporaryVariables.main.push(u)}this.findStructByType(s)||(this.userStructs[s.structName]=s)}ensureArrayStruct(s,n){this.arrayStructs.every(i=>s.getTypeString(i)!==s.getTypeString(n))&&this.arrayStructs.push(n)}findStructByType(s){let n=this.getStructureBodyString(s);for(var i in this.userStructs)if(this.getStructureBodyString(this.userStructs[i])==n)return i;return null}getStructureBodyString(s){let n=`{
`;for(let i in s.properties){let u=s.propertyDefs[i].type;if(typeof u=="string")n+="    "+u+" "+i+`;
`;else if(u instanceof D){let m=u.getText();m.indexOf("{var}")>-1?n+="    "+m.replace(/^static /,"").replace("{var}",i)+`;
`:n+="    "+m+" "+i+`;
`}else n+="    "+u.getText()+" "+i+`;
`}return n+=`};
`,n}symbolOrTempVarExists(s,n,i){return this.temporaryVariables[s].indexOf(i)>-1||n&&this.getSymbolByPath(n,i)!==void 0||n&&this.scopes[n.rootId][0].symbols[i]!==void 0}addIterator(s){let n=Me(s),i=n&&n.start+1||"main";this.temporaryVariables[i]||(this.temporaryVariables[i]=[]);let u=0;for(;u<this.iteratorVarNames.length&&this.symbolOrTempVarExists(i,s,this.iteratorVarNames[u]);)u++;let m;if(u==this.iteratorVarNames.length){for(u=2;this.symbolOrTempVarExists(i,s,"i_"+u);)u++;m="i_"+u}else m=this.iteratorVarNames[u];return this.temporaryVariables[i].push(m),m}addTemp(s,n,i=!0){let u=Me(s),m=u&&u.start+1||"main";if(this.temporaryVariables[m]||(this.temporaryVariables[m]=[]),this.symbolOrTempVarExists(m,s,n)){let x=2;for(;this.symbolOrTempVarExists(m,s,n+"_"+x);)x++;n=n+"_"+x}return i&&this.temporaryVariables[m].push(n),n}getClosureVarName(s){if(!this.closureVarNames[s.start]){let n=this.addTemp(s,"closure");this.closureVarNames[s.start]=n}return this.closureVarNames[s.start]}getScopeVarName(s){if(!this.scopeVarNames[s.start]){let n=this.addTemp(s,"scope");this.scopeVarNames[s.start]=n}return this.scopeVarNames[s.start]}};var Ze=Ae(Ce());var is=class{constructor(){this.typesDict={}}mergeTypes(s,n){let i={type:this.ensureNoTypeDuplicates(s),replaced:!0},u={type:this.ensureNoTypeDuplicates(n),replaced:!0},m={type:this.ensureNoTypeDuplicates(s),replaced:!1};if(!s&&n)return u;if(s&&!n)return i;if(!s&&!n)return m;if(typeof s=="string"&&typeof n=="string"&&s===n)return m;if(s===Ir)return u;if(n===Ir)return i;if(s===Ke)return u;if(n===Ke)return i;if(s===W)return i;if(n===W)return u;if(s===Y&&n instanceof me){if(Object.keys(n.properties).every(x=>x==="length"||Pi(Y,x)))return i}else if(s instanceof me&&n===Y){if(Object.keys(s.properties).every(x=>x==="length"||Pi(Y,x)))return u}else if(s instanceof D&&n instanceof D){let x=Math.max(n.capacity,s.capacity),k=n.isDynamicArray||s.isDynamicArray,y=this.mergeTypes(s.elementType,n.elementType);return s.capacity!=x||n.capacity!=x||s.isDynamicArray!=k||n.isDynamicArray!=k||y.replaced?{type:this.ensureNoTypeDuplicates(new D(y.type,x,k)),replaced:!0}:m}else{if(s instanceof ae&&n instanceof D)return this.mergeDictAndArray(s,n);if(s instanceof D&&n instanceof ae)return this.mergeDictAndArray(n,s);if(s instanceof me&&n instanceof me){if(s.forcedType&&!n.forcedType)return i;if(n.forcedType&&!s.forcedType)return u;let x=Object.keys(s.properties).concat(Object.keys(n.properties)),k=!1,y={};for(let N of x){let E=s.propertyDefs[N]?s.propertyDefs[N].recursive:!1,P=n.propertyDefs[N]?n.propertyDefs[N].recursive:!1,R=E||P?{type:Ke,replaced:E!=P}:this.mergeTypes(s.properties[N],n.properties[N]),L=s.propertyDefs[N]?s.propertyDefs[N].order:-1;n.propertyDefs[N]&&(L===-1||n.propertyDefs[N].order<L)&&(L=n.propertyDefs[N].order),y[N]={type:R.type,order:L,recursive:E||P},R.replaced&&(k=!0)}return k?{type:this.ensureNoTypeDuplicates(new me(y)),replaced:!0}:m}else{if(s instanceof D&&n instanceof me)return this.mergeArrayAndStruct(s,n);if(s instanceof me&&n instanceof D)return this.mergeArrayAndStruct(n,s);if(s instanceof ae&&n instanceof me)return this.mergeDictAndStruct(s,n);if(s instanceof me&&n instanceof ae)return this.mergeDictAndStruct(n,s);if(s instanceof ae&&n instanceof ae){let{type:x,replaced:k}=this.mergeTypes(s.elementType,n.elementType);return k?{type:this.ensureNoTypeDuplicates(new ae(x)),replaced:!0}:m}else if(s instanceof xe&&n instanceof xe){let{type:x,replaced:k}=this.mergeTypes(s.returnType,n.returnType),{type:y,replaced:N}=this.mergeTypes(s.instanceType,n.instanceType),{type:E,replaced:P}=this.mergeTypes(s.scopeType,n.scopeType),{type:R,replaced:L}=this.mergeTypes(s.argumentsType,n.argumentsType);if(k){let fe=x;for(;fe instanceof xe;){if(fe.returnType===s||fe.returnType===n){fe.returnTypeIsCircular=!0;break}fe=fe.returnType}}let se=Math.max(s.parameterTypes.length,n.parameterTypes.length),de=s.parameterTypes.length!==n.parameterTypes.length,ge=[];for(let fe=0;fe<se;fe++){let{type:ct,replaced:$e}=this.mergeTypes(s.parameterTypes[fe],n.parameterTypes[fe]);ge.push(ct),$e&&(de=!0)}let be=Math.max(s.closureParams.length,n.closureParams.length),Se=s.closureParams.length!==n.closureParams.length,v=[];for(let fe=0;fe<be;fe++)v.push(s.closureParams[fe]||n.closureParams[fe]);let C=s.needsClosureStruct!=n.needsClosureStruct,Xe=s.needsClosureStruct||n.needsClosureStruct,G=s.returnTypeIsCircular!=n.returnTypeIsCircular,Ee=s.returnTypeIsCircular||n.returnTypeIsCircular;return k||N||P||de||Se||C||G||L?{type:this.ensureNoTypeDuplicates(new xe({returnType:x,returnTypeIsCircular:Ee,parameterTypes:ge,instanceType:y,closureParams:v,needsClosureStruct:Xe,scopeType:E,argumentsType:R})),replaced:!0}:m}else return{type:W,replaced:!0}}}}mergeArrayAndStruct(s,n){let i=Object.keys(n.properties),u=!1,m=!1;if(i.length===0)u=!0;else for(let x of i)x!="length"&&(isNaN(+x)&&(u=!0),this.mergeTypes(s.elementType,n.properties[x]).replaced&&(m=!0));return u&&m?{type:this.ensureNoTypeDuplicates(new ae(W)),replaced:!0}:u?{type:this.ensureNoTypeDuplicates(new ae(s.elementType)),replaced:!0}:m?{type:this.ensureNoTypeDuplicates(new D(W,s.capacity,s.isDynamicArray)),replaced:!0}:{type:s,replaced:!0}}mergeDictAndStruct(s,n){let i=s.elementType;for(let u in n.properties)({type:i}=this.mergeTypes(i,n.properties[u]));return{type:this.ensureNoTypeDuplicates(new ae(i)),replaced:!0}}mergeDictAndArray(s,n){let i=this.mergeTypes(s.elementType,n.elementType);return i.replaced?{type:this.ensureNoTypeDuplicates(new ae(i.type)),replaced:!0}:{type:s,replaced:!0}}ensureNoTypeDuplicates(s){if(!s)return null;let n=gr(s),i=this.typesDict[n];if(i instanceof D&&(i.capacity=Math.max(i.capacity,s.capacity)),i instanceof me)for(let u in i.propertyDefs)i.propertyDefs[u].recursive=i.propertyDefs[u].recursive||s.propertyDefs[u].recursive;return i||(i=this.typesDict[n]=s),i}};var _t=Ae(Ce());var wa=Ae(Ce());var ss=class{constructor(s,n){this.allNodes=s;this.symbolsHelper=n;this.assignments={};this.circularAssignments={}}findCircularAssignments(){this.circularAssignments={},this.assignments={};for(let s of this.allNodes)if(lt(s)||it(s)){let n=lt(s)?s.left:s.binding,i=lt(s)?s.right:s.initializer;if(!n||!i)continue;let u=n,m=[];for(;Op(u)||$a(u);)(Ge(u)&&wa.isIdentifier(u.expression)||ft(u)&&ea(u.expression))&&m.unshift(u.expression.text),u=u.member;this.checkOneAssignment(s,u,m,i)}return Object.keys(this.circularAssignments).length>0&&console.log(Object.keys(this.circularAssignments)),this.circularAssignments}checkOneAssignment(s,n,i,u){if(Xt(u)){for(let y of u.propertyList.properties)rt(y)&&wa.isIdentifier(y.left)&&this.checkOneAssignment(s,n,i.concat(y.left.text),y.right);return}let m=[];for(;Ge(u)||ft(u);)(Ge(u)&&wa.isIdentifier(u.expression)||ft(u)&&ea(u.expression))&&m.unshift(u.expression.text),u=u.expression;let x=wa.isIdentifier(u)?this.symbolsHelper.getSymbolAtLocation(u):null,k=wa.isIdentifier(n)?this.symbolsHelper.getSymbolAtLocation(n):null;if(x&&x.valueDeclaration&&k&&k.valueDeclaration){let y=k.valueDeclaration.start+"->"+i.map(E=>E+"->").join(""),N=x.valueDeclaration.start+"->"+m.map(E=>E+"->").join("");(y.indexOf(N)===0||Object.keys(this.assignments).filter(E=>E.indexOf(N)===0).some(E=>this.assignments[E].some(P=>y.indexOf(P)===0)))&&(this.circularAssignments[s.id]={node:k.valueDeclaration,propChain:i}),this.assignments[y]=(this.assignments[y]||[]).concat(N)}}};var os=class{constructor(s,n,i,u,m){this.typeHelper=s;this.symbolsHelper=n;this.standardCallHelper=i;this.typeMerger=u;this.typeOfNodeDict=m}inferTypes(s){let i=new ss(s,this.symbolsHelper).findCircularAssignments(),u=y=>({getType:typeof y=="string"?N=>y:y}),m=(y,N,E=Ke,P=!1)=>new me({[y]:{type:E,order:N,recursive:P}}),x=[],k=(y,N,E)=>{typeof E=="function"?x.push([y,N,{getNode:E}]):x.push([y,N,E])};k(Xt,y=>y,u(y=>{if(y.propertyList.properties.some(E=>E.kind===_t.SyntaxKind.ComputedPropertyName)){let E=this.typeHelper.getCType(y.propertyList.properties[0]);for(let P=1;P<y.propertyList.properties.length-1;P++){let R=this.typeMerger.mergeTypes(E,this.typeHelper.getCType(y.propertyList.properties[P]));R.replaced&&(E=R.type)}return new ae(E)}let N={};for(let E=0;E<y.propertyList.properties.length-1;E++){let P=y.propertyList.properties[E];_t.isIdentifier(P)&&(N[P.text]={type:this.typeHelper.getCType(P)||Ke,order:E})}return this.typeMerger.ensureNoTypeDuplicates(new me(N))})),k(Sr,y=>y,u(y=>{let N=null;for(let E of y.elementList.elements){let P=this.typeHelper.getCType(E);if(P){let R=this.typeMerger.mergeTypes(N,P);R.replaced&&(N=R.type)}}return N?new D(N,0,!1):null})),k(vp,y=>y,u(y=>{let N=y.parent.parent,E=this.typeHelper.getCType(N);return E&&E instanceof D?E.elementType:E===W?W:null})),k(_t.isIdentifier,y=>y,y=>this.typeHelper.getDeclaration(y)),k(rt,y=>y,y=>y.right),k(rt,y=>y.parent.parent,u(y=>{let N=(_t.isIdentifier(y.left)||ea(y.left))&&y.left.text;return N?m(N,y.start,this.typeHelper.getCType(y)||Ke):new ae(this.typeHelper.getCType(y))})),k(rt,y=>y,u(y=>{let N=(_t.isIdentifier(y.left)||ea(y.left))&&y.left.text,E=this.typeHelper.getCType(y.parent.parent);return E instanceof me?E.properties[N]:E instanceof ae?E.elementType:null})),k(rt,y=>y,u(y=>{let N=this.typeHelper.getCType(y.right);return N instanceof xe&&N.closureParams.length?new xe({needsClosureStruct:!0}):null})),k(Ge,y=>y,y=>y.expression),k(Ge,y=>y.member,u(y=>{let N=this.typeHelper.getCType(y);return Ut(y.parent)&&y.parent.expression===y&&(!N||this.standardCallHelper.isStandardCall(y.parent))?null:m(te(y.expression),y.start,N||Ke)})),k(Ge,y=>y,u(y=>{let N=this.typeHelper.getCType(y.member);return N instanceof me?N.properties[te(y.expression)]:N instanceof D&&te(y.expression)=="length"?B:N===Y&&te(y.expression)=="length"?B:N instanceof D||N instanceof ae?N.elementType:N===W&&te(y.expression)=="length"?B:N===W?W:null})),k($a,y=>y.member,u(y=>{let N=this.typeHelper.getCType(y.expression),E=this.typeHelper.getCType(y)||Ke;return ea(y.expression)?m(y.expression.text,y.start,E):Ye(y.expression)?new D(E,0,!1):N==B?new D(E,0,!1):N==Y?new ae(E):null})),k($a,y=>y,u(y=>{let N=this.typeHelper.getCType(y.member);return Oe(y.expression)&&N instanceof me?N.properties[y.expression.text]:Oe(y.expression)&&N instanceof D&&y.expression.text=="length"?B:Oe(y.expression)&&N===Y&&y.expression.text=="length"?B:Oe(y.expression)&&N===W&&y.expression.text=="length"?B:N instanceof D||N instanceof ae?N.elementType:N===W?W:null})),k(lt,y=>y.left,y=>i[y.id]?null:y.right),k(lt,y=>y.left,u(y=>{let N=this.typeHelper.getCType(y.right);return N instanceof xe&&N.closureParams.length?new xe({needsClosureStruct:!0}):null})),k(Pp,y=>y.left.member,u(y=>i[y.id]?ft(y.left)&&Oe(y.left.expression)?m(y.left.expression.text,y.left.start,Ke,!0):Ge(y.left)&&_t.isIdentifier(y.left.expression)?m(y.left.expression.text,y.left.start,Ke,!0):null:null)),k(Tl,y=>y.consequent,y=>y.alternate),k(Tl,y=>y,y=>y.alternate),k(jt,y=>y,u(y=>Yp(y.operandToken.kind,this.typeHelper.getCType(y.operand)))),k(jt,y=>y.operand,u(y=>{if(y.operandToken.kind!==_t.SyntaxKind.Increment&&y.operandToken.kind!==_t.SyntaxKind.Decrement)return null;let N=this.typeHelper.getCType(y),P=($t(y.operand)&&this.typeHelper.getCType(y.operand.member))instanceof ae;return N==W||ut(N)||P?W:null})),k(yt,y=>y,u(y=>Qp(this.typeMerger.mergeTypes.bind(this.typeMerger),this.typeHelper.getCType(y.left),y.operatorToken.kind,this.typeHelper.getCType(y.right)))),k(yt,y=>y.left,u(y=>{let N=this.typeHelper.getCType(y),E=this.typeHelper.getCType(y.left),P=this.typeHelper.getCType(y.right);return N===W?Pr(y.operatorToken)?W:E instanceof D?new D(W,0,!0):E instanceof me||E instanceof ae?new ae(W):null:Il(E,y.operatorToken.kind,P)&&ut(E)?W:null})),k(yt,y=>y.right,u(y=>{let N=this.typeHelper.getCType(y),E=this.typeHelper.getCType(y.right),P=this.typeHelper.getCType(y.left);return N===W&&!xa(y.operatorToken.kind)?E instanceof D?new D(W,0,!0):E instanceof me||E instanceof ae?new ae(W):null:Il(P,y.operatorToken.kind,E)&&ut(E)?W:null})),k(tn,y=>y,y=>y.expression),k(qp,y=>y.operand,u(Ke)),k(zp,y=>y.operand.member,u(y=>new ae(W))),k(mt,y=>y.expression,y=>_t.isIdentifier(y.expression)?this.typeHelper.getDeclaration(y.expression):null),k(mt,y=>y.expression,u(y=>this.typeHelper.getCType(y)?new xe({returnType:this.typeHelper.getCType(y),parameterTypes:y.argumentList.elements.map(N=>this.typeHelper.getCType(N))}):null)),k(ma,y=>y,y=>{let N=y.parent.parent,E=N.argumentList.elements.indexOf(y),P=_t.isIdentifier(N.expression)?this.typeHelper.getDeclaration(N.expression):null;if(P&&dt(P.parent)){let R=P.parent.formalParameterList.formalParameters[E];return this.typeHelper.getCType(R)instanceof xe?R:null}else return null}),k(ma,y=>this.typeHelper.getFunctionDeclarationFromCallArgument(y),u(y=>{let N=this.typeHelper.getFunctionDeclarationFromCallArgument(y),E=this.typeHelper.getCType(N);if(E instanceof xe&&E.argumentsType){let P=this.typeHelper.getCType(y),R=y.parent.elements.length;return P&&P!==Ke?new xe({argumentsType:new D(P,R,!1)}):null}else return null})),k(mt,y=>y.expression,u(y=>{if(mt(y)&&mt(y.expression)){let N=this.typeHelper.getCType(y.expression);if(N instanceof xe&&N.closureParams.length)return new xe({needsClosureStruct:!0})}return null})),k(mt,y=>y,u(y=>xe.getReturnType(this.typeHelper,y.expression))),k(Vi,y=>y,y=>y.left),k(Vi,y=>y,y=>y.right),k(ji,y=>y,u(y=>_t.isIdentifier(y.expression)&&y.expression.text==="Object"?new me({}):xe.getInstanceType(this.typeHelper,y.expression))),k(Jp,y=>y,y=>{let N=y.parent.parent,E=N.argumentList.elements.indexOf(y),P=_t.isIdentifier(N.expression)?this.typeHelper.getDeclaration(N.expression):null;return P&&dt(P.parent)?P.parent.formalParameterList.formalParameters[E]:null}),k(_l,y=>Me(y),u(y=>new xe({instanceType:this.typeHelper.getCType(y)}))),k(_l,y=>y,u(y=>xe.getInstanceType(this.typeHelper,Me(y)))),k(El,y=>Me(y),u(y=>{let N=ft(y.parent)&&y.parent.member===y?this.typeHelper.getCType(y.parent):null;return new xe({argumentsType:new D(N??Ke,0,!1)})})),k(El,y=>y,u(y=>{let N=Me(y),E=this.typeHelper.getCType(N);return E instanceof xe&&E.argumentsType?E.argumentsType:null})),k(Ut,y=>y.expression.member,u(y=>this.standardCallHelper.getObjectType(y))),k(Ut,y=>y,u(y=>this.standardCallHelper.getReturnType(y))),k(ma,y=>y,u(y=>{if(Ip(y))return null;if(Ut(y.parent.parent)){let N=y.parent.parent.argumentList.elements.indexOf(y),E=this.standardCallHelper.getArgumentTypes(y.parent.parent)[N],P=this.typeHelper.getCType(y),R=this.typeMerger.mergeTypes(P,E);return R.replaced?R.type===W?null:R.type:null}})),k(Nt,y=>y,y=>y.name),k(Nt,y=>y,u(y=>new xe({parameterTypes:y.formalParameterList.formalParameters.map(N=>this.typeHelper.getCType(N))}))),k(Vp,y=>y,u(y=>{let N=y.parent.parent,E=N.formalParameterList.formalParameters.indexOf(y),P=this.typeHelper.getCType(N);return P instanceof xe?P.parameterTypes[E]:null})),k(Nt,y=>y,u(y=>{let N=Xp(y),E={};for(let P of N){let R=this.typeHelper.getCType(P);if(R&&R.needsClosureStruct&&R.closureParams)for(let L of R.closureParams){let se=this.typeHelper.getDeclaration(L.node);E[L.node.text]={type:this.typeHelper.getCType(L.node)||Ke,pos:se.start},Me(se)===y&&this.typeHelper.registerScopeVariable(se)}}return Object.keys(E).length>0?new xe({scopeType:new me(E)}):null})),k(Nt,y=>y,u(y=>{let N=hr(y),E=[];return N.filter(P=>_t.isIdentifier(P)).forEach(P=>{let R=this.typeHelper.getDeclaration(P);if(R&&Nt(R.parent)&&!vl(y,R.parent)){let L=this.typeHelper.getCType(R);if(!L)return;for(let se of L.closureParams)E.some(de=>de.node.text===se.node.text)||E.push(se)}else{let L=R&&Me(R),se=Ge(P.parent)&&P.parent.expression===P,de=lt(P.parent)||Pr(P.parent);if(L&&L!=y&&vl(L,y)&&!se){let ge=E.filter(be=>be.node.text===P.text)[0];ge?de&&!ge.assigned&&(ge.assigned=!0):E.push({assigned:de,node:P,refs:[P]}),ge&&ge.refs.push(P)}}}),E.length?new xe({closureParams:E}):null})),k(it,y=>y.binding,y=>y),k(it,y=>y.binding,y=>y.initializer),k(it,y=>y.binding,u(y=>{let N=this.typeHelper.getCType(y.initializer);return N instanceof xe&&N.closureParams.length?new xe({needsClosureStruct:!0}):null})),k(Kl,y=>y.expression,u(y=>new D(this.typeHelper.getCType($r(y.initializer))||Ke,0,!1))),k(Kl,y=>$r(y.initializer),u(y=>{let N=this.typeHelper.getCType(y.expression);return N instanceof D?N.elementType:null})),k(kl,y=>y.expression,u(y=>new D(this.typeHelper.getCType(y.initializer)||Ke,0,!1))),k(kl,y=>y.initializer,u(y=>{let N=this.typeHelper.getCType(y.expression);return N instanceof D?N.elementType:null})),k(Bp,y=>y.initializer,u(Y)),k(Hp,y=>$r(y.initializer),u(Y)),k(fa,y=>y.expression,u(y=>new ae(Ke))),k(vr,y=>y.expression,u(y=>xe.getReturnType(this.typeHelper,Me(y)))),k(vr,y=>Me(y),u(y=>this.typeHelper.getCType(y.expression)?new xe({returnType:this.typeHelper.getCType(y.expression)}):null)),k(en,y=>y.expression,y=>y.parent.parent.expression),k(Ri,y=>y.catchParameter,u(Y)),k(Wp,y=>y.parent,u(y=>{let N=this.typeHelper.getCTypeFromTypeNode(y.type);if(Nt(y.parent))return new xe({returnType:N});if(it(y.parent)||Vi(y.parent))return N})),this.resolveTypes(s,x)}resolveTypes(s,n){let i=[];for(let m of s){this.setNodeType(m,this.typeHelper.getCType(m));for(let x of n)x[0].bind(this)(m)&&i.push([m,x])}for(let m of this.symbolsHelper.globalSymbolsWithResolvers)for(let x of m.references){if(!mt(x.parent)&&!ji(x.parent))continue;if(!m.resolver){console.error("globalSymbolsWithResolvers have a symbol without resolver!",m);continue}let k=m.resolver.returnType(this.typeHelper,x.parent);if(this.setNodeType(x.parent,k),this.setNodeType(x,k),x.parent.argumentList.elements.length>0&&m.resolver.argumentTypes){let y=m.resolver.argumentTypes(this.typeHelper,x.parent);for(let N=0;N<x.parent.argumentList.elements.length;N++)this.setNodeType(x.parent.argumentList.elements[N],y[N])}}let u;do{u=!1;for(let m of i){let[x,[k,y,N]]=m,E=y(x);if(!E)continue;let P=this.typeHelper.getCType(E),R=N.getNode?N.getNode(x):null,L=N.getType?N.getType(x):this.typeHelper.getCType(R);if(!R&&!L)continue;let{type:se,replaced:de}=this.typeMerger.mergeTypes(P,L);se&&de&&(se!=P&&(u=!0),R&&se!=L&&(u=!0),this.setNodeType(E,se),R&&this.propagateNodeType(E,R))}}while(u);for(let m in this.typeOfNodeDict){let x=this.typeOfNodeDict[m].type;x instanceof D&&!x.isDynamicArray&&x.capacity==0&&(x.isDynamicArray=!0),x instanceof me&&Object.keys(x.properties).length==0&&!x.external&&!x.forcedType&&(this.typeOfNodeDict[m].type=new ae(Ke))}}setNodeType(s,n){if(s&&n){let i=s.id;this.typeOfNodeDict[i]?this.typeOfNodeDict[i].type=n:this.typeOfNodeDict[i]={type:n}}}propagateNodeType(s,n){let i=this.typeOfNodeDict[s.id],u=this.typeOfNodeDict[n.id];this.typeOfNodeDict[n.id]=u;for(let m in this.typeOfNodeDict)this.typeOfNodeDict[m]===u&&(this.typeOfNodeDict[m]=i)}};var Je=Ae(Ce());function ls(){if(typeof process=="object"){let t=gl("path"),s=gl("fs");return{path:{join:t.join,dirname:t.dirname},fs:{existsSync:s.existsSync,readFileSync:s.readFileSync}}}else{if(typeof XMLHttpRequest=="function")return{path:{join:(...t)=>t.map(s=>s.replace(/^\/+|\/+$/,"")).filter(s=>s!=="").join("/"),dirname:t=>t.substring(0,t.lastIndexOf("/"))},fs:{existsSync:_y,readFileSync:Ty}};console.error('Unrecognized environment! Expected either "process" (Node.js) or "XMLHttpRequest" (browser) to be present.')}}function Ty(t){var s=new XMLHttpRequest;if(s.open("GET",t,!1),s.send(),s.status===200)return s.responseText;console.error("Failed to load file "+t+": server returned "+s.status+" "+s.responseText)}function _y(t){var s=new XMLHttpRequest;return s.open("HEAD",t,!1),s.send(),s.status<400}function Dl(t,s,n){let i=ls(),u=[];return n.startsWith(".")?u.push(i.path.join(s,n+".ts"),i.path.join(s,n+".js")):u.push(i.path.join(t,"node_modules",n+".d.ts"),i.path.join(t,"node_modules",n+".ts"),i.path.join(t,"node_modules",n,"index.d.ts"),i.path.join(t,"node_modules",n,"index.ts")),u}var sn={nextNodeId:1};function $p(t,s,n){t.id=sn.nextNodeId++,t.rootId=t.id,n.createSymbolScope(t.id,t.start,t.end),n.addStandardSymbols(t.id),Sl(t.id,n);let i=ls(),u=i.path.dirname(s),m=u,x=[t],k=[t],y={[s]:t.id},N=[{rootId:t.id,fileName:s}],E=Je.createTransform(),P=R=>L=>{if(L.parent=R,L.rootId=N[0].rootId,L.id=sn.nextNodeId++,x.push(L),Je.isIdentifier(L)){if(dt(L.parent)&&L.parent.name===L){let ge=L.parent.parent.kind===Je.SyntaxKind.ExportDeclaration;n.registerSymbol(L,ge)}else if(it(L.parent)&&L.parent.binding===L){let ge=L.parent.parent.parent.parent.kind===Je.SyntaxKind.ExportDeclaration;n.registerSymbol(L,ge)}else if(L.parent.kind===Je.SyntaxKind.FormalParameterList)n.registerSymbol(L);else if(rt(L.parent)&&L.parent.left===L)n.registerSymbol(L);else if(Ri(L.parent)&&L.parent.catchParameter===L)n.registerSymbol(L);else if(L.parent.kind===Je.SyntaxKind.ExportSpecifier)n.addToExportedSymbols(L);else if(L.parent.kind===Je.SyntaxKind.ImportSpecifier){let ge=L.parent,Se=L.parent.parent.parent.parent.parent.fromClause.from,v=Oe(Se)?Se.text:null,C=Dl(u,m,v),Xe=!1;for(let G of C){let Ee=y[G];if(typeof Ee=="number"){let fe=n.exportedSymbols[Ee],ct=ge.name?ge.name.text:ge.binding.text,$e=fe?.find(et=>et.valueDeclaration.text===ct);$e?n.insertExistingSymbolIntoScope(ge.binding,$e):console.warn("Symbol with name "+ct+" was not found among module "+G+" exports."),Xe=!0;break}}Xe||console.warn('Failed to resolve import "'+v+'" in file '+N[0].fileName+".")}else $t(L.parent),n.addReference(L);L.text==="NaN"&&n.isGlobalSymbol(L)?L.kind=Zr:L.text==="Number"&&n.isGlobalSymbol(L)&&$t(L.parent)&&L.parent.member===L&&Je.isIdentifier(L.parent.expression)&&L.parent.expression.text==="NaN"?L.parent.kind=Zr:L.text==="undefined"&&n.isGlobalSymbol(L)&&(L.kind=Je.SyntaxKind.UndefinedKeyword),!L.text&&L.kind===Je.SyntaxKind.ThisKeyword&&(L.text="this")}else Nt(L)?n.createSymbolScope(L.rootId,L.formalParameterList.start,L.end):Dp(L)&&n.createSymbolScope(L.rootId,L.statement.start,L.end);if(L.kind===Je.SyntaxKind.ImportDeclaration){let ge=L,be=ge.moduleSpecifier||ge.fromClause.from;if(Oe(be)){let Se=be.text;if(i===null)console.error("File system is not supported in this environment! Skipping import of "+Se);else{let v=Dl(u,m,Se);for(;v.length>0;){let C=v.shift();if(y[C]||(y[C]=!0,!i.fs.existsSync(C)))continue;let Xe=i.fs.readFileSync(C,"utf-8"),G=Ii(C,Xe,{allowTypes:C.endsWith(".d.ts")});if(G.fatalErrors.length>0)continue;let Ee=sn.nextNodeId++;G.rootNode.id=Ee,G.rootNode.rootId=Ee,y[C]=Ee,n.createSymbolScope(Ee,G.rootNode.start,G.rootNode.end),n.addStandardSymbols(Ee),Sl(Ee,n),k.unshift(G.rootNode),N.unshift({rootId:Ee,fileName:C}),m=i.path.dirname(N[0].fileName),Je.visitEachChild(Je.createTransform(),G.rootNode,P(G.rootNode)),N.shift(),m=i.path.dirname(N[0].fileName)}}}}let se=hl(L)&&tn(L.expression)&&mt(L.expression.expression)&&Xa(L.expression.expression.expression)&&L.expression.expression.argumentList.elements.length===0,de=hl(L)&&mt(L.expression)&&tn(L.expression.expression)&&Xa(L.expression.expression.expression)&&L.expression.argumentList.elements.length===0;if(se||de){let ge=L.expression.expression.expression;if(Ui(ge).filter(vr).length===0){let Se=ge.contents.functionStatementList.statements,v=Je.createBlock(Se,Je.NodeFlags.None,L.start,L.end),C=Je.createBlockStatement(v,Je.NodeFlags.IsStatement,L.start,L.end),Xe=L.parent,G=Xe.statements.indexOf(L);Xe.statements.splice(G,1,C),C.id=L.id,C.parent=Xe,L=C}}Je.visitEachChild(E,L,P(L))};return Je.visitEachChild(E,t,P(t)),n.renameConflictingSymbols(),{rootNodes:k,nodes:x}}var ds=class t{constructor(s){this.symbolsHelper=s;this.arrayLiteralsTypes={};this.typeOfNodeDict={};this.typeMerger=new is;this.scopeVariables={};this.standardCallHelper=new vi(this),this.typeResolver=new os(this,s,this.standardCallHelper,this.typeMerger,this.typeOfNodeDict)}inferTypes(s){this.typeResolver.inferTypes(s)}getCType(s){if(!s||!s.kind)return null;let n=this.typeOfNodeDict[s.id];if(n)return n.type;switch(s.kind){case Ze.SyntaxKind.NumericLiteral:return B;case Ze.SyntaxKind.TrueKeyword:case Ze.SyntaxKind.FalseKeyword:return _e;case Ze.SyntaxKind.StringLiteral:return Y;case Ze.SyntaxKind.RegularExpressionLiteral:return Yt;case Ze.SyntaxKind.UndefinedKeyword:case Ze.SyntaxKind.NullKeyword:case Zr:return W;case Ze.SyntaxKind.ArrayLiteral:return this.arrayLiteralsTypes[s.start]||this.determineArrayType(s),this.arrayLiteralsTypes[s.start]}return null}getCTypeFromTypeNode(s){switch(s.kind){case Ze.SyntaxKind.NumberKeyword:case Ze.SyntaxKind.NumberType:return B;case Ze.SyntaxKind.StringKeyword:case Ze.SyntaxKind.StringType:return Y;case Ze.SyntaxKind.BooleanKeyword:case Ze.SyntaxKind.BooleanType:return _e;case Ze.SyntaxKind.UndefinedKeyword:case Ze.SyntaxKind.NullKeyword:return W;case Ze.SyntaxKind.VoidKeyword:return Ir;case Ze.SyntaxKind.TypeReference:let n=Vr(s).fileName.endsWith(".d.ts"),i=s.typeName.text;if(i==="Uint8Array")return new D("char",0,!1);let u=new me({});return n&&(u.forcedType="struct "+i+" *",u.external=n),u;default:console.warn("Type node not supported yet!",Ze.SyntaxKind[s.kind],"=",s.kind)}}getTypeString(s){return s instanceof D||s instanceof me||s instanceof ae||s instanceof xe?s.getText():typeof s=="string"?s:"/* Cannot determine variable type from source "+JSON.stringify(s)+"*/"}getDeclaration(s){let n=this.symbolsHelper.getSymbolAtLocation(s);return n&&n.valueDeclaration}getFunctionDeclarationFromCallArgument(s){let n=s.parent.parent,i=Ze.isIdentifier(n.expression)?this.getDeclaration(n.expression):null;return i&&dt(i.parent)?i.parent:null}static{this.syntheticNodesCounter=0}registerSyntheticNode(s,n){if(!s)return!1;s.id=sn.nextNodeId++,s.end=t.syntheticNodesCounter++,this.typeResolver.setNodeType(s,n)}registerScopeVariable(s){this.scopeVariables[s.start]=!0}isScopeVariableDeclaration(s){return this.scopeVariables[s.start]||!1}isScopeVariable(s){let n=this.getDeclaration(s);return n&&this.scopeVariables[n.start]||!1}determineArrayType(s){let n=Ke,i=s.elementList.elements.length;i>0&&(n=this.getCType(s.elementList.elements[0])||Ke);let u=new D(n,i,!1);return this.arrayLiteralsTypes[s.start]=u,u}};var De=Ae(Ce());var cs=class{constructor(s,n,i){this.typeHelper=s;this.symbolsHelper=n;this.standardCallHelper=i;this.scopes={};this.scopesOfVariables={};this.reusedVariables={};this.originalNodes={};this.needsGCMain=!1}scheduleNodeDisposals(s){for(let n of s)switch(n.kind){case De.SyntaxKind.ArrayLiteral:{let i=this.typeHelper.getCType(n);(i&&i instanceof D&&i.isDynamicArray||i instanceof ae||i===W)&&this.scheduleNodeDisposal(n,{canReuse:i!==W})}break;case De.SyntaxKind.ObjectLiteral:{let i=this.typeHelper.getCType(n);this.scheduleNodeDisposal(n,{canReuse:i!==W})}break;case De.SyntaxKind.BinaryExpression:case De.SyntaxKind.AssignmentExpression:{let i=n,u=this.typeHelper.getCType(i.left),m=this.typeHelper.getCType(i.right);if(Cl(i.operatorToken.kind))if(u===W||m===W)this.needsGCMain=!0;else{let x=i;for(;yt(x.parent)&&Cl(x.parent.operatorToken.kind);)x=x.parent;let k=!1,y=x.parent.kind===De.SyntaxKind.ArgumentList?x.parent.parent:null;y&&mt(y)&&Ge(y.expression)&&De.isIdentifier(y.expression.member)&&y.expression.member.text==="console"&&(k=this.symbolsHelper.isGlobalSymbol(y.expression.member)&&De.isIdentifier(y.expression.expression)&&y.expression.expression.text==="log"),!k&&(Yr(u)==Y||Yr(m)==Y)&&this.scheduleNodeDisposal(i,{canReuse:!1})}i.operatorToken.kind===De.SyntaxKind.InKeyword&&!(m instanceof D)&&(u===W||u instanceof D||u===B&&!Ye(i.left))&&this.scheduleNodeDisposal(i.left)}break;case De.SyntaxKind.CallExpression:if(Ut(n)&&this.standardCallHelper.needsDisposal(n))this.scheduleNodeDisposal(n);else{let i=n,u=this.symbolsHelper.getSymbolAtLocation(i.expression);u&&u.resolver&&u.resolver.needsDisposal(this.typeHelper,i)&&this.scheduleNodeDisposal(n)}break;case De.SyntaxKind.NewExpression:this.scheduleNodeDisposal(n);break;case De.SyntaxKind.FunctionExpression:case De.SyntaxKind.FunctionDeclaration:{let i=this.typeHelper.getCType(n);Me(n.parent)&&i instanceof xe&&i.needsClosureStruct?this.scheduleNodeDisposal(n,{subtype:"closure"}):i instanceof xe&&i.scopeType&&this.scheduleNodeDisposal(n,{subtype:"scope",canReuse:!1})}break;case De.SyntaxKind.MemberAccessExpression:{let i=n,u=this.typeHelper.getCType(i.member),m=this.typeHelper.getCType(i.expression);u instanceof ae&&m===B&&!Ye(i.expression)&&this.scheduleNodeDisposal(i.expression,{canReuse:!1})}break}}getGCVariablesForScope(s){let n=Me(s);var i=n&&n.start+1+""||"main";let u=this.scopes[i]&&this.scopes[i].length&&this.scopes[i][0].scopeId,m=[];return this.scopes[i]&&this.scopes[i].filter(x=>!x.simple&&!x.array&&!x.dict&&!x.arrayWithContents).length&&m.push("gc_"+u),i==="main"&&this.needsGCMain&&m[0]!=="gc_main"&&m.push("gc_main"),this.scopes[i]&&this.scopes[i].filter(x=>!x.simple&&x.array).length&&m.push("gc_"+u+"_arrays"),this.scopes[i]&&this.scopes[i].filter(x=>!x.simple&&x.arrayWithContents).length&&m.push("gc_"+u+"_arrays_c"),this.scopes[i]&&this.scopes[i].filter(x=>!x.simple&&x.dict).length&&m.push("gc_"+u+"_dicts"),m}getGCVariableForNode(s){let n=s.id;return this.reusedVariables[n]&&(n=this.reusedVariables[n]),this.scopesOfVariables[n]&&!this.scopesOfVariables[n].simple?this.scopesOfVariables[n].array?"gc_"+this.scopesOfVariables[n].scopeId+"_arrays":this.scopesOfVariables[n].arrayWithContents?"gc_"+this.scopesOfVariables[n].scopeId+"_arrays_c":this.scopesOfVariables[n].dict?"gc_"+this.scopesOfVariables[n].scopeId+"_dicts":"gc_"+this.scopesOfVariables[n].scopeId:null}getDestructorsForScope(s){let n=Me(s),i=n&&n.start+1||"main",u=[];if(this.scopes[i])for(let m of this.scopes[i].filter(x=>x.simple&&x.used)){let x=this.typeHelper.getCType(m.node);u.push({varName:m.varName,array:m.array,dict:m.dict,string:x==Y,arrayWithContents:m.arrayWithContents})}return u}variableWasReused(s){return!!this.reusedVariables[s.id]}getReservedTemporaryVarName(s){let n=s.id;this.reusedVariables[n]&&(n=this.reusedVariables[n]);let i=this.scopesOfVariables[n];return i?(i.used=!0,i.varName):null}tryReuseExistingVariable(s){return lt(s.parent)&&De.isIdentifier(s.parent.left)?s.parent.left:it(s.parent)&&De.isIdentifier(s.parent.binding)?s.parent.binding:null}scheduleNodeDisposal(s,n){n={canReuse:!0,subtype:null,...n};let i=!0;if(n.canReuse){let Se=this.tryReuseExistingVariable(s);i=Se==null,i||(this.reusedVariables[s.id]=Se.id,this.originalNodes[Se.id]=s,s=Se)}let u=Me(s),m=u&&u.start+1||"main",x=!0;this.isInsideLoop(s)&&(x=!1);let k={};k[m]=!0;let y=te(s).trim(),N=[{node:s,nodeFunc:null}];n.subtype==="scope"&&(N=this.getStartNodesForTrekingFunctionScope(s).map(Se=>({node:Se,nodeFunc:null})));let E={};for(;N.length>0;){let{node:Se,nodeFunc:v}=N.shift();if(E[Se.id])continue;let C=[Se];if(De.isIdentifier(Se)){let G=this.symbolsHelper.getSymbolAtLocation(Se);G&&(C=G.references)}else if(dt(Se)){let G=this.symbolsHelper.getSymbolAtLocation(Se.name);G&&(C=G.references)}let Xe=!1;for(let G of C){E[G.id]=!0;let Ee=Me(Nt(G)?G.parent:G);if(Ee||(m="main"),$t(G)){let fe=G;for(;$t(fe.member);)fe=fe.member;De.isIdentifier(fe.member)&&(console.log(y+" -> Tracking parent variable: "+te(fe.member)+"."),N.push({node:fe.member,nodeFunc:v}))}if(G.parent&&Ge(G.parent)&&G.parent.expression===G&&this.typeHelper.getCType(G.parent.member)instanceof me&&(console.log(y+" -> Property of object "+te(G.parent.member)+"."),N.push({node:G.parent,nodeFunc:v})),G.parent&&ft(G.parent)&&G.parent.expression===G&&this.typeHelper.getCType(G.parent.member)instanceof ae&&(console.log(y+" -> Property of dictionary "+te(G.parent.member)+"."),N.push({node:G.parent.member,nodeFunc:v})),lt(G.parent)&&G.parent.left===G&&De.isIdentifier(s)&&De.isIdentifier(G)&&s.text===G.text&&(console.log(y+" -> Detected assignment: "+te(G.parent)+"."),x=!1),yt(G)&&Pr(G.operatorToken)&&(console.log(te(G)+" -> is a compound assignment to variable "+te(G.left)),N.push({node:G.left,nodeFunc:v})),G.parent&&rt(G.parent)&&G===G.parent.right&&(console.log(y+" -> Detected passing to object literal: "+te(G.parent)+"."),N.push({node:G.parent.left,nodeFunc:v}),N.push({node:G.parent.parent.parent,nodeFunc:v})),G.parent&&G.parent.kind==De.SyntaxKind.ArrayLiteral&&(console.log(y+" -> Detected passing to array literal: "+te(G.parent)+"."),N.push({node:G.parent,nodeFunc:v})),G.parent&&G.parent.kind==De.SyntaxKind.ParenthesizedExpression&&(console.log(y+" -> Found parenthesized expression."),N.push({node:G.parent,nodeFunc:v})),G.parent&&G.parent.kind==De.SyntaxKind.CallExpression){let fe=G.parent;if(De.isIdentifier(fe.expression)&&fe.expression===G){if(console.log(y+" -> Found function call!"),m!=="main"){let ct=Me(fe);m=ct&&ct.start+1||"main";let $e=v&&v.start+1+""||"none";x=!1,k[$e]&&delete k[$e],k[m]=$e}if(vr(fe.parent)&&!Xe){let ct=Ee;dt(Ee)&&(ct=Ee.name),N.push({node:ct,nodeFunc:Ee}),console.log(y+" -> Found variable returned from the function!"),Xe=!0,x=!1}else this.addIfFoundInAssignment(s,fe,N,v)}else fe.expression===G&&(console.log(y+" -> Found function expression call!"),x=!1,N.push({node:fe,nodeFunc:v}))}if(ma(G)){let fe=G.parent.parent,ct=De.isIdentifier(fe.expression)&&this.typeHelper.getDeclaration(fe.expression);if(ct){let $e=ct.parent;for(let et=0;et<fe.argumentList.elements.length;et++)fe.argumentList.elements[et].start<=G.start&&fe.argumentList.elements[et].end>=G.end&&($e.start+1===m?(console.log(y+" -> Found recursive call with parameter "+te($e.formalParameterList.formalParameters[et])),N.push({node:ct,nodeFunc:v})):(console.log(y+" -> Found passing to function "+te(fe.expression).trim()+" as parameter "+te($e.formalParameterList.formalParameters[et])),N.push({node:$e.formalParameterList.formalParameters[et],nodeFunc:v})),x=!1)}else{let $e=Ut(fe)&&this.standardCallHelper.isStandardCall(fe),et;if($e)et=this.standardCallHelper.getEscapeNode(fe);else{let Ea=this.symbolsHelper.getSymbolAtLocation(fe.expression);$e=!!(Ea&&Ea.resolver),$e&&(et=Ea.resolver.getEscapeNode(this.typeHelper,fe))}$e?et&&(console.log(y+" escapes to '"+te(et)+"' via standard call '"+te(fe)+"'."),N.push({node:et,nodeFunc:v})):(console.log(y+" -> Detected passing to external function "+te(fe.expression)+"."+(m!="main"?"Scope changed to main.":"")),m="main")}}if(vr(G.parent)&&!Xe){let fe=Ee;dt(Ee)&&(fe=Ee.name),N.push({node:fe,nodeFunc:Ee}),console.log(y+" -> Found variable returned from the function!"),Xe=!0,x=!1}this.addIfFoundInAssignment(s,G,N,v)}}let P=this.typeHelper.getCType(s),R;if(!i&&De.isIdentifier(s))R=s.text;else if(Oe(s))R=this.symbolsHelper.addTemp(s,"tmp_string");else if(Ye(s))R=this.symbolsHelper.addTemp(s,"tmp_number");else if(Sr(s))R=this.symbolsHelper.addTemp(s,"tmp_array");else if(Xt(s))R=this.symbolsHelper.addTemp(s,"tmp_obj");else if(yt(s))R=this.symbolsHelper.addTemp(s,"tmp_result");else if(jt(s))R=this.symbolsHelper.addTemp(s,"tmp_number");else if(Ut(s))R=this.symbolsHelper.addTemp(s,this.standardCallHelper.getTempVarName(s));else if(De.isIdentifier(s))R=this.symbolsHelper.addTemp(s,s.text);else if(Nt(s)){let Se=n.subtype||"tmp",v=rt(s.parent)&&De.isIdentifier(s.parent.left)?s.parent.left.text+"_"+Se:Se,C=s.name?s.name.text+"_"+Se:v;R=this.symbolsHelper.addTemp(Vr(s),C)}else R=this.symbolsHelper.addTemp(s,"tmp");let L=s,se=L.id,de=!1;this.originalNodes[se]&&(L=this.originalNodes[se]),Ut(L)&&L.expression.expression.text==="match"&&this.typeHelper.getCType(L.expression.member)===Y&&(de=!0);let ge=m=="main"?[m]:Object.keys(k);var be={node:s,simple:x,arrayWithContents:de,array:!de&&P&&P instanceof D&&P.isDynamicArray||P===W&&Sr(s),dict:P&&P instanceof ae||P===W&&Xt(s),varName:R,scopeId:ge.join("_"),used:!i};this.scopesOfVariables[s.id]=be;for(let Se of ge)this.scopes[Se]=this.scopes[Se]||[],this.scopes[Se].push(be)}getStartNodesForTrekingFunctionScope(s){let n=Ui(s),i=[];for(let u of n){let m=this.typeHelper.getCType(u);m instanceof xe&&m.needsClosureStruct&&i.push(u)}return i}addIfFoundInAssignment(s,n,i,u){if(n.parent&&it(n.parent)){if(n.parent.initializer&&n.parent.initializer===n)return i.push({node:n.parent.binding,nodeFunc:u}),console.log(te(s)+" -> Found initializer-assignment to variable "+te(n.parent.binding).trim()),!0}else if(lt(n.parent)&&n.parent.right===n)return i.push({node:n.parent.left,nodeFunc:u}),console.log(te(s)+" -> Found assignment to variable "+te(n.parent.left).trim()),!0;return!1}isInsideLoop(s){for(var n=s;n&&n.kind!=De.SyntaxKind.ForInStatement&&n.kind!=De.SyntaxKind.ForOfStatement&&n.kind!=De.SyntaxKind.ForStatement&&n.kind!=De.SyntaxKind.WhileStatement&&n.kind!=De.SyntaxKind.DoWhileStatement;)n=n.parent;return!!n}};var Zt=Ae(Ce());var aa=class extends j{constructor(n,i){super();this.parameters=[];this.name=i.name.text;let u=n.root.typeHelper.getCType(i);this.funcDecl=new q(n,this.name,u.returnType,{removeStorageSpecifier:!0,arraysToPointers:!0,funcDecl:!0}),this.parameters=i.formalParameterList.formalParameters.map((m,x)=>Zt.isIdentifier(m)?new q(n,m.text,u.parameterTypes[x],{removeStorageSpecifier:!0}):"/* unsupported parameter '"+te(m)+"' */"),u.instanceType&&this.parameters.unshift(new q(n,"this",u.instanceType,{removeStorageSpecifier:!0}));for(let m of u.closureParams)this.parameters.push(new q(n,m.node.text,m.node,{removeStorageSpecifier:!0}))}};aa=V([O("{funcDecl}({parameters {, }=> {this}});")],aa);var on=class extends j{constructor(n,i){super();this.root=n;this.func=this;this.parameters=[];this.variables=[];this.scopeVarAllocator=null;this.statements=[];this.destructors="";if(this.parent=n,this.name=i.name&&i.name.text,!this.name){let x="func";lt(i.parent)&&i.parent.right==i&&Zt.isIdentifier(i.parent.left)?x=i.parent.left.text+"_func":it(i.parent)&&i.parent.initializer==i&&Zt.isIdentifier(i.parent.binding)?x=i.parent.binding.text+"_func":rt(i.parent)&&Zt.isIdentifier(i.parent.left)&&(x=i.parent.left.text+"_func"),this.name=n.symbolsHelper.addTemp(Vr(i),x)}let u=n.typeHelper.getCType(i);if(this.funcDecl=new q(this,this.name,u.returnType,{removeStorageSpecifier:!0,arraysToPointers:!0,funcDecl:!0}),this.parameters=i.formalParameterList.formalParameters.map((x,k)=>Zt.isIdentifier(x)?new q(this,x.text,u.parameterTypes[k],{removeStorageSpecifier:!0}):"/* unsupported parameter '"+te(x)+"' */"),u.instanceType&&this.parameters.unshift(new q(this,"this",u.instanceType,{removeStorageSpecifier:!0})),u.argumentsType&&(this.parameters.push(new q(this,"arguments",u.argumentsType,{removeStorageSpecifier:!0})),this.parameters.push(new q(this,"arguments_n",B,{removeStorageSpecifier:!0}))),u.needsClosureStruct){let x=n.symbolsHelper.getClosureVarName(i);this.parameters.push(new q(this,x,u))}else for(let x of u.closureParams){let k=n.typeHelper.getCType(x.node),y=x.assigned?Ar(k)+"*":k;this.parameters.push(new q(this,x.node.text,y,{removeStorageSpecifier:!0}))}if(u.scopeType){let x=n.symbolsHelper.getScopeVarName(i);this.variables.push(new q(this,x,u.scopeType)),this.scopeVarAllocator=new Mt(this,x,u.scopeType,i)}this.gcVarNames=n.memoryManager.getGCVariablesForScope(i);for(let x of this.gcVarNames){if(n.variables.filter(N=>N.name==x).length)continue;n.headerFlags.array_pointer_t=!0;let k="struct array_pointer_t *",y=k;x.indexOf("_arrays")>-1&&(y="ARRAY(struct array_pointer_t *)"),x.indexOf("_arrays_c")>-1&&(y="ARRAY(ARRAY(struct array_pointer_t *))"),x.indexOf("_dicts")>-1&&(y="ARRAY(DICT(void *))"),y!==k&&(n.headerFlags.gc_array=!0),n.variables.push(new q(n,x,y))}let m=i.contents.functionStatementList.statements;if(m.forEach(x=>this.statements.push(U.createForNode(this,x))),m.length>0&&m[m.length-1].kind!=Zt.SyntaxKind.ReturnStatement&&(this.destructors=new ur(this,i)),i.name){let x=hr(i),k=new Set;k.add(i.name.text);for(let y of n.functions)"name"in y&&k.add(y.name);for(let y of n.functionPrototypes)k.add(y.name);for(let y of x)if(Zt.isIdentifier(y)&&!k.has(y.text)){let N=n.typeHelper.getDeclaration(y);N&&N.id!==y.id&&dt(N.parent)&&(n.functionPrototypes.push(new aa(n,N.parent)),k.add(N.text))}}}};on=V([O(`
{funcDecl}({parameters {, }=> {this}})
{
    {variables  {    }=> {this};
}

    {#if scopeVarAllocator != null}
        {scopeVarAllocator}
    {/if}

    {gcVarNames {    }=> ARRAY_CREATE({this}, 2, 0);
}

    {statements {    }=> {this}}

    {destructors}
}`)],on);var ps=class extends j{constructor(n,i){super();this.expression="";this.isClosureFunc=!1;if(dt(i)&&i.declareKeyword)return;let u=n.root.typeHelper.getCType(i),m=Me(i.parent);if(u instanceof xe&&u.needsClosureStruct&&m){let k=n.root.typeHelper.getCType(m);this.isClosureFunc=!0,this.closureVarName=n.root.memoryManager.getReservedTemporaryVarName(i),n.root.symbolsHelper.ensureClosureStruct(u,k,this.closureVarName),n.root.memoryManager.variableWasReused(i)||n.variables.push(new q(n,this.closureVarName,u)),this.allocator=new Mt(n,this.closureVarName,u,i),this.scopeVarName=k&&n.root.symbolsHelper.getScopeVarName(i);let y=k&&k.needsClosureStruct&&n.root.symbolsHelper.getClosureVarName(m),N=y?y+"->scope->":"",E=k.closureParams.map(R=>({key:R.node.text,value:N+R.node.text})),P=u.closureParams.filter(R=>n.root.typeHelper.getDeclaration(R.node).parent.parent===m).map(R=>({key:R.node.text,value:R.node.text}));this.closureParams=E.concat(P)}let x=new on(n.root,i);n.root.functions.push(x),this.name=x.name,Xa(i)&&(this.expression=this.closureVarName||x.name)}};ps=V([O(`
{#statements}
    {#if isClosureFunc}
        {closureParams => {scopeVarName}->{key} = {value};
}
        {allocator}
        {closureVarName}->func = {name};
        {closureVarName}->scope = {scopeVarName};
    {/if}
{/statements}
{expression}`,[Zt.SyntaxKind.FunctionExpression,Zt.SyntaxKind.FunctionDeclaration])],ps);var Na=class{constructor(s,n,i,u){this.symbolsHelper=i;this.typeHelper=u;this.parent=null;this.headerId="";this.unsupported=[];this.userStructs=[];this.variables=[];this.functionPrototypes=[];this.initFunctionName="";this.headerId="TS2C_"+n.fileName.replace(/(\.ts|\.js)$/,"_H").replace(/([A-Z])([a-z])/g,"$1_$2").replace(/[^A-Za-z_]+/g,"_").toUpperCase(),this.initFunctionName=this.symbolsHelper.initFunctions[n.id];let m=this.symbolsHelper.exportedSymbols[n.id];for(let x of m)it(x.valueDeclaration.parent)?this.variables.push(new q(s,x.valueDeclaration.text,x.valueDeclaration,{removeStorageSpecifier:!0})):dt(x.valueDeclaration.parent)?this.functionPrototypes.push(new aa(s,x.valueDeclaration.parent)):this.unsupported.push(te(x.valueDeclaration.parent))}};Na=V([O(`
#ifndef {headerId}
#define {headerId}

{#if initFunctionName}
    int {initFunctionName}(void);
{/if}

{unsupported => /* Unsupported export: {this} */}

{userStructs => struct {name} {
    {properties {    }=> {this};
}
};
}

{variables => extern {this};
}

{functionPrototypes => {this}
}

#endif
`)],Na);var Ue=Ae(Ce());var $=Ae(Ce());var er=class extends j{constructor(n,i){super();this.universalWrapper=!1;this.isString=!1;this.expressionIsIdentifier=!1;this.expression=U.createForNode(n,i),this.expressionIsIdentifier=$.isIdentifier(i);let u=n.root.typeHelper.getCType(i);this.isString=u==Y,u==W&&(this.universalWrapper=!0,n.root.headerFlags.js_var_to_bool=!0)}};er=V([O(`
{#if universalWrapper}
    js_var_to_bool({expression})
{#elseif isString && expressionIsIdentifier}
    *{expression}
{#elseif isString}
    *({expression})
{#else}
    {expression}
{/if}`)],er);var Dr=class extends j{constructor(n,i){super();this.expression=null;if(i.operatorToken.kind===$.SyntaxKind.Assign){this.expression=pr.create(n,i.left,i.right,!0);return}if(i.operatorToken.kind===$.SyntaxKind.Comma){let x=$.createExpressionStatement(i.left,-1,-1),k=i.parent;for(;k.parent&&(k.flags&$.NodeFlags.IsStatement)!==$.NodeFlags.IsStatement;)k=k.parent;x.parent=k.parent,n.statements.push(U.createForNode(n,x)),this.expression=U.createForNode(n,i.right);return}if(i.operatorToken.kind===$.SyntaxKind.Add){this.expression=new pn(n,i);return}let u=n.root.typeHelper.getCType(i.left),m=n.root.typeHelper.getCType(i.right);if(i.operatorToken.kind===$.SyntaxKind.AddAssign&&u===B&&m===B){this.expression=new Ta(n,i);return}if(i.operatorToken.kind===$.SyntaxKind.AddAssign){i.operatorToken.kind=$.SyntaxKind.Add,this.expression=pr.create(n,i.left,i);return}if(Oi(i.operatorToken.kind)||Di(i.operatorToken.kind)){this.expression=new Ta(n,i);return}if(Hi(i.operatorToken.kind)){this.expression=new dn(n,i);return}if(Fl(i.operatorToken.kind)){this.expression=new cn(n,i);return}if(i.operatorToken.kind===$.SyntaxKind.InKeyword){this.expression=new un(n,i);return}if(xa(i.operatorToken.kind)){this.expression=new ln(n,i);return}this.nodeText=te(i)}};Dr=V([O(`
{#if expression}
    {expression}
{#else}
    /* unsupported expression {nodeText} */
{/if}`,[$.SyntaxKind.BinaryExpression,$.SyntaxKind.AssignmentExpression])],Dr);var ln=class extends j{constructor(n,i){super();this.leftVarName="";this.rightVarName="";let u=n.root.typeHelper.getCType(i);u===W?(this.left=new Ve(n,i.left),this.right=new Ve(n,i.right)):(this.left=U.createForNode(n,i.left),this.right=U.createForNode(n,i.right)),this.isBoolContext=Bi(i)&&u!==W;let m=i.operatorToken.kind===$.SyntaxKind.LogicalOr;this.isBoolContext?this.operator=m?"||":"&&":(Al(i.left)||(this.leftVarName=n.root.symbolsHelper.addTemp(i,"tmp1"),n.variables.push(new q(n,this.leftVarName,u))),Al(i.right)||(this.rightVarName=n.root.symbolsHelper.addTemp(i,"tmp2"),n.variables.push(new q(n,this.rightVarName,u))),this.leftVarName&&u===W?(this.condition="js_var_to_bool("+this.leftVarName+")",n.root.headerFlags.js_var_to_bool=!0):this.condition=this.leftVarName||new er(n,i.left),m?(this.whenTrue=this.leftVarName||this.left,this.whenFalse=this.rightVarName||this.right):(this.whenTrue=this.rightVarName||this.right,this.whenFalse=this.leftVarName||this.left))}};ln=V([O(`
{#statements}
    {#if leftVarName}
        {leftVarName} = {left};
    {/if}
    {#if rightVarName}
        {rightVarName} = {right};
    {/if}
{/statements}
{#if isBoolContext}
    {left} {operator} {right}
{#else}
    {condition} ? {whenTrue} : {whenFalse}
{/if}`)],ln);var Ta=class extends j{constructor(n,i){super();this.operator=null;this.computeOperation=null;let u=n.root.typeHelper.getCType(i.left),m=n.root.typeHelper.getCType(i.right);if(this.isCompoundAssignment=Pr(i.operatorToken),ut(u)||ut(m)){let x={[$.SyntaxKind.Multiply]:"JS_VAR_ASTERISK",[$.SyntaxKind.MultiplyAssign]:"JS_VAR_ASTERISK",[$.SyntaxKind.Divide]:"JS_VAR_SLASH",[$.SyntaxKind.DivideAssign]:"JS_VAR_SLASH",[$.SyntaxKind.Modulo]:"JS_VAR_PERCENT",[$.SyntaxKind.ModuloAssign]:"JS_VAR_PERCENT",[$.SyntaxKind.Subtract]:"JS_VAR_MINUS",[$.SyntaxKind.SubtractAssign]:"JS_VAR_MINUS",[$.SyntaxKind.ShiftLeft]:"JS_VAR_SHL",[$.SyntaxKind.ShiftLeftAssign]:"JS_VAR_SHL",[$.SyntaxKind.ShiftRight]:"JS_VAR_SHR",[$.SyntaxKind.ShiftRightAssign]:"JS_VAR_SHR",[$.SyntaxKind.LogicalShiftRight]:"JS_VAR_USHR",[$.SyntaxKind.LogicalShiftRightAssign]:"JS_VAR_USHR",[$.SyntaxKind.BitwiseOr]:"JS_VAR_OR",[$.SyntaxKind.BitwiseOrAssign]:"JS_VAR_OR",[$.SyntaxKind.BitwiseAnd]:"JS_VAR_AND",[$.SyntaxKind.BitwiseAndAssign]:"JS_VAR_AND"};this.computeOperation=x[i.operatorToken.kind],this.left=new Ve(n,i.left),this.right=new Ve(n,i.right),n.root.headerFlags.js_var_compute=!0}else if(this.operator=$.tokenToString(i.operatorToken.kind),this.left=new Kt(n,i.left),this.right=new Kt(n,i.right),i.operatorToken.kind==$.SyntaxKind.LogicalShiftRight||i.operatorToken.kind==$.SyntaxKind.LogicalShiftRightAssign){this.operator=">>";let x=U.templateToString(this.left);this.left="((uint16_t)"+x+")",i.operatorToken.kind==$.SyntaxKind.LogicalShiftRightAssign&&(this.left=x+" = "+this.left),n.root.headerFlags.uint16_t=!0}this.nodeText=te(i)}};Ta=V([O(`
{#if operator}
    {left} {operator} {right}
{#elseif computeOperation && isCompoundAssignment}
    {left} = js_var_compute({left}, {computeOperation}, {right})
{#elseif computeOperation}
    js_var_compute({left}, {computeOperation}, {right})
{#else}
    /* unsupported arithmetic expression {nodeText} */
{/if}`)],Ta);var dn=class extends j{constructor(n,i){super();this.operator=null;this.universalCondition=null;this.stringCondition=null;let u=n.root.typeHelper.getCType(i.left),m=n.root.typeHelper.getCType(i.right);if(u===W||m===W){switch(i.operatorToken.kind){case $.SyntaxKind.LessThan:this.left=new Ve(n,i.left),this.right=new Ve(n,i.right),this.universalCondition="> 0";break;case $.SyntaxKind.LessThanOrEqual:this.left=new Ve(n,i.right),this.right=new Ve(n,i.left),this.universalCondition="< 0";break;case $.SyntaxKind.GreaterThan:this.left=new Ve(n,i.right),this.right=new Ve(n,i.left),this.universalCondition="> 0";break;case $.SyntaxKind.GreaterThanOrEqual:this.left=new Ve(n,i.left),this.right=new Ve(n,i.right),this.universalCondition="< 0";break}n.root.headerFlags.js_var_lessthan=!0}else u===Y&&m===Y?(this.stringCondition=$.tokenToString(i.operatorToken.kind)+" 0",this.left=U.createForNode(n,i.left),this.right=U.createForNode(n,i.right),n.root.headerFlags.strings=!0):(this.operator=$.tokenToString(i.operatorToken.kind),this.left=new Kt(n,i.left),this.right=new Kt(n,i.right));this.nodeText=te(i)}};dn=V([O(`
{#if operator}
    {left} {operator} {right}
{#elseif stringCondition}
    strcmp({left}, {right}) {stringCondition}
{#elseif universalCondition}
    js_var_lessthan({left}, {right}) {universalCondition}
{#else}
    /* unsupported relational expression {nodeText} */
{/if}`)],dn);var cn=class extends j{constructor(n,i){super();this.expression=null;this.operator=null;this.stringCondition=null;this.strNumCondition=null;this.universalCondition=null;this.strict=null;let u=n.root.typeHelper.getCType(i.left),m=n.root.typeHelper.getCType(i.right),x=i.operatorToken.kind===$.SyntaxKind.StrictNotEqual||i.operatorToken.kind===$.SyntaxKind.LooseNotEqual;if(this.strict=i.operatorToken.kind===$.SyntaxKind.StrictNotEqual||i.operatorToken.kind===$.SyntaxKind.StrictEqual?"TRUE":"FALSE",this.left=U.createForNode(n,i.left),this.right=U.createForNode(n,i.right),(u==B||u==_e)&&(m==B||m==_e))this.operator=x?"!=":"==";else if(u==Y&&m==Y)this.stringCondition=x?"!= 0":"== 0",n.root.headerFlags.strings=!0;else if(u==B&&m==Y||u==Y&&m==B){if(this.strNumCondition=x?"!= 0":"== 0",n.root.headerFlags.str_int16_t_cmp=!0,u==B){let k=this.left;this.left=this.right,this.right=k}}else u==W||m==W?(this.universalCondition=x?"== FALSE":"== TRUE",this.left=new Ve(n,this.left,u),this.right=new Ve(n,this.right,m),n.root.headerFlags.js_var_eq=!0):u instanceof me||u instanceof D||u instanceof ae||m instanceof me||m instanceof D||m instanceof ae?u!=m?(this.expression=x?"TRUE":"FALSE",n.root.headerFlags.bool=!0):this.operator=x?"!=":"==":this.nodeText=te(i)}};cn=V([O(`
{#if expression}
    {expression}
{#elseif operator}
    {left} {operator} {right}
{#elseif stringCondition}
    strcmp({left}, {right}) {stringCondition}
{#elseif strNumCondition}
    str_int16_t_cmp({left}, {right}) {strNumCondition}
{#elseif universalCondition}
    js_var_eq({left}, {right}, {strict}) {universalCondition}
{#else}
    /* unsupported equality expression {nodeText} */
{/if}`)],cn);var pn=class extends j{constructor(n,i){super();this.addNumbers=!1;this.isUniversalVar=!1;this.replacedWithVar=!1;this.replacementVarName=null;this.gcVarName=null;let u=n.root.typeHelper.getCType(i.left);this.left=U.createForNode(n,i.left);let m=n.root.typeHelper.getCType(i.right);if(this.right=U.createForNode(n,i.right),u==Yt&&(u=Y,this.left=new ra(this.left)),m==Yt&&(m=Y,this.right=new ra(this.right)),(u===B||u===_e)&&(m===B||m===_e))this.addNumbers=!0;else if(u===W||m===W)this.isUniversalVar=!0,this.left=new Ve(n,this.left,u),this.right=new Ve(n,this.right,m),n.root.headerFlags.js_var_plus=!0;else{let x=n.root.memoryManager.getReservedTemporaryVarName(i);n.func.variables.push(new q(n,x,"char *",{initializer:"NULL"})),this.gcVarName=n.root.memoryManager.getGCVariableForNode(i),this.replacedWithVar=!0,this.replacementVarName=x,this.strlen_left=new Lr(n,i.left,this.left,u),this.strlen_right=new Lr(n,i.right,this.right,m),this.strcat_left=new cr(n,i.left,x,this.left,u),this.strcat_right=new cr(n,i.right,x,this.right,m),n.root.headerFlags.strings=!0,n.root.headerFlags.malloc=!0,n.root.headerFlags.str_int16_t_cat=!0,this.gcVarName&&(n.root.headerFlags.gc_iterator=!0,n.root.headerFlags.array=!0)}}};pn=V([O(`
{#statements}
    {#if replacedWithVar}
        {replacementVarName} = malloc({strlen_left} + {strlen_right} + 1);
        assert({replacementVarName} != NULL);
        {replacementVarName}[0] = '\\0';
        {strcat_left}
        {strcat_right}
    {/if}
    {#if replacedWithVar && gcVarName}
        ARRAY_PUSH({gcVarName}, {replacementVarName});
    {/if}

{/statements}
{#if addNumbers}
    {left} + {right}
{#elseif replacedWithVar}
    {replacementVarName}
{#elseif isUniversalVar}
    js_var_plus({left}, {right}, gc_main)
{/if}`)],pn);var un=class extends j{constructor(n,i){super();this.isArray=!1;this.isStruct=!1;this.isDict=!1;this.isUniversalVar=!1;this.result=null;this.tmpVarName=null;let u=n.root.typeHelper.getCType(i.right);if(this.obj=U.createForNode(n,i.right),u instanceof D){this.isArray=!0,this.arraySize=new Tt(n,this.obj,u),this.key=new Kt(n,i.left);let m=n.root.typeHelper.getCType(i.left);ut(m)&&(this.tmpVarName=n.root.symbolsHelper.addTemp(i,"tmp_key"),n.variables.push(new q(n,this.tmpVarName,W)))}else this.key=new dr(n,i.left);if(u instanceof me){this.isStruct=!0;let m=Object.keys(u.properties);if(m.length==0)this.result="FALSE",n.root.headerFlags.bool=!0;else{let x="{ "+m.sort().map(k=>'"'+k+'"').join(", ")+" }";this.propertiesVarName=u.structName+"_props",this.propertiesCount=m.length+"",n.root.variables.some(k=>k.name===this.propertiesVarName)||n.root.variables.push(new q(n,this.propertiesVarName,"const char *{var}["+this.propertiesCount+"]",{initializer:x})),n.root.headerFlags.dict_find_pos=!0}}this.isDict=u instanceof ae,this.isUniversalVar=u===W,Oe(i.left)&&n.root.standardCallHelper.matchStringPropName(i.right,i.left.text)&&(this.result="TRUE"),this.isArray&&Oe(i.left)&&i.left.text==="length"&&(this.result="TRUE"),this.nodeText=te(i)}};un=V([O(`
{#statements}
    {#if tmpVarName}
        {tmpVarName} = {key};
    {/if}
{/statements}
{#if result}
    {result}
{#elseif isArray && tmpVarName}
    ({tmpVarName}.type != JS_VAR_NAN && {tmpVarName}.number >= 0 && {tmpVarName}.number < {arraySize})
{#elseif isArray && !tmpVarName}
    ({key} >= 0 && {key} < {arraySize})
{#elseif isStruct}
    dict_find_pos({propertiesVarName}, {propertiesCount}, {key}) > -1
{#elseif isDict}
    dict_find_pos({obj}->index->data, {obj}->index->size, {key}) > -1
{#elseif isUniversalVar}
    js_var_get({obj}, {key}).type != JS_VAR_UNDEFINED
{#else}
    /* unsupported 'in' expression {nodeText} */
{/if}`)],un);var us=class extends j{constructor(n,i){super();this.before="";this.after="";this.argumentExpr=null;this.incrementBy="";this.isCompound=!1;this.isPostfix=i.kind===$.SyntaxKind.PostfixUpdateExpression;let u=$.isStatementNode(i.parent),m=n.root.typeHelper.getCType(i.operand);if(i.operandToken.kind===$.SyntaxKind.Add)this.operand=new Kt(n,i.operand);else if(i.operandToken.kind===$.SyntaxKind.Subtract)this.before="-",this.operand=new Kt(n,i.operand),ut(m)&&(this.before="js_var_compute(js_var_from_int16_t(0), JS_VAR_MINUS, ",this.after=")",n.root.headerFlags.js_var_compute=!0,n.root.headerFlags.js_var_from_int16_t=!0);else if(i.operandToken.kind===$.SyntaxKind.Complement)this.before="~",this.operand=new Kt(n,i.operand),ut(m)&&(this.after=".number");else if(i.operandToken.kind===$.SyntaxKind.Negate)this.before="!",this.operand=new er(n,i.operand);else if(i.operandToken.kind===$.SyntaxKind.VoidKeyword)this.operand=new mn(n,i);else if(i.operandToken.kind===$.SyntaxKind.DeleteKeyword)this.operand=new fn(n,i);else if(i.operandToken.kind===$.SyntaxKind.TypeofKeyword)this.operand=new yn(n,i);else if(i.operandToken.kind===$.SyntaxKind.Increment||i.operandToken.kind===$.SyntaxKind.Decrement){let x=i.operandToken.kind===$.SyntaxKind.Increment,k=null,y=!1;if($t(i.operand)&&(this.argumentExpr=U.createForNode(n,i.operand.expression),k=i.operand.member,y=n.root.typeHelper.getCType(k)instanceof ae),this.isPostfix)!y&&(m===B||m===_e)?(this.operand=U.createForNode(n,i.operand),this.after=x?"++":"--"):y?(this.operand=U.createForNode(n,k),this.incrementBy=x?"1":"-1",n.root.headerFlags.js_var_dict_inc=!0):m===W?(this.before="js_var_inc(&",this.operand=U.createForNode(n,i.operand),this.after=", "+(x?"1":"-1")+")",n.root.headerFlags.js_var_inc=!0):this.operand="/* expression is not yet supported "+te(i)+" */";else if(!y&&(m===B||m===_e))this.operand=U.createForNode(n,i.operand),this.before=x?"++":"--";else if(!y&&!ut(m))this.isCompound=!0,this.operand=new Kt(n,i.operand),this.after=x?" + 1":" - 1";else if(u){let N=$.createToken(x?$.SyntaxKind.Add:$.SyntaxKind.Subtract,$.NodeFlags.NoChildren,-1,-1),E=$.createNumericLiteral(1,"1",$.NodeFlags.NoChildren,-1,-1),P=$.createBinaryExpression(i.operand,N,E,$.NodeFlags.ExpressionNode,-1,-1);P.parent=i,n.root.typeHelper.registerSyntheticNode(P,W),this.operand=pr.create(n,i.operand,P)}else!y&&x?(this.isCompound=!0,this.before="js_var_plus(js_var_to_number(",this.operand=U.createForNode(n,i.operand),this.after="), js_var_from_int16_t(1), gc_main)",n.root.headerFlags.js_var_plus=!0,n.root.headerFlags.js_var_from_int16_t=!0):!y&&!x?(this.isCompound=!0,this.before="js_var_compute(js_var_to_number(",this.operand=U.createForNode(n,i.operand),this.after="), JS_VAR_MINUS, js_var_from_int16_t(1))",n.root.headerFlags.js_var_compute=!0,n.root.headerFlags.js_var_from_int16_t=!0):(this.operand=U.createForNode(n,k),this.incrementBy=x?"1":"-1",n.root.headerFlags.js_var_dict_inc=!0)}else this.operand=`/* not supported unary expression ${te(i)} */`}};us=V([O(`
{#if isCompound}
    ({operand} = {before}{operand}{after})
{#elseif incrementBy && isPostfix}
    js_var_dict_inc({operand}, {argumentExpr}, {incrementBy}, TRUE)
{#elseif incrementBy}
    js_var_dict_inc({operand}, {argumentExpr}, {incrementBy}, FALSE)
{#else}
    {before}{operand}{after}
{/if}`,[$.SyntaxKind.UnaryExpression,$.SyntaxKind.PostfixUpdateExpression,$.SyntaxKind.PrefixUpdateExpression])],us);var ys=class extends j{constructor(s,n){super(),this.condition=U.createForNode(s,n.shortCircuit),this.whenTrue=U.createForNode(s,n.consequent),this.whenFalse=U.createForNode(s,n.alternate)}};ys=V([O("{condition} ? {whenTrue} : {whenFalse}",$.SyntaxKind.ConditionalExpression)],ys);var ms=class extends j{constructor(s,n){super(),this.expression=U.createForNode(s,n.expression)}};ms=V([O("({expression})",$.SyntaxKind.ParenthesizedExpression)],ms);var yn=class extends j{constructor(s,n){super();let i=s.root.typeHelper.getCType(n.operand);this.isUniversalVar=i===W,this.isString=i===Y,this.isNumber=i===B,this.isBoolean=i===_e,this.expression=U.createForNode(s,n.operand),i==W&&(s.root.headerFlags.js_var=!0,s.root.headerFlags.js_var_typeof=!0)}};yn=V([O(`
{#if isUniversalVar}
    js_var_typeof({expression})
{#elseif isString}
    "string"
{#elseif isNumber}
    "number"
{#elseif isBoolean}
    "number"
{#else}
    "object"
{/if}`)],yn);var mn=class extends j{constructor(s,n){super(),this.expression=U.createForNode(s,n.operand),s.root.headerFlags.js_var=!0,s.root.headerFlags.js_var_to_undefined=!0}};mn=V([O("js_var_to_undefined({expression})")],mn);var fn=class extends j{constructor(s,n){super(),this.topExpressionOfStatement=n.parent.kind==$.SyntaxKind.ExpressionStatement,this.dict=$t(n.operand)&&U.createForNode(s,n.operand.member),ft(n.operand)?this.argExpression=Ye(n.operand.expression)?'"'+n.operand.expression.text+'"':U.createForNode(s,n.operand.expression):Ge(n.operand)&&(this.argExpression=new Lt(s,n.operand.expression.text)),this.tempVarName=s.root.symbolsHelper.addTemp(n,"tmp_dict_pos"),s.variables.push(new q(s,this.tempVarName,B)),s.root.headerFlags.bool=!0,s.root.headerFlags.array_remove=!0}};fn=V([O(`
{#statements}
    {tempVarName} = dict_find_pos({dict}->index->data, {dict}->index->size, {argExpression});
    if ({tempVarName} >= 0)
    {
        ARRAY_REMOVE({dict}->index, {tempVarName}, 1);
        ARRAY_REMOVE({dict}->values, {tempVarName}, 1);
    }
{/statements}
{#if !topExpressionOfStatement}
    TRUE
{/if}`)],fn);var fs=class extends j{constructor(s,n){super();let i=hr(n);this.breakLabel=i.some(m=>jp(m)&&m.label.text===n.label.text)?" "+n.label.text+"_break:":"";let u=i.some(m=>Up(m)&&m.label.text===n.label.text);u?Nl(n.statement)?this.statement=new Kn(s,n.statement,u&&n.label.text+"_continue"):Li(n.statement)?this.statement=new kn(s,n.statement,u&&n.label.text+"_continue"):bl(n.statement)?this.statement=new Sn(s,n.statement,u&&n.label.text+"_continue"):wl(n.statement)?this.statement=new hn(s,n.statement,u&&n.label.text+"_continue"):fa(n.statement)?this.statement=new bn(s,n.statement,u&&n.label.text+"_continue"):this.statement="/* Unsupported labeled statement "+te(n)+" */":this.statement=U.createForNode(s,n.statement)}};fs=V([O("{statement}{breakLabel}",Ue.SyntaxKind.LabelledStatement)],fs);var xs=class extends j{constructor(s,n){super(),this.label=n.label&&n.label.text+"_break"}};xs=V([O(`
{#if label}
    goto {label};
{#else}
    break;
{/if}
`,Ue.SyntaxKind.BreakStatement)],xs);var gs=class extends j{constructor(s,n){super(),this.label=n.label&&n.label.text+"_continue"}};gs=V([O(`
{#if label}
    goto {label};
{#else}
    continue;
{/if}
`,Ue.SyntaxKind.ContinueStatement)],gs);var Ss=class{constructor(s,n){}};Ss=V([O(`;
`,Ue.SyntaxKind.EmptyStatement)],Ss);var hs=class extends j{constructor(n,i){super();this.expression=null;this.destructors=null;this.retVarName=null;this.closureParams=[];if(i.expression!==null){this.expression=U.createForNode(n,i.expression);let u=!1,m=hr(i.expression),x=n.root.memoryManager.getDestructorsForScope(i);for(let k of m)Ue.isIdentifier(k)&&n.root.symbolsHelper.getSymbolAtLocation(k)&&x.some(N=>N.varName===k.text)&&(u=!0);if(u){let k=Me(i),y=n.root.typeHelper.getCType(k);this.retVarName=n.root.symbolsHelper.addTemp(i,"result"),n.variables.push(new q(n,this.retVarName,y.returnType))}}this.destructors=new ur(n,i)}};hs=V([O(`
{#statements}
    {#if retVarName}
        {retVarName} = {expression};
    {/if}
    {destructors}
{/statements}
{#if retVarName}
    return {retVarName};
{#elseif expression}
    return {expression};
{#else}
    return;
{/if}
`,Ue.SyntaxKind.ReturnStatement)],hs);var Ks=class extends j{constructor(s,n){super(),this.condition=new er(s,n.expression),this.thenBlock=new zt(s,n.consequent),this.hasElseBlock=!!n.alternate,this.elseBlock=this.hasElseBlock&&new zt(s,n.alternate)}};Ks=V([O(`
if ({condition})
{thenBlock}
{#if hasElseBlock}
    else
    {elseBlock}
{/if}
`,Ue.SyntaxKind.IfStatement)],Ks);var ks=class extends j{constructor(s,n){super();let i=s.root.typeHelper.getCType(n.expression);if(this.nonIntegral=i!=B,this.expression=U.createForNode(s,n.expression),this.cases=n.caseBlock.clauses.map((u,m)=>new xn(s,u,this.nonIntegral?m:null)),this.nonIntegral){let u=s.root.symbolsHelper.addTemp(n,"tmp_switch");s.variables.push(new q(s,u,B)),this.values=n.caseBlock.clauses.filter(m=>en(m)).map((m,x)=>new gn(s,this.expression,m,x)),this.switch=u}else this.switch=this.expression}};ks=V([O(`
{#if nonIntegral}
    {switch} = {values {
        : }=> {this}}
        : -1;
{/if}
switch ({switch}) {
    {cases {    }=> {this}
}
}
`,Ue.SyntaxKind.SwitchStatement)],ks);var xn=class extends j{constructor(n,i,u){super();this.variables=[];this.statements=[];this.parent=n,this.func=n.func,this.root=n.root,this.defaultClause=i.kind===Ue.SyntaxKind.DefaultClause,u!=null?this.value=""+u:en(i)&&(this.value=U.createForNode(n,i.expression));for(let m of i.statements){let x=U.createForNode(this,m);this.statements.push(x)}}};xn=V([O(`
{#if !defaultClause}
    case {value}:
{#else}
    default:
{/if}
        {statements {        }=> {this}}
`)],xn);var gn=class extends j{constructor(n,i,u,m){super();this.expression=i;this.index=m;this.value=U.createForNode(n,u.expression)}};gn=V([O("!strcmp({expression}, {value}) ? {index}")],gn);var Sn=class extends j{constructor(n,i,u){super();this.continueLabel=u;this.variables=[];this.statements=[];this.block=new zt(n,i.statement),this.variables=this.block.variables,this.statements=this.block.statements,this.condition=new er(n,i.expression)}};Sn=V([O(`
{#if continueLabel}
    while({condition}) {
        {variables {    }=> {this};
}
        {statements {    }=> {this}}
        {continueLabel}: ;
    }
{#else}
    while ({condition})
    {block}
{/if}`,Ue.SyntaxKind.WhileStatement)],Sn);var hn=class extends j{constructor(n,i,u){super();this.continueLabel=u;this.variables=[];this.statements=[];this.block=new zt(n,i.statement),this.variables=this.block.variables,this.statements=this.block.statements,this.condition=new er(n,i.expression)}};hn=V([O(`
{#if continueLabel}
    do {
        {variables {    }=> {this};
}
        {statements {    }=> {this}}
        {continueLabel}: ;
    } while ({condition});
{#else}
    do
    {block}
    while ({condition});
{/if}`,Ue.SyntaxKind.DoWhileStatement)],hn);var Kn=class extends j{constructor(n,i,u){super();this.continueLabel=u;this.variables=[];this.statements=[];this.varDecl=null;this.block=new zt(n,i.statement),this.variables=this.block.variables,this.statements=this.block.statements,i.initializer?Za(i.initializer)?(this.varDecl=new ka(n,$r(i.initializer)),this.init=""):this.init=U.createForNode(n,i.initializer):this.init="",this.condition=i.condition?new er(n,i.condition):"",this.increment=i.incrementor?U.createForNode(n,i.incrementor):""}};Kn=V([O(`
{#if varDecl}
    {varDecl}
{/if}
{#if continueLabel}
    {init};
    while({condition}) {
        {variables {    }=> {this};
}
        {statements {    }=> {this}}
        {continueLabel}:
        {increment};
    }
{#else}
    for ({init};{condition};{increment})
    {block}
{/if}`,Ue.SyntaxKind.ForStatement)],Kn);var kn=class extends j{constructor(n,i,u){super();this.continueLabel=u;this.variables=[];this.statements=[];this.cast="";this.parent=n,this.func=n.func,this.root=n.root,this.iteratorVarName=n.root.symbolsHelper.addIterator(i),n.variables.push(new q(n,this.iteratorVarName,B));let m=n.root.typeHelper.getCType(i.expression),x=U.createForNode(n,i.expression);this.elementAccess=new st(n,m,x,this.iteratorVarName),this.arraySize=new Tt(n,x,m),m&&m instanceof D&&m.elementType instanceof D&&m.elementType.isDynamicArray&&(this.cast="(void *)"),this.init=Zp(n,i.initializer),this.statements.push(U.createForNode(this,i.statement)),n.variables=n.variables.concat(this.variables),this.variables=[]}};kn=V([O(`
{#if continueLabel}
    {iteratorVarName} = 0;
    while ({iteratorVarName} < {arraySize}) {
        {variables {    }=> {this};
}
        {init} = {cast}{elementAccess};
    {statements {    }=> {this}}
        {continueLabel}:
        {iteratorVarName}++;
    }
{#else}
    for ({iteratorVarName} = 0; {iteratorVarName} < {arraySize}; {iteratorVarName}++)
    {
        {variables {    }=> {this};
}
        {init} = {cast}{elementAccess};
        {statements {    }=> {this}}
    }
{/if}
`,Ue.SyntaxKind.ForOfStatement)],kn);var bn=class extends j{constructor(n,i,u){super();this.continueLabel=u;this.variables=[];this.statements=[];if(this.parent=n,this.func=n.func,this.root=n.root,this.iteratorVarName=n.root.symbolsHelper.addIterator(i),n.variables.push(new q(n,this.iteratorVarName,B)),this.varAccess=new pe(n,i.expression),this.init=Zp(n,i.initializer),i.statement.kind==Ue.SyntaxKind.BlockStatement){let m=i.statement;for(let x of m.block.statements)this.statements.push(U.createForNode(this,x))}else this.statements.push(U.createForNode(this,i.statement));n.variables=n.variables.concat(this.variables),this.variables=[]}};bn=V([O(`
{#if continueLabel}
    {iteratorVarName} = 0;
    while ({iteratorVarName} < {varAccess}->index->size) {
        {variables {    }=> {this};
}
        {init} = {varAccess}->index->data[{iteratorVarName}];
        {statements {    }=> {this}}
        {continueLabel}:
        {iteratorVarName}++;
    }
{#else}
    for ({iteratorVarName} = 0; {iteratorVarName} < {varAccess}->index->size; {iteratorVarName}++)
    {
        {variables {    }=> {this};
}
        {init} = {varAccess}->index->data[{iteratorVarName}];
        {statements {    }=> {this}}
    }
{/if}
`,Ue.SyntaxKind.ForInStatement)],bn);function Zp(t,s){if(Za(s)){let n=$r(s);return n&&Ue.isIdentifier(n.binding)?(t.variables.push(new q(t,n.binding.text,n.binding)),n.binding.text):"/* Unsupported for loop initializer "+te(s)+" */"}else return Ue.isExpressionNode(s)?new pe(t,s):"/* Unsupported for loop initializer "+te(s)+" */"}var bs=class extends j{constructor(n,i){super();this.SemicolonCR=`;
`;if(yt(i.expression)){let u=i.expression;u.operatorToken.kind==Ue.SyntaxKind.Assign&&(this.expression=pr.create(n,u.left,u.right),this.SemicolonCR="")}this.expression||(this.expression=U.createForNode(n,i.expression))}};bs=V([O("{expression}{SemicolonCR}",Ue.SyntaxKind.ExpressionStatement)],bs);var zt=class extends j{constructor(n,i){super();this.variables=[];this.statements=[];this.parent=n,this.func=n.func,this.root=n.root,i.kind===Ue.SyntaxKind.BlockStatement?i.block.statements.forEach(u=>this.statements.push(U.createForNode(this,u))):this.statements.push(U.createForNode(this,i))}};zt=V([O(`
{#if statements.length > 1 || variables.length > 0}
    {
        {variables {    }=> {this};
}
        {statements {    }=> {this}}
    }
{/if}
{#if statements.length == 1 && variables.length == 0}
        {statements}
{/if}
{#if statements.length == 0 && variables.length == 0}
        /* no statements */;
{/if}`,Ue.SyntaxKind.BlockStatement)],zt);var ws=class extends j{constructor(n,i){super();this.nodeText=null;let u=i.moduleSpecifier;if(u===null&&(u=i.fromClause.from),!Oe(u)){this.nodeText=te(i);return}let m=u.text;if(m.indexOf("ts2c-target")===0)m=m.split("/").slice(1).join("/"),m.slice(-6)=="/index"&&(m=m.slice(0,-6)),m="<"+m+">",n.root.includes.indexOf(m)===-1&&n.root.includes.push(m);else{let k="init_"+m.replace(/^\.\//,"").replace(/[^A-Za-z0-9]/g,"_");m='"'+m.replace(/^\.\//,"")+'.h"',n.root.includes.indexOf(m)===-1&&(n.root.includes.push(m),n.root.statements.push(k+"();"))}}};ws=V([O(`
{#if nodeText}
    /* Unsupported import {nodeText} */
{/if}
`,Ue.SyntaxKind.ImportDeclaration)],ws);var Ns=class extends j{constructor(n,i){super();this.declaration=null;this.nodeText=null;i.declaration!==null&&(this.declaration=U.createForNode(n,i.declaration))}};Ns=V([O("{declaration}",Ue.SyntaxKind.ExportDeclaration)],Ns);var Ts=class extends j{constructor(s,n){super(),this.tryBlock=new zt(s,n.block),this.catchBlock=n.catchClause?new zt(s,n.catchClause.block):"",this.finallyBlock=n.finallyBlock?new zt(s,n.finallyBlock):"",this.catchVarName=n.catchClause&&n.catchClause.catchParameter&&Ue.isIdentifier(n.catchClause.catchParameter)&&n.catchClause.catchParameter.text,this.catchVarName&&s.variables.push(new q(s,this.catchVarName,Y)),s.root.headerFlags.try_catch=!0}};Ts=V([O(`
TRY
{tryBlock}
CATCH
{#if catchVarName}
        {catchVarName} = err_defs->data[err_val - 1];
{/if}
{catchBlock}
{finallyBlock}
END_TRY
`,Ue.SyntaxKind.TryStatement)],Ts);var _s=class extends j{constructor(s,n){super(),this.value=U.createForNode(s,n.expression),s.root.headerFlags.try_catch=!0}};_s=V([O(`
{#statements}
    ARRAY_PUSH(err_defs, {value});
{/statements}
THROW(err_defs->size);
`,Ue.SyntaxKind.ThrowStatement)],_s);var It=Ae(Ce());var _a=class extends j{constructor(n,i){super();this.funcName=null;this.standardCall=null;this.isSimpleClosureCall=!1;this.closureVarName=null;if(this.standardCall=Ut(i)&&n.root.standardCallHelper.createTemplate(n,i),this.standardCall)return;let u=n.root.symbolsHelper.getSymbolAtLocation(i.expression);if(u&&u.resolver&&(this.standardCall=u.resolver.createTemplate(n,i)),this.standardCall)return;let m=n.root.typeHelper.getCType(i.expression);if(!m||!(m instanceof xe)||m.instanceType!=null){this.nodeText=te(i);return}if(this.funcName=U.createForNode(n,i.expression),this.arguments=i.argumentList.elements.map((x,k)=>m.parameterTypes[k]===W?new Ve(n,x):U.createForNode(n,x)),m.argumentsType){let x=n.root.symbolsHelper.addTemp(i,"args"),k=this.arguments.length;n.variables.push(new q(n,x,m.argumentsType)),n.statements.push(new Mt(n,x,m.argumentsType,i));for(let y=0;y<this.arguments.length;y++){let N=new kt(n,x,y+"",m.argumentsType,i.argumentList.elements[y]);n.statements.push(N)}if(It.isIdentifier(i.expression)){let y=n.root.typeHelper.getDeclaration(i.expression);dt(y.parent)&&(this.arguments.length=y.parent.formalParameterList.formalParameters.length)}else console.error("Unsupported call expression for arguments array!");this.arguments.push(x),this.arguments.push(k+"")}if(m.needsClosureStruct)this.funcName instanceof _a?(this.closureVarName=n.root.symbolsHelper.addTemp(i,"tmp_closure"),n.variables.push(new q(n,this.closureVarName,m)),this.arguments.push(this.closureVarName)):(this.arguments.push(this.funcName),this.isSimpleClosureCall=!0);else for(let x of m.closureParams){let k=Me(i),y=n.root.typeHelper.getCType(k),N=y&&y.needsClosureStruct&&n.root.symbolsHelper.getClosureVarName(k),E=x.node.text;N&&y.closureParams.some(P=>P.node.text===E)&&(E=N+"->scope->"+E),this.arguments.push((x.assigned?"&":"")+E)}}};_a=V([O(`
{#if standardCall}
    {standardCall}
{#elseif isSimpleClosureCall}
    {funcName}->func({arguments {, }=> {this}})
{#elseif closureVarName}
    ({closureVarName} = {funcName}, {closureVarName}->func({arguments {, }=> {this}}))
{#elseif funcName}
    {funcName}({arguments {, }=> {this}})
{#else}
    /* Unsupported function call: {nodeText} */
{/if}`,It.SyntaxKind.CallExpression)],_a);var Es=class extends j{constructor(n,i){super();this.funcName="";this.allocator="";this.expression="";this.standardCall="";let u=n.root.symbolsHelper.getSymbolAtLocation(i.expression);if(u&&u.resolver&&(this.standardCall=u.resolver.createTemplate(n,i)),this.standardCall)return;let m=It.isIdentifier(i.expression)?n.root.typeHelper.getDeclaration(i.expression):null;if(m){let x=n.root.typeHelper.getCType(m);this.funcName=U.createForNode(n,i.expression),this.arguments=i.argumentList.elements.map(y=>U.createForNode(n,y));let k=n.root.memoryManager.getReservedTemporaryVarName(i);n.root.memoryManager.variableWasReused(i)||n.variables.push(new q(n,k,x.instanceType)),this.arguments.unshift(k),this.allocator=new Mt(n,k,x.instanceType,i);return}else if(It.isIdentifier(i.expression)&&i.expression.text==="Object"){if(n.root.symbolsHelper.findSymbolScope(i.expression).parent===void 0&&i.argumentList.elements.length===0||Mp(i.argumentList.elements[0])){let k=It.createPropertyDefinitionList([],!1,It.NodeFlags.None,-1,-1),y=It.createObjectLiteral(k,It.NodeFlags.None,-1,-1);y.parent=i,n.root.typeHelper.registerSyntheticNode(y,Ke),this.expression=new Sa(n,y)}return}this.nodeText=te(i)}};Es=V([O(`
{#statements}
    {allocator}
{/statements}
{#if standardCall}
    {standardCall}
{#elseif funcName}
    {funcName}({arguments {, }=> {this}})
{#elseif expression}
    {expression}
{#else}
    /* Unsupported 'new' expression {nodeText} */
{/if}`,It.SyntaxKind.NewExpression)],Es);var Fs=class{addSymbols(s,n){this.symbolHelper=n,this.parseIntSymbol=n.registerSyntheticSymbol(s,null,"parseInt",this)}returnType(s,n){return B}createTemplate(s,n){return new wn(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return null}};Fs=V([lr],Fs);var wn=class extends j{constructor(s,n){super(),this.arguments=n.argumentList.elements.map(i=>U.createForNode(s,i)),s.root.headerFlags.parse_int16_t=!0}};wn=V([O("parse_int16_t({arguments {, }=> {this}})")],wn);var Cs=class{addSymbols(s,n){this.symbolHelper=n,this.isNaNSymbol=n.registerSyntheticSymbol(s,null,"isNaN",this)}argumentTypes(s,n){return[W]}returnType(s,n){return _e}createTemplate(s,n){return new Nn(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return null}};Cs=V([lr],Cs);var Nn=class extends j{constructor(n,i){super();this.argument=null;this.argument=new Ve(n,i.argumentList.elements[0]),n.root.headerFlags.js_var_isnan=!0,n.root.headerFlags.js_var_to_number=!0}};Nn=V([O("js_var_isnan({argument})")],Nn);var eu=Ae(Ce());var As=class{matchesNode(s){return s instanceof D}argumentTypes(s,n){let i=s.getCType(n.expression.member);return[new xe({parameterTypes:[B,B,i]})]}returnType(s,n){return B}createTemplate(s,n){return new Tn(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return n}};As=V([ke("forEach")],As);var Tn=class extends j{constructor(n,i){super();this.variables=[];this.statements=[];this.iteratorFnAccess=null;this.arraySize="";this.parent=n,this.func=n.func,this.root=n.root;let u=i.expression,m=n.root.typeHelper.getCType(u.member);this.varAccess=U.templateToString(new pe(n,u.member)),this.topExpressionOfStatement=i.parent.kind===eu.SyntaxKind.ExpressionStatement,this.iteratorVarName=n.root.symbolsHelper.addIterator(i),this.arraySize=m.isDynamicArray?this.varAccess+"->size":m.capacity+"";let x=i.argumentList.elements[0];n.variables.push(new q(n,this.iteratorVarName,B)),this.paramName=x.formalParameterList.formalParameters[0].text,x.contents.functionStatementList.statements.forEach(k=>this.statements.push(U.createForNode(this,k))),this.variables.push(new q(n,this.paramName,m.elementType))}};Tn=V([O(`
for ({iteratorVarName} = 0; {iteratorVarName} < {arraySize}; {iteratorVarName}++) {
    {variables {   }=> {this};
}
    {paramName} = {varAccess}[{iteratorVarName}];
    {statements {    }=> {this}}
}
`)],Tn);var tu=Ae(Ce());var Is=class{matchesNode(s,n){return s instanceof D&&s.isDynamicArray||n&&n.determineObjectType}objectType(s,n){let i=n.argumentList.elements[0]&&s.getCType(n.argumentList.elements[0]);return new D(i||Ke,0,!0)}argumentTypes(s,n){let i=s.getCType(n.expression.member);return n.argumentList.elements.map(u=>i instanceof D?i.elementType:null)}returnType(s,n){return B}createTemplate(s,n){return new _n(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return n.expression.member}};Is=V([ke("push")],Is);var _n=class extends j{constructor(n,i){super();this.tempVarName="";this.varAccess=null;this.pushValues=[];let u=i.expression,m=n.root.typeHelper.getCType(u.member);this.varAccess=new pe(n,u.member);let x=i.argumentList.elements.map(k=>m.elementType===W?new Ve(n,k):U.createForNode(n,k));this.pushValues=x.map(k=>new En(n,this.varAccess,k)),this.topExpressionOfStatement=i.parent.kind===tu.SyntaxKind.ExpressionStatement,this.topExpressionOfStatement||(this.tempVarName=n.root.symbolsHelper.addTemp(u,"arr_size"),n.variables.push(new q(n,this.tempVarName,B))),n.root.headerFlags.array=!0}};_n=V([O(`
{#statements}
    {#if !topExpressionOfStatement}
        {pushValues}
        {tempVarName} = {varAccess}->size;
    {/if}
{/statements}
{#if topExpressionOfStatement}
    {pushValues}
{#else}
    {tempVarName}
{/if}`)],_n);var En=class{constructor(s,n,i){this.varAccess=n;this.value=i}};En=V([O(`ARRAY_PUSH({varAccess}, {value});
`)],En);var vs=class{matchesNode(s,n){return s instanceof D&&s.isDynamicArray||n&&n.determineObjectType}objectType(s,n){return new D(Ke,0,!0)}returnType(s,n){let i=n.expression;return s.getCType(i.member).elementType}createTemplate(s,n){return new Fn(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return null}};vs=V([ke("pop")],vs);var Fn=class extends j{constructor(n,i){super();this.tempVarName="";this.varAccess=null;let u=i.expression;this.varAccess=new pe(n,u.member),n.root.headerFlags.array=!0,n.root.headerFlags.array_pop=!0}};Fn=V([O("ARRAY_POP({varAccess})")],Fn);var ru=Ae(Ce());var Ps=class{matchesNode(s,n){return s instanceof D&&s.isDynamicArray||n&&n.determineObjectType}objectType(s,n){let i=n.argumentList.elements[0]&&s.getCType(n.argumentList.elements[0]);return new D(i||Ke,0,!0)}argumentTypes(s,n){let i=n.expression,u=s.getCType(i.member);return n.argumentList.elements.map(m=>u instanceof D?u.elementType:null)}returnType(s,n){return B}createTemplate(s,n){return new Cn(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return n.expression.member}};Ps=V([ke("unshift")],Ps);var Cn=class extends j{constructor(n,i){super();this.tempVarName="";this.varAccess=null;this.unshiftValues=[];let u=i.expression;this.varAccess=new pe(n,u.member);let m=i.argumentList.elements.map(x=>U.createForNode(n,x));this.unshiftValues=m.map(x=>new An(n,this.varAccess,x)),this.topExpressionOfStatement=i.parent.kind===ru.SyntaxKind.ExpressionStatement,this.topExpressionOfStatement||(this.tempVarName=n.root.symbolsHelper.addTemp(u,"arr_size"),n.variables.push(new q(n,this.tempVarName,B))),n.root.headerFlags.array=!0,n.root.headerFlags.array_insert=!0}};Cn=V([O(`
{#statements}
    {#if !topExpressionOfStatement}
        {unshiftValues}
        {tempVarName} = {varAccess}->size;
    {/if}
{/statements}
{#if topExpressionOfStatement}
    {unshiftValues}
{#else}
    {tempVarName}
{/if}`)],Cn);var An=class extends j{constructor(n,i,u){super();this.varAccess=i;this.value=u}};An=V([O(`ARRAY_INSERT({varAccess}, 0, {value});
`)],An);var au=Ae(Ce());var Vs=class{matchesNode(s,n){return s instanceof D&&s.isDynamicArray||n&&n.determineObjectType}objectType(s,n){return new D(Ke,0,!0)}returnType(s,n){let i=n.expression;return s.getCType(i.member).elementType}createTemplate(s,n){return new In(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return null}};Vs=V([ke("shift")],Vs);var In=class extends j{constructor(n,i){super();this.tempVarName="";this.varAccess=null;let u=i.expression;this.varAccess=new pe(n,u.member),this.tempVarName=n.root.symbolsHelper.addTemp(u,"value");let m=n.root.typeHelper.getCType(u.member);n.variables.push(new q(n,this.tempVarName,m.elementType)),this.topExpressionOfStatement=i.parent.kind===au.SyntaxKind.ExpressionStatement,n.root.headerFlags.array=!0,n.root.headerFlags.array_remove=!0}};In=V([O(`
{#statements}
    {tempVarName} = {varAccess}->data[0];
    ARRAY_REMOVE({varAccess}, 0, 1);
{/statements}
{#if !topExpressionOfStatement}
    {tempVarName}
{/if}`)],In);var Hl=Ae(Ce());var Ls=class{matchesNode(s,n){return s instanceof D&&s.isDynamicArray||n&&n.determineObjectType}objectType(s,n){return new D(Ke,0,!0)}returnType(s,n){let i=n.expression;return s.getCType(i.member)}createTemplate(s,n){return new vn(s,n)}needsDisposal(s,n){return n.parent.kind!==Hl.SyntaxKind.ExpressionStatement}getTempVarName(s,n){return"tmp_removed_values"}getEscapeNode(s,n){return n.expression.member}};Ls=V([ke("splice")],Ls);var vn=class extends j{constructor(n,i){super();this.tempVarName="";this.varAccess=null;this.insertValues=[];this.needsRemove=!1;let u=i.expression;this.varAccess=new pe(n,u.member);let m=i.argumentList.elements.map(x=>U.createForNode(n,x));if(this.startPosArg=m[0],this.deleteCountArg=m[1],this.topExpressionOfStatement=i.parent.kind===Hl.SyntaxKind.ExpressionStatement,!this.topExpressionOfStatement){this.tempVarName=n.root.memoryManager.getReservedTemporaryVarName(i);let x=n.root.typeHelper.getCType(u.member);n.root.memoryManager.variableWasReused(i)||n.variables.push(new q(n,this.tempVarName,x)),this.iteratorVarName=n.root.symbolsHelper.addIterator(u),n.variables.push(new q(n,this.iteratorVarName,B))}i.argumentList.elements.length>2&&(this.insertValues=m.slice(2).reverse().map(x=>new Pn(n,this.varAccess,this.startPosArg,x)),n.root.headerFlags.array_insert=!0),Ye(i.argumentList.elements[1])&&(this.needsRemove=i.argumentList.elements[1].text!==0),n.root.headerFlags.array=!0,n.root.headerFlags.array_insert=!0,n.root.headerFlags.array_remove=!0}};vn=V([O(`
{#statements}
    {#if !topExpressionOfStatement}
        ARRAY_CREATE({tempVarName}, {deleteCountArg}, {deleteCountArg});
        for ({iteratorVarName} = 0; {iteratorVarName} < {deleteCountArg}; {iteratorVarName}++)
            {tempVarName}->data[{iteratorVarName}] = {varAccess}->data[{iteratorVarName}+(({startPosArg}) < 0 ? {varAccess}->size + ({startPosArg}) : ({startPosArg}))];
        ARRAY_REMOVE({varAccess}, ({startPosArg}) < 0 ? {varAccess}->size + ({startPosArg}) : ({startPosArg}), {deleteCountArg});
        {insertValues}
    {/if}
{/statements}
{#if topExpressionOfStatement && needsRemove}
    ARRAY_REMOVE({varAccess}, ({startPosArg}) < 0 ? {varAccess}->size + ({startPosArg}) : ({startPosArg}), {deleteCountArg});
    {insertValues}
{#elseif topExpressionOfStatement && !needsRemove}
    {insertValues}
{#else}
    {tempVarName}
{/if}`)],vn);var Pn=class{constructor(s,n,i,u){this.varAccess=n;this.startIndex=i;this.value=u}};Pn=V([O(`ARRAY_INSERT({varAccess}, {startIndex}, {value});
`)],Pn);var na=Ae(Ce());var Rs=class{matchesNode(s){return s instanceof D}returnType(s,n){let{size:i,dynamic:u,elementType:m}=Bl(s,n);return new D(m,i,u)}createTemplate(s,n){return new Vn(s,n)}needsDisposal(s,n){let{dynamic:i}=Bl(s,n);return n.parent.kind!==na.SyntaxKind.ExpressionStatement&&i}getTempVarName(s,n){return"tmp_slice"}getEscapeNode(s,n){return null}};Rs=V([ke("slice")],Rs);var Vn=class extends j{constructor(n,i){super();this.tempVarName="";this.iteratorVarName="";this.sizeVarName="";this.startVarName="";this.endVarName="";this.simpleSlice=!1;this.simpleSliceSize=0;this.simpleSliceStart=0;if(this.topExpressionOfStatement=i.parent.kind===na.SyntaxKind.ExpressionStatement,this.topExpressionOfStatement)return;let u=i.expression,m=n.root.typeHelper.getCType(u.member),x=new pe(n,u.member);this.arraySize=new st(n,m,x,"length"),this.arrayDataAccess=new Ln(n,x,m.isDynamicArray),this.iteratorVarName=n.root.symbolsHelper.addIterator(u),n.variables.push(new q(n,this.iteratorVarName,B));let k=i.argumentList.elements.map(L=>U.createForNode(n,L));this.startIndexArg=k[0],this.endIndexArg=k.length==2?k[1]:null;let{start:y,size:N,dynamic:E}=Bl(n.root.typeHelper,i);if(!E){this.simpleSlice=!0,this.simpleSliceStart=y,this.simpleSliceSize=N;let L=nu(i);L?this.tempVarName=L.text:(this.tempVarName=n.root.symbolsHelper.addTemp(u,"tmp_slice"),n.variables.push(new q(n,this.tempVarName,new D(m.elementType,this.simpleSliceSize,!1))));return}this.tempVarName=n.root.memoryManager.getReservedTemporaryVarName(i);let P=n.root.typeHelper.getCType(u.member),R=new D(P.elementType,0,!0);n.root.memoryManager.variableWasReused(i)||n.variables.push(new q(n,this.tempVarName,R)),this.sizeVarName=n.root.symbolsHelper.addTemp(u,this.tempVarName+"_size"),n.variables.push(new q(n,this.sizeVarName,B)),this.startVarName=n.root.symbolsHelper.addTemp(u,this.tempVarName+"_start"),n.variables.push(new q(n,this.startVarName,B)),k.length==2&&(this.endVarName=n.root.symbolsHelper.addTemp(u,this.tempVarName+"_end"),n.variables.push(new q(n,this.endVarName,B))),n.root.headerFlags.array=!0}};Vn=V([O(`
{#statements}
    {#if !topExpressionOfStatement && simpleSlice }
        for ({iteratorVarName} = 0; {iteratorVarName} < {simpleSliceSize}; {iteratorVarName}++)
            {tempVarName}[{iteratorVarName}] = {arrayDataAccess}[{iteratorVarName} + {simpleSliceStart}];
    {#elseif !topExpressionOfStatement && !simpleSlice && !endIndexArg}
        {sizeVarName} = ({startIndexArg}) < 0 ? -({startIndexArg}) : {arraySize} - ({startIndexArg});
        {startVarName} = ({startIndexArg}) < 0 ? {arraySize} + ({startIndexArg}) : ({startIndexArg});
        ARRAY_CREATE({tempVarName}, {sizeVarName}, {sizeVarName});
        for ({iteratorVarName} = 0; {iteratorVarName} < {sizeVarName}; {iteratorVarName}++)
            {tempVarName}->data[{iteratorVarName}] = {arrayDataAccess}[{iteratorVarName} + {startVarName}];
    {#elseif !topExpressionOfStatement && !simpleSlice && endIndexArg}
        {startVarName} = ({startIndexArg}) < 0 ? {arraySize} + ({startIndexArg}) : ({startIndexArg});
        {endVarName} = ({endIndexArg}) < 0 ? {arraySize} + ({endIndexArg}) : ({endIndexArg});
        {sizeVarName} = {endVarName} - {startVarName};
        ARRAY_CREATE({tempVarName}, {sizeVarName}, {sizeVarName});
        for ({iteratorVarName} = 0; {iteratorVarName} < {sizeVarName}; {iteratorVarName}++)
            {tempVarName}->data[{iteratorVarName}] = {arrayDataAccess}[{iteratorVarName} + {startVarName}];
    {/if}
{/statements}
{#if topExpressionOfStatement}
    /* slice doesn't have side effects, skipping */
{#else}
    {tempVarName}
{/if}`)],Vn);var Ln=class{constructor(s,n,i){this.elementAccess=n;this.isDynamicArray=i}};Ln=V([O(`
{#if isDynamicArray}
    {elementAccess}->data
{#else}
    {elementAccess}
{/if}`)],Ln);function Bl(t,s){let n={start:0,size:0,dynamic:!0,elementType:null};if(!Ge(s.expression))return n;let i=t.getCType(s.expression.member);if(!(i instanceof D))return n;n.elementType=i.elementType;let u=nu(s),m=u&&t.getCType(u),x=u&&m instanceof D&&m.isDynamicArray,k=s.argumentList.elements.map(Ey);if(!x&&!i.isDynamicArray&&k.every(N=>N!==null)){let N=i.capacity,E=k[0];if(s.argumentList.elements.length==1)n.start=E<0?N+E:E,n.size=E<0?-E:N-E;else{let P=k[1];n.start=E<0?N+E:E,n.size=(P<0?N+P:P)-n.start}n.dynamic=n.size<=0}return n}function Ey(t){return Ye(t)?+t.text:jt(t)&&t.operandToken.kind===na.SyntaxKind.Subtract&&Ye(t.operand)?-t.operand.text:null}function nu(t){return yt(t.parent)&&na.isIdentifier(t.parent.left)?t.parent.left:it(t.parent)&&na.isIdentifier(t.parent.binding)?t.parent.binding:null}var jl=Ae(Ce());var Os=class{matchesNode(s){return s instanceof D}returnType(s,n){let i=n.expression,u=s.getCType(i.member);return new D(u.elementType,0,!0)}createTemplate(s,n){return new Rn(s,n)}needsDisposal(s,n){return n.parent.kind!==jl.SyntaxKind.ExpressionStatement}getTempVarName(s,n){return"tmp_array"}getEscapeNode(s,n){return n}};Os=V([ke("concat")],Os);var Rn=class extends j{constructor(n,i){super();this.tempVarName="";this.varAccess=null;this.concatValues=[];this.sizes=[];let u=i.expression;if(this.varAccess=new pe(n,u.member),this.topExpressionOfStatement=i.parent.kind===jl.SyntaxKind.ExpressionStatement,!this.topExpressionOfStatement){this.tempVarName=n.root.memoryManager.getReservedTemporaryVarName(i);let m=n.root.typeHelper.getCType(u.member);n.root.memoryManager.variableWasReused(i)||n.variables.push(new q(n,this.tempVarName,new D(m.elementType,0,!0))),this.indexVarName=n.root.symbolsHelper.addIterator(i),n.variables.push(new q(n,this.indexVarName,B));let x=i.argumentList.elements.map(y=>({node:y,template:U.createForNode(n,y)})),k=[{node:u.member,template:this.varAccess}].concat(x);this.sizes=k.map(y=>new On(n,y.node,y.template)),this.concatValues=k.map(y=>new Dn(n,this.tempVarName,y.node,y.template,this.indexVarName))}n.root.headerFlags.array=!0}};Rn=V([O(`
{#statements}
    {#if !topExpressionOfStatement}
        ARRAY_CREATE({tempVarName}, {sizes{+}=>{this}}, 0);
        {tempVarName}->size = {tempVarName}->capacity;
        {indexVarName} = 0;
        {concatValues}
    {/if}
{/statements}
{#if !topExpressionOfStatement}
    {tempVarName}
{/if}`)],Rn);var On=class{constructor(s,n,i){this.value=i;let u=s.root.typeHelper.getCType(n);this.isArray=u instanceof D,this.staticArraySize=u instanceof D&&u.capacity}};On=V([O(`
{#if staticArraySize}
    {staticArraySize}
{#elseif isArray}
    {value}->size
{#else}
    1
{/if}`)],On);var Dn=class{constructor(s,n,i,u,m){this.varAccess=n;this.value=u;this.indexVarName=m;let x=s.root.typeHelper.getCType(i);this.isArray=x instanceof D,this.staticArraySize=x instanceof D&&!x.isDynamicArray&&x.capacity,this.isArray&&(this.iteratorVarName=s.root.symbolsHelper.addIterator(i),s.variables.push(new q(s,this.iteratorVarName,B)))}};Dn=V([O(`
{#if staticArraySize}
    for ({iteratorVarName} = 0; {iteratorVarName} < {staticArraySize}; {iteratorVarName}++)
        {varAccess}->data[{indexVarName}++] = {value}[{iteratorVarName}];
{#elseif isArray}
    for ({iteratorVarName} = 0; {iteratorVarName} < {value}->size; {iteratorVarName}++)
        {varAccess}->data[{indexVarName}++] = {value}->data[{iteratorVarName}];
{#else}
    {varAccess}->data[{indexVarName}++] = {value};
{/if}
`)],Dn);var Ul=Ae(Ce());var Ds=class{matchesNode(s){return s instanceof D}returnType(s,n){return Y}createTemplate(s,n){return new Hn(s,n)}needsDisposal(s,n){return n.parent.kind!==Ul.SyntaxKind.ExpressionStatement}getTempVarName(s,n){return"tmp_joined_string"}getEscapeNode(s,n){return null}};Ds=V([ke("join","toString")],Ds);var Hn=class extends j{constructor(n,i){super();this.tempVarName="";this.varAccess=null;if(this.topExpressionOfStatement=i.parent.kind===Ul.SyntaxKind.ExpressionStatement,!this.topExpressionOfStatement){let u=i.expression,m=n.root.typeHelper.getCType(u.member);this.varAccess=new pe(n,u.member),this.arraySize=new Tt(n,this.varAccess,m),this.iteratorVarName=n.root.symbolsHelper.addIterator(i),n.variables.push(new q(n,this.iteratorVarName,B)),this.arrayElement=new st(n,m,this.varAccess,this.iteratorVarName),this.catFuncName=m.elementType==B?"str_int16_t_cat":"strcat",this.tempVarName=n.root.memoryManager.getReservedTemporaryVarName(i),n.root.memoryManager.variableWasReused(i)||n.variables.push(new q(n,this.tempVarName,"char *")),this.calculatedStringLength=new Bn(n,this.varAccess,this.iteratorVarName,m,i),i.argumentList.elements.length>0&&u.expression.text=="join"?this.separator=U.createForNode(n,i.argumentList.elements[0]):this.separator=new Lt(n,","),n.root.headerFlags.malloc=!0,n.root.headerFlags.strings=!0,m.isDynamicArray&&(n.root.headerFlags.array=!0),m.elementType==B&&(n.root.headerFlags.str_int16_t_cat=!0)}}};Hn=V([O(`
{#statements}
    {#if !topExpressionOfStatement}
        {tempVarName} = malloc({calculatedStringLength});
        assert({tempVarName} != NULL);
        ((char *){tempVarName})[0] = '\\0';
        for ({iteratorVarName} = 0; {iteratorVarName} < {arraySize}; {iteratorVarName}++) {
            if ({iteratorVarName} > 0)
                strcat((char *){tempVarName}, {separator});
            {catFuncName}((char *){tempVarName}, {arrayElement});
        }
    {/if}
{/statements}
{#if !topExpressionOfStatement}
    {tempVarName}
{/if}`)],Hn);var Bn=class{constructor(s,n,i,u,m){this.varAccess=n;this.iteratorVarName=i;this.type=u;this.arrayOfStrings=u.elementType==Y,this.arrayOfNumbers=u.elementType==B,this.arrayCapacity=u.capacity+"",this.arraySize=new Tt(s,this.varAccess,u),this.arrayElement=new st(s,u,n,i),this.arrayOfStrings&&(this.lengthVarName=s.root.symbolsHelper.addTemp(m,"len"),s.variables.push(new q(s,this.lengthVarName,B)))}};Bn=V([O(`
{#statements}
    {#if arrayOfStrings}
        {lengthVarName} = 0;
        for ({iteratorVarName} = 0; {iteratorVarName} < {arraySize}; {iteratorVarName}++)
            {lengthVarName} += strlen({arrayElement});
    {/if}
{/statements}
{#if type.isDynamicArray && arrayOfStrings}
    {arraySize} == 0 ? 1 : {lengthVarName} + strlen({separator})*({arraySize}-1) + 1
{#elseif arrayCapacity > 0 && arrayOfStrings}
    {lengthVarName} + strlen({separator})*({arraySize}-1) + 1
{#elseif type.isDynamicArray && arrayOfNumbers}
    {varAccess}->size == 0 ? 1 : STR_INT16_T_BUFLEN*{varAccess}->size + strlen({separator})*({arraySize}-1) + 1
{#elseif arrayCapacity > 0 && arrayOfNumbers}
    STR_INT16_T_BUFLEN*{arraySize}+strlen({separator})*({arraySize}-1)+1
{#else}
    1
{/if}`)],Bn);var Et=Ae(Ce());var Hs=class{matchesNode(s){return s instanceof D}returnType(s,n){return B}createTemplate(s,n){return new jn(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return null}};Hs=V([ke("indexOf")],Hs);var jn=class extends j{constructor(n,i){super();this.tempVarName="";this.staticArraySize="";this.varAccess=null;let u=i.expression,m=n.root.typeHelper.getCType(u.member);if(this.varAccess=new pe(n,u.member),this.topExpressionOfStatement=i.parent.kind===Et.SyntaxKind.ExpressionStatement,!this.topExpressionOfStatement){this.tempVarName=n.root.symbolsHelper.addTemp(u,"arr_pos"),this.iteratorVarName=n.root.symbolsHelper.addIterator(u),this.staticArraySize=m.isDynamicArray?"":m.capacity+"",n.variables.push(new q(n,this.tempVarName,B)),n.variables.push(new q(n,this.iteratorVarName,B));let x=Et.createIdentifier(this.iteratorVarName,this.iteratorVarName,Et.NodeFlags.NoChildren,-1,-1),k=Et.createMemberAccessExpression(u.member,x,-1,-1),y=Et.createToken(Et.SyntaxKind.LooseEqual,Et.NodeFlags.NoChildren,-1,-1),N=Et.createBinaryExpression(k,y,i.argumentList.elements[0],Et.NodeFlags.None,-1,-1);x.parent=k,y.parent=N,k.parent=N,n.root.typeHelper.registerSyntheticNode(x,B),n.root.typeHelper.registerSyntheticNode(k,m.elementType),n.root.typeHelper.registerSyntheticNode(N,_e),this.comparison=new Dr(n,N),n.root.headerFlags.array=!0}}};jn=V([O(`
{#statements}
    {#if !topExpressionOfStatement && staticArraySize}
        {tempVarName} = -1;
        for ({iteratorVarName} = 0; {iteratorVarName} < {staticArraySize}; {iteratorVarName}++) {
            if ({comparison}) {
                {tempVarName} = {iteratorVarName};
                break;
            }
        }
    {#elseif !topExpressionOfStatement}
        {tempVarName} = -1;
        for ({iteratorVarName} = 0; {iteratorVarName} < {varAccess}->size; {iteratorVarName}++) {
            if ({comparison}) {
                {tempVarName} = {iteratorVarName};
                break;
            }
        }
    {/if}
{/statements}
{#if !topExpressionOfStatement}
    {tempVarName}
{/if}`)],jn);var Ft=Ae(Ce());var Bs=class{matchesNode(s){return s instanceof D}returnType(s,n){return B}createTemplate(s,n){return new Un(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return null}};Bs=V([ke("lastIndexOf")],Bs);var Un=class extends j{constructor(n,i){super();this.tempVarName="";this.staticArraySize="";this.varAccess=null;let u=i.expression,m=n.root.typeHelper.getCType(u.member);if(this.varAccess=new pe(n,u.member),this.topExpressionOfStatement=i.parent.kind===Ft.SyntaxKind.ExpressionStatement,!this.topExpressionOfStatement){this.tempVarName=n.root.symbolsHelper.addTemp(u,"arr_pos"),this.iteratorVarName=n.root.symbolsHelper.addIterator(u),this.staticArraySize=m.isDynamicArray?"":m.capacity+"",n.variables.push(new q(n,this.tempVarName,B)),n.variables.push(new q(n,this.iteratorVarName,B));let x=Ft.createIdentifier(this.iteratorVarName,this.iteratorVarName,Ft.NodeFlags.NoChildren,-1,-1),k=Ft.createMemberAccessExpression(u.member,x,-1,-1),y=Ft.createToken(Ft.SyntaxKind.LooseEqual,Ft.NodeFlags.NoChildren,-1,-1),N=Ft.createBinaryExpression(k,y,i.argumentList.elements[0],Ft.NodeFlags.None,-1,-1);x.parent=k,y.parent=N,k.parent=N,n.root.typeHelper.registerSyntheticNode(x,B),n.root.typeHelper.registerSyntheticNode(k,m.elementType),n.root.typeHelper.registerSyntheticNode(N,_e),this.comparison=new Dr(n,N),n.root.headerFlags.array=!0}}};Un=V([O(`
{#statements}
    {#if !topExpressionOfStatement && staticArraySize}
        {tempVarName} = -1;
        for ({iteratorVarName} = {staticArraySize} - 1; {iteratorVarName} >= 0; {iteratorVarName}--) {
            if ({comparison}) {
                {tempVarName} = {iteratorVarName};
                break;
            }
        }
    {#elseif !topExpressionOfStatement}
        {tempVarName} = -1;
        for ({iteratorVarName} = {varAccess}->size - 1; {iteratorVarName} >= 0; {iteratorVarName}--) {
            if ({comparison}) {
                {tempVarName} = {iteratorVarName};
                break;
            }
        }
    {/if}
{/statements}
{#if !topExpressionOfStatement}
    {tempVarName}
{/if}`)],Un);var iu=Ae(Ce());var js=class{matchesNode(s,n){return s instanceof D&&s.isDynamicArray||n&&n.determineObjectType}objectType(s,n){return new D(Ke,0,!0)}returnType(s,n){let i=n.expression;return s.getCType(i.member)}createTemplate(s,n){return new Mn(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return""}getEscapeNode(s,n){return null}};js=V([ke("sort")],js);var Mn=class extends j{constructor(n,i){super();this.varAccess=null;this.arrayOfInts=!1;this.arrayOfStrings=!1;let u=i.expression,m=n.root.typeHelper.getCType(u.member);this.varAccess=new pe(n,u.member),this.topExpressionOfStatement=i.parent.kind===iu.SyntaxKind.ExpressionStatement,this.arrayOfInts=m.elementType==B,this.arrayOfStrings=m.elementType==Y,this.arrayOfInts?n.root.headerFlags.array_int16_t_cmp=!0:this.arrayOfStrings&&(n.root.headerFlags.array_str_cmp=!0)}};Mn=V([O(`
{#statements}
    {#if !topExpressionOfStatement && arrayOfInts}
        qsort({varAccess}->data, {varAccess}->size, sizeof(*{varAccess}->data), array_int16_t_cmp);
    {#elseif !topExpressionOfStatement && arrayOfStrings}
        qsort({varAccess}->data, {varAccess}->size, sizeof(*{varAccess}->data), array_str_cmp);
    {/if}
{/statements}
{#if !topExpressionOfStatement}
    {varAccess}
{#elseif arrayOfInts}
    qsort({varAccess}->data, {varAccess}->size, sizeof(*{varAccess}->data), array_int16_t_cmp);
{#elseif arrayOfStrings}
    qsort({varAccess}->data, {varAccess}->size, sizeof(*{varAccess}->data), array_str_cmp);
{/if}`)],Mn);var su=Ae(Ce());var Us=class{matchesNode(s,n){return s instanceof D&&s.isDynamicArray||n&&n.determineObjectType}objectType(s,n){return new D(Ke,0,!0)}returnType(s,n){let i=n.expression;return s.getCType(i.member)}createTemplate(s,n){return new zn(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return""}getEscapeNode(s,n){return null}};Us=V([ke("reverse")],Us);var zn=class extends j{constructor(n,i){super();this.varAccess=null;let u=i.expression,m=n.root.typeHelper.getCType(u.member);this.varAccess=new pe(n,u.member),this.topExpressionOfStatement=i.parent.kind===su.SyntaxKind.ExpressionStatement,this.iteratorVar1=n.root.symbolsHelper.addIterator(i),this.iteratorVar2=n.root.symbolsHelper.addIterator(i),this.tempVarName=n.root.symbolsHelper.addTemp(i,"temp"),n.variables.push(new q(n,this.iteratorVar1,B)),n.variables.push(new q(n,this.iteratorVar2,B)),n.variables.push(new q(n,this.tempVarName,m.elementType))}};zn=V([O(`
{#statements}
    {iteratorVar1} = 0;
    {iteratorVar2} = {varAccess}->size - 1;
    while ({iteratorVar1} < {iteratorVar2}) {
        {tempVarName} = {varAccess}->data[{iteratorVar1}];
        {varAccess}->data[{iteratorVar1}] = {varAccess}->data[{iteratorVar2}];
        {varAccess}->data[{iteratorVar2}] = {tempVarName};
        {iteratorVar1}++;
        {iteratorVar2}--;
    }
{/statements}
{#if !topExpressionOfStatement}
    {varAccess}
{/if}`)],zn);var ou=Ae(Ce());var Ms=class{matchesNode(s){return s===Y}objectType(s,n){return Y}argumentTypes(s,n){return n.argumentList.elements.map((i,u)=>u==0?Yt:null)}returnType(s,n){return B}createTemplate(s,n){return new qn(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return null}};Ms=V([ke("search")],Ms);var qn=class extends j{constructor(s,n){super();let i=n.expression;this.topExpressionOfStatement=n.parent.kind===ou.SyntaxKind.ExpressionStatement,this.topExpressionOfStatement||(n.argumentList.elements.length==1?(this.argAccess=new pe(s,i.member),this.regexVar=U.createForNode(s,n.argumentList.elements[0])):console.log("Unsupported number of parameters in "+te(n)+". Expected one parameter."))}};qn=V([O(`
{#if !topExpressionOfStatement}
    {regexVar}.func({argAccess}, FALSE).index
{/if}`)],qn);var lu=Ae(Ce());var zs=class{matchesNode(s){return s===Y}objectType(s,n){return Y}argumentTypes(s,n){return n.argumentList.elements.map((i,u)=>u==0?B:null)}returnType(s,n){return B}createTemplate(s,n){return new Gn(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return null}};zs=V([ke("charCodeAt")],zs);var Gn=class extends j{constructor(s,n){super();let i=n.expression;this.topExpressionOfStatement=n.parent.kind===lu.SyntaxKind.ExpressionStatement,this.topExpressionOfStatement||(n.argumentList.elements.length==1?(this.strAccess=new pe(s,i.member),this.position=U.createForNode(s,n.argumentList.elements[0]),s.root.headerFlags.str_char_code_at=!0):console.log("Unsupported number of parameters in "+te(n)+". Expected one parameter."))}};Gn=V([O(`
{#if !topExpressionOfStatement}
    str_char_code_at({strAccess}, {position})
{/if}`)],Gn);var Ml=Ae(Ce());var qs=class{matchesNode(s){return s===Y}returnType(s,n){return Y}createTemplate(s,n){return new Jn(s,n)}needsDisposal(s,n){return n.parent.kind!==Ml.SyntaxKind.ExpressionStatement}getTempVarName(s,n){return"char_at"}getEscapeNode(s,n){return null}};qs=V([ke("charAt")],qs);var Jn=class extends j{constructor(n,i){super();this.varAccess=null;this.start=null;let u=i.expression;this.varAccess=new pe(n,u.member),this.topExpressionOfStatement=i.parent.kind===Ml.SyntaxKind.ExpressionStatement,this.topExpressionOfStatement||(i.argumentList.elements.length==0?console.log("Error in "+te(i)+". Parameter expected!"):(this.tempVarName=n.root.memoryManager.getReservedTemporaryVarName(i),n.root.memoryManager.variableWasReused(i)||n.variables.push(new q(n,this.tempVarName,Y)),this.start=U.createForNode(n,i.argumentList.elements[0]))),n.root.headerFlags.str_substring=!0}};Jn=V([O(`
{#statements}
    {#if !topExpressionOfStatement && start != null}
        {tempVarName} = str_substring({varAccess}, {start}, ({start}) + 1);
    {/if}
{/statements}
{#if !topExpressionOfStatement && start != null}
    {tempVarName}
{#elseif !topExpressionOfStatement && start == null}
    /* Error: parameter expected for charAt */
{/if}`)],Jn);var zl=Ae(Ce());var Gs=class{matchesNode(s){return s===Y}returnType(s,n){return Y}createTemplate(s,n){return new Wn(s,n)}needsDisposal(s,n){return n.parent.kind!==zl.SyntaxKind.ExpressionStatement}getTempVarName(s,n){return"concatenated_str"}getEscapeNode(s,n){return null}};Gs=V([ke("concat")],Gs);var Wn=class extends j{constructor(n,i){super();this.tempVarName="";this.varAccess=null;this.concatValues=[];this.sizes=[];let u=i.expression;if(this.varAccess=new pe(n,u.member),this.topExpressionOfStatement=i.parent.kind===zl.SyntaxKind.ExpressionStatement,!this.topExpressionOfStatement){this.tempVarName=n.root.memoryManager.getReservedTemporaryVarName(i),n.root.memoryManager.variableWasReused(i)||n.variables.push(new q(n,this.tempVarName,"char *"));let m=i.argumentList.elements.map(k=>({node:k,template:U.createForNode(n,k)})),x=[{node:u.member,template:this.varAccess}].concat(m);this.sizes=x.map(k=>new Qn(n,k.node,k.template)),this.concatValues=x.map(k=>new Yn(n,this.tempVarName,k.node,k.template))}n.root.headerFlags.strings=!0,n.root.headerFlags.malloc=!0,n.root.headerFlags.str_int16_t_cat=!0}};Wn=V([O(`
{#statements}
    {#if !topExpressionOfStatement}
        {tempVarName} = malloc({sizes{+}=>{this}} + 1);
        assert({tempVarName} != NULL);
        ((char *){tempVarName})[0] = '\\0';
        {concatValues}
    {/if}
{/statements}
{#if !topExpressionOfStatement}
    {tempVarName}
{/if}`)],Wn);var Qn=class{constructor(s,n,i){this.value=i;let u=s.root.typeHelper.getCType(n);this.isNumber=u==B}};Qn=V([O(`
{#if isNumber}
    STR_INT16_T_BUFLEN
{#else}
    strlen({value})
{/if}`)],Qn);var Yn=class{constructor(s,n,i,u){this.tempVarName=n;this.value=u;let m=s.root.typeHelper.getCType(i);this.isNumber=m==B}};Yn=V([O(`
{#if isNumber}
    str_int16_t_cat((char *){tempVarName}, {value});
{#else}
    strcat((char *){tempVarName}, {value});
{/if}
`)],Yn);var ql=Ae(Ce());var Js=class{matchesNode(s){return s===Y}returnType(s,n){return Y}createTemplate(s,n){return new Xn(s,n)}needsDisposal(s,n){return n.parent.kind!==ql.SyntaxKind.ExpressionStatement}getTempVarName(s,n){return"substr"}getEscapeNode(s,n){return null}};Js=V([ke("substring")],Js);var Xn=class extends j{constructor(n,i){super();this.varAccess=null;this.start=null;this.end=null;let u=i.expression;this.varAccess=new pe(n,u.member),this.topExpressionOfStatement=i.parent.kind===ql.SyntaxKind.ExpressionStatement,this.topExpressionOfStatement||(i.argumentList.elements.length==0?console.log("Error in "+te(i)+". At least one parameter expected!"):(this.tempVarName=n.root.memoryManager.getReservedTemporaryVarName(i),n.root.memoryManager.variableWasReused(i)||n.variables.push(new q(n,this.tempVarName,Y)),this.start=U.createForNode(n,i.argumentList.elements[0]),i.argumentList.elements.length>=2&&(this.end=U.createForNode(n,i.argumentList.elements[1])))),n.root.headerFlags.str_substring=!0}};Xn=V([O(`
{#statements}
    {#if !topExpressionOfStatement && start && end}
        {tempVarName} = str_substring({varAccess}, {start}, {end});
    {#elseif !topExpressionOfStatement && start && !end}
        {tempVarName} = str_substring({varAccess}, {start}, str_len({varAccess}));
    {/if}
{/statements}
{#if !topExpressionOfStatement && start}
    {tempVarName}
{#elseif !topExpressionOfStatement && !start}
    /* Error: String.substring requires at least one parameter! */
{/if}`)],Xn);var Gl=Ae(Ce());var Ws=class{matchesNode(s){return s===Y}returnType(s,n){return Y}createTemplate(s,n){return new $n(s,n)}needsDisposal(s,n){return n.parent.kind!==Gl.SyntaxKind.ExpressionStatement}getTempVarName(s,n){return"substr"}getEscapeNode(s,n){return null}};Ws=V([ke("slice")],Ws);var $n=class extends j{constructor(n,i){super();this.varAccess=null;this.start=null;this.end=null;let u=i.expression;this.varAccess=new pe(n,u.member),this.topExpressionOfStatement=i.parent.kind===Gl.SyntaxKind.ExpressionStatement,this.topExpressionOfStatement||(i.argumentList.elements.length==0?console.log("Error in "+te(i)+". At least one parameter expected!"):(this.tempVarName=n.root.memoryManager.getReservedTemporaryVarName(i),n.root.memoryManager.variableWasReused(i)||n.variables.push(new q(n,this.tempVarName,Y)),this.start=U.createForNode(n,i.argumentList.elements[0]),i.argumentList.elements.length>=2&&(this.end=U.createForNode(n,i.argumentList.elements[1])))),n.root.headerFlags.str_slice=!0}};$n=V([O(`
{#statements}
    {#if !topExpressionOfStatement && start && end}
        {tempVarName} = str_slice({varAccess}, {start}, {end});
    {#elseif !topExpressionOfStatement && start && !end}
        {tempVarName} = str_slice({varAccess}, {start}, str_len({varAccess}));
    {/if}
{/statements}
{#if !topExpressionOfStatement && start}
    {tempVarName}
{#elseif !topExpressionOfStatement && !start}
    /* Error: String.slice requires at least one parameter! */
{/if}`)],$n);var Qs=class{matchesNode(s){return s===Y}returnType(s,n){return Y}createTemplate(s,n){return U.createForNode(s,n.expression)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return null}};Qs=V([ke("toString","valueOf")],Qs);var du=Ae(Ce());var Ys=class{matchesNode(s){return s===Y}returnType(s,n){return B}createTemplate(s,n){return new Zn(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return null}};Ys=V([ke("indexOf")],Ys);var Zn=class extends j{constructor(s,n){super();let i=n.expression;this.topExpressionOfStatement=n.parent.kind===du.SyntaxKind.ExpressionStatement,this.topExpressionOfStatement||(n.argumentList.elements.length==1?(this.stringAccess=new pe(s,i.member),this.arg1=U.createForNode(s,n.argumentList.elements[0]),s.root.headerFlags.str_pos=!0):console.log("Unsupported number of parameters in "+te(n)+". Expected one parameter."))}};Zn=V([O(`
{#if !topExpressionOfStatement}
    str_pos({stringAccess}, {arg1})
{/if}`)],Zn);var cu=Ae(Ce());var Xs=class{matchesNode(s){return s===Y}returnType(s,n){return B}createTemplate(s,n){return new ei(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return null}};Xs=V([ke("lastIndexOf")],Xs);var ei=class extends j{constructor(s,n){super();let i=n.expression;this.topExpressionOfStatement=n.parent.kind===cu.SyntaxKind.ExpressionStatement,this.topExpressionOfStatement||(n.argumentList.elements.length==1?(this.stringAccess=new pe(s,i.member),this.arg1=U.createForNode(s,n.argumentList.elements[0]),s.root.headerFlags.str_rpos=!0):console.log("Unsupported number of parameters in "+te(n)+". Expected one parameter."))}};ei=V([O(`
{#if !topExpressionOfStatement}
    str_rpos({stringAccess}, {arg1})
{/if}`)],ei);var Jl=Ae(Ce());var $s=class{matchesNode(s){return s===Y}objectType(s,n){return Y}argumentTypes(s,n){return n.argumentList.elements.map((i,u)=>u==0?Yt:null)}returnType(s,n){return new D(Y,1,!0)}createTemplate(s,n){return new ti(s,n)}needsDisposal(s,n){return n.parent.kind!==Jl.SyntaxKind.ExpressionStatement}getTempVarName(s,n){return"match_array"}getEscapeNode(s,n){return null}};$s=V([ke("match")],$s);var ti=class extends j{constructor(n,i){super();this.topExpressionOfStatement=!1;this.gcVarName=null;n.root.headerFlags.str_substring=!0;let u=i.expression;this.topExpressionOfStatement=i.parent.kind===Jl.SyntaxKind.ExpressionStatement,this.topExpressionOfStatement||(i.argumentList.elements.length==1?(this.argAccess=new pe(n,u.member),this.regexVar=U.createForNode(n,i.argumentList.elements[0]),this.gcVarName=n.root.memoryManager.getGCVariableForNode(i),this.matchArrayVarName=n.root.memoryManager.getReservedTemporaryVarName(i),n.root.memoryManager.variableWasReused(i)||n.variables.push(new q(n,this.matchArrayVarName,new D(Y,0,!0))),n.root.headerFlags.regex_match=!0,n.root.headerFlags.array=!0,n.root.headerFlags.gc_iterator=!0):console.log("Unsupported number of parameters in "+te(i)+". Expected one parameter."))}};ti=V([O(`
{#statements}
    {#if !topExpressionOfStatement}
        {matchArrayVarName} = regex_match({regexVar}, {argAccess});
    {/if}
    {#if !topExpressionOfStatement && gcVarName}
        ARRAY_PUSH({gcVarName}, (void *){matchArrayVarName});
    {/if}
{/statements}
{#if !topExpressionOfStatement}
    {matchArrayVarName}
{/if}`)],ti);var Zs=class{addSymbols(s,n){this.symbolHelper=n,this.numberSymbol=n.registerSyntheticSymbol(s,null,"Number",this)}returnType(s,n){return s.getCType(n.argumentList.elements[0])==B?B:W}createTemplate(s,n){return new ri(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return null}};Zs=V([lr],Zs);var ri=class extends j{constructor(n,i){super();this.call="";this.arg=U.createForNode(n,i.argumentList.elements[0]);let u=n.root.typeHelper.getCType(i.argumentList.elements[0]);u!=B&&u!=W?(this.call="str_to_int16_t",n.root.headerFlags.str_to_int16_t=!0):u==W&&(this.call="js_var_to_number",n.root.headerFlags.js_var_to_number=!0)}};ri=V([O(`
{#if call}
    {call}({arg})
{#else}
    {arg}
{/if}`)],ri);var ni=Ae(Ce());var eo=class{addSymbols(s,n){this.symbolHelper=n,this.consoleSymbol=n.registerSyntheticSymbol(s,null,"console"),n.registerSyntheticSymbol(s,this.consoleSymbol,"log",this)}returnType(s,n){return Ir}createTemplate(s,n){return new ai(s,n)}needsDisposal(s,n){return!1}getTempVarName(s,n){return null}getEscapeNode(s,n){return null}};eo=V([lr],eo);var ai=class extends j{constructor(n,i){super();this.printfCalls=[];this.printfCall=null;let u=[],m=i.argumentList.elements;for(let x=0;x<m.length;x++){let k=m[x],y=Wl(n,k),N="";y=y.reduce((E,P)=>(Oe(P.node)?N+=U.templateToString(new Lt(n,P.node)).slice(1,-1):(E.push(P),P.prefix=N,N=""),E),[]),N&&(y.length?y[y.length-1].postfix=N:y.push({node:k,prefix:"",postfix:""}));for(let E=0;E<y.length;E++){let{node:P,prefix:R,postfix:L}=y[E],se=n.root.typeHelper.getCType(P),ge=hr(P).some(v=>Gp(v)),be="";if(ge&&(se instanceof D||se instanceof me||se instanceof ae||se===W)){let v=n.root.symbolsHelper.addTemp(P,"tmp_result"),C=se;C instanceof D&&!C.isDynamicArray&&(C=Ar(C.elementType)+"*"),n.variables.push(new q(n,v,C)),u.push(new kt(n,v,null,C,P,!1)),be=v}else Oe(P)?be=U.templateToString(new Lt(n,P)).slice(1,-1).replace(/%/g,"%%"):be=U.templateToString(U.createForNode(n,P));let Se={prefix:(x>0&&E==0?" ":"")+R.replace(/%/g,"%%"),postfix:L.replace(/%/g,"%%")+(x==m.length-1&&E==y.length-1?"\\n":"")};u.push(new yr(n,P,be,se,Se))}}this.printfCalls=u.slice(0,-1),this.printfCall=u[u.length-1],n.root.headerFlags.printf=!0}};ai=V([O(`
{#statements}
    {#if printfCalls.length}
        {printfCalls => {this}
}
    {/if}
{/statements}
{printfCall}`)],ai);function Wl(t,s){if(t.root.typeHelper.getCType(s)==Y&&yt(s)&&s.operatorToken.kind==ni.SyntaxKind.Add){let i=Wl(t,s.left),u=Wl(t,s.right);return[].concat(i,u)}return[{node:s,prefix:"",postfix:""}]}var yr=class{constructor(s,n,i,u,m){this.accessor=i;this.isStringLiteral=!1;this.quoted=!1;this.isCString=!1;this.isRegex=!1;this.isInteger=!1;this.isBoolean=!1;this.isDict=!1;this.isStruct=!1;this.isArray=!1;this.isStaticArray=!1;this.isUniversalVar=!1;this.elementPrintfs=[];this.elementFormatString="";this.propPrefix="";this.INDENT="";if(this.isStringLiteral=u==Y&&n.kind==ni.SyntaxKind.StringLiteral,this.isCString=u==Y||u instanceof D&&u.elementType===Cp,this.isRegex=u==Yt,this.isInteger=u==B,this.isBoolean=u==_e,this.isUniversalVar=u==W,this.quoted=m.quotedString,this.isUniversalVar&&(this.tempVarName=s.root.symbolsHelper.addTemp(n,"tmp_str",!1),this.needDisposeVarName=s.root.symbolsHelper.addTemp(n,"tmp_need_dispose",!1),s.variables.some(x=>x.name==this.tempVarName)||s.variables.push(new q(s,this.tempVarName,Y)),s.variables.some(x=>x.name==this.needDisposeVarName)||s.variables.push(new q(s,this.needDisposeVarName,_e)),s.root.headerFlags.js_var_to_str=!0),this.PREFIX=m.prefix||"",this.POSTFIX=m.postfix||"",m.propName&&(this.PREFIX=this.PREFIX+m.propName+": "),m.indent&&(this.INDENT=m.indent),u instanceof D&&!this.isCString){if(this.isArray=!0,this.isStaticArray=!u.isDynamicArray,this.elementFormatString=u.elementType==B?"%d":u.elementType==Y?'\\"%s\\"':"",this.arraySize=u.isDynamicArray?i+"->size":u.capacity+"",!this.isStaticArray||!this.elementFormatString||u.capacity>3){this.iteratorVarName=s.root.symbolsHelper.addIterator(n),s.variables.push(new q(s,this.iteratorVarName,B));let x=i+(u.isDynamicArray?"->data":"")+"["+this.iteratorVarName+"]",k={quotedString:!0,indent:this.INDENT+"    "};this.elementPrintfs=[new yr(s,n,x,u.elementType,k)]}}else if(u instanceof ae){this.isDict=!0,this.iteratorVarName=s.root.symbolsHelper.addIterator(n),s.variables.push(new q(s,this.iteratorVarName,B));let x={quotedString:!0,indent:this.INDENT+"    "};this.elementPrintfs=[new yr(s,n,i+"->values->data["+this.iteratorVarName+"]",u.elementType,x)]}else if(u instanceof me){this.isStruct=!0;for(let x in u.properties){let k={quotedString:!0,propName:x,indent:this.INDENT+"    "};if(u.propertyDefs[x].recursive){let y="[object Object]",N=ni.createStringLiteral(y,y,0,-1,-1);this.elementPrintfs.push(new yr(s,N,y,Y,k))}else{let y=i+"->"+x;this.elementPrintfs.push(new yr(s,n,y,u.properties[x],k))}}}}};yr=V([O(`
{#if isStringLiteral}
    printf("{PREFIX}{accessor}{POSTFIX}");
{#elseif isCString && quoted}
    printf("{PREFIX}\\"%s\\"{POSTFIX}", {accessor});
{#elseif isCString}
    printf("{PREFIX}%s{POSTFIX}", {accessor});
{#elseif isRegex}
    printf("{PREFIX}%s{POSTFIX}", {accessor}.str);
{#elseif isInteger}
    printf("{PREFIX}%d{POSTFIX}", {accessor});
{#elseif isBoolean && !PREFIX && !POSTFIX}
    printf({accessor} ? "true" : "false");
{#elseif isBoolean && (PREFIX || POSTFIX)}
    printf("{PREFIX}%s{POSTFIX}", {accessor} ? "true" : "false");
{#elseif isDict}
    printf("{PREFIX}{ ");
    {INDENT}for ({iteratorVarName} = 0; {iteratorVarName} < {accessor}->index->size; {iteratorVarName}++) {
    {INDENT}    if ({iteratorVarName} != 0)
    {INDENT}        printf(", ");
    {INDENT}    printf("\\"%s\\": ", {accessor}->index->data[{iteratorVarName}]);
    {INDENT}    {elementPrintfs}
    {INDENT}}
    {INDENT}printf(" }{POSTFIX}");
{#elseif isStruct}
    printf("{PREFIX}{ ");
    {INDENT}{elementPrintfs {    printf(", ");
    }=> {this}}
    {INDENT}printf(" }{POSTFIX}");
{#elseif isStaticArray && elementFormatString && +arraySize==1}
    printf("{PREFIX}[ {elementFormatString} ]{POSTFIX}", {accessor}[0]);
{#elseif isStaticArray && elementFormatString && +arraySize==2}
    printf("{PREFIX}[ {elementFormatString}, {elementFormatString} ]{POSTFIX}", {accessor}[0], {accessor}[1]);
{#elseif isStaticArray && elementFormatString && +arraySize==3}
    printf("{PREFIX}[ {elementFormatString}, {elementFormatString}, {elementFormatString} ]{POSTFIX}", {accessor}[0], {accessor}[1], {accessor}[2]);
{#elseif isArray}
    printf("{PREFIX}[ ");
    {INDENT}for ({iteratorVarName} = 0; {iteratorVarName} < {arraySize}; {iteratorVarName}++) {
    {INDENT}    if ({iteratorVarName} != 0)
    {INDENT}        printf(", ");
    {INDENT}    {elementPrintfs}
    {INDENT}}
    {INDENT}printf(" ]{POSTFIX}");
{#elseif isUniversalVar && quoted}
    printf({accessor}.type == JS_VAR_STRING ? "{PREFIX}\\"%s\\"{POSTFIX}" : "{PREFIX}%s{POSTFIX}", {tempVarName} = js_var_to_str({accessor}, &{needDisposeVarName}));
    {INDENT}if ({needDisposeVarName})
    {INDENT}    free((void *){tempVarName});
{#elseif isUniversalVar}
    printf("{PREFIX}%s{POSTFIX}", {tempVarName} = js_var_to_str({accessor}, &{needDisposeVarName}));
    {INDENT}if ({needDisposeVarName})
    {INDENT}    free((void *){tempVarName});
{#else}
    printf(/* Unsupported printf expression */);
{/if}`)],yr);var to=class{addSymbols(s,n){this.symbolHelper=n,this.uint8arraySymbol=n.registerSyntheticSymbol(s,null,"Uint8Array",this)}returnType(s,n){let i=10;if(n.argumentList.elements.length===1&&Ye(n.argumentList.elements[0]))return i=+n.argumentList.elements[0].text,new D("char",i,!1);if(n.argumentList.elements.length===1&&s.getCType(n.argumentList.elements[0])===B)return new D("char",0,!0);console.error('Only "new Uint8Array(length)" is supported.')}createTemplate(s,n){return new ii(s,n)}needsDisposal(s,n){return n.argumentList.elements.length===1&&!Ye(n.argumentList.elements[0])}getTempVarName(s,n){return"tmp_byte_array"}getEscapeNode(s,n){return null}};to=V([lr],to);var ii=class extends j{constructor(n,i){super();this.isDynamic=!1;this.arg=null;this.tmpVarName="";this.gcVarName="";this.arg=U.createForNode(n,i.argumentList.elements[0]),this.isDynamic=!Ye(i.argumentList.elements[0]),this.isDynamic&&(this.tmpVarName=n.root.memoryManager.getReservedTemporaryVarName(i),n.variables.push(new q(n,this.tmpVarName,"char *")),this.gcVarName=n.root.memoryManager.getGCVariableForNode(i),this.gcVarName&&(n.root.headerFlags.gc_iterator=!0))}};ii=V([O(`
    {#if isDynamic}
        {tmpVarName} = malloc({arg});
        assert({tmpVarName} != NULL);
    {/if}
    {#if gcVarName}
        ARRAY_PUSH({gcVarName}, (void *){tmpVarName});
    {/if}
`)],ii);function Fy(t,s){let n=s?.fileName||"__main__.ts",i=n.lastIndexOf("/"),u="",m="common.h";i>-1&&(u=n.substring(0,i),m=u+"/common.h");let x=typeof process=="object"?gl("node:perf_hooks").performance:Date,k=x.now();var y=Ii(n,t,{useColors:s?.terminal});if(console.log("parse:",x.now()-k),y.fatalErrors.length>0)if(s?.terminal&&typeof process=="object")process.exit(1);else{let v=`/*
`+y.fatalErrors.join(`
`)+`
*/`;return s?.multiFiles?[{fileName:y.rootNode.fileName.replace(/(\.ts|\.js)$/,".c"),source:v}]:v}let N=x.now(),E=new ns,{rootNodes:P,nodes:R}=$p(y.rootNode,n,E);R.sort((v,C)=>C.rootId-v.rootId||v.start-C.start),console.log("process ast:",x.now()-N);let L=x.now(),se=new ds(E);se.inferTypes(R),console.log("infer types:",x.now()-L);let de=x.now(),ge=new cs(se,E,se.standardCallHelper);ge.scheduleNodeDisposals(R),console.log("escape analysis:",x.now()-de);let be=[],Se=null;P.filter(v=>!v.fileName.endsWith(".d.ts")).length>1&&(Se=new nn);for(let v of P){if(v.fileName.endsWith(".d.ts"))continue;let C=x.now(),Xe=new ba(v,Se,E,se,se.standardCallHelper,ge),G=Xe.resolve(),Ee=v.fileName.replace(/(\.ts|\.js)$/,".c");if(console.log("emit "+Ee+":",x.now()-C),E.exportedSymbols[v.id]){let fe=x.now(),$e=new Na(Xe,v,E,se).resolve(),et=v.fileName.replace(/(\.ts|\.js)$/,".h");console.log("emit "+et+":",x.now()-fe),be.push({fileName:et,source:$e})}be.push({fileName:Ee,source:G})}if(Se!==null){let v=x.now();be.unshift({fileName:m,source:new Or(Se,!0).resolve()}),console.log("emit common.h:",x.now()-v)}return s?.multiFiles?be:be.length>1?be.map(v=>"/* File: "+v.fileName+` */

`+v.source).join(`

`):be[0].source}return xy(Cy);})();
